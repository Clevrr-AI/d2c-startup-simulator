(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Kv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Lp={exports:{}},_a={},jp={exports:{}},K={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ws=Symbol.for("react.element"),Yv=Symbol.for("react.portal"),Xv=Symbol.for("react.fragment"),Jv=Symbol.for("react.strict_mode"),Zv=Symbol.for("react.profiler"),e0=Symbol.for("react.provider"),t0=Symbol.for("react.context"),n0=Symbol.for("react.forward_ref"),r0=Symbol.for("react.suspense"),i0=Symbol.for("react.memo"),s0=Symbol.for("react.lazy"),Ed=Symbol.iterator;function o0(t){return t===null||typeof t!="object"?null:(t=Ed&&t[Ed]||t["@@iterator"],typeof t=="function"?t:null)}var Fp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Up=Object.assign,Bp={};function Zr(t,e,n){this.props=t,this.context=e,this.refs=Bp,this.updater=n||Fp}Zr.prototype.isReactComponent={};Zr.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Zr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function zp(){}zp.prototype=Zr.prototype;function rc(t,e,n){this.props=t,this.context=e,this.refs=Bp,this.updater=n||Fp}var ic=rc.prototype=new zp;ic.constructor=rc;Up(ic,Zr.prototype);ic.isPureReactComponent=!0;var Td=Array.isArray,Hp=Object.prototype.hasOwnProperty,sc={current:null},$p={key:!0,ref:!0,__self:!0,__source:!0};function Gp(t,e,n){var r,i={},s=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)Hp.call(e,r)&&!$p.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];i.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:ws,type:t,key:s,ref:a,props:i,_owner:sc.current}}function a0(t,e){return{$$typeof:ws,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function oc(t){return typeof t=="object"&&t!==null&&t.$$typeof===ws}function l0(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var xd=/\/+/g;function fl(t,e){return typeof t=="object"&&t!==null&&t.key!=null?l0(""+t.key):e.toString(36)}function yo(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case ws:case Yv:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+fl(a,0):r,Td(i)?(n="",t!=null&&(n=t.replace(xd,"$&/")+"/"),yo(i,e,n,"",function(d){return d})):i!=null&&(oc(i)&&(i=a0(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(xd,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",Td(t))for(var l=0;l<t.length;l++){s=t[l];var c=r+fl(s,l);a+=yo(s,e,n,c,i)}else if(c=o0(t),typeof c=="function")for(t=c.call(t),l=0;!(s=t.next()).done;)s=s.value,c=r+fl(s,l++),a+=yo(s,e,n,c,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function qs(t,e,n){if(t==null)return t;var r=[],i=0;return yo(t,r,"","",function(s){return e.call(n,s,i++)}),r}function u0(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ze={current:null},vo={transition:null},c0={ReactCurrentDispatcher:Ze,ReactCurrentBatchConfig:vo,ReactCurrentOwner:sc};function Wp(){throw Error("act(...) is not supported in production builds of React.")}K.Children={map:qs,forEach:function(t,e,n){qs(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return qs(t,function(){e++}),e},toArray:function(t){return qs(t,function(e){return e})||[]},only:function(t){if(!oc(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};K.Component=Zr;K.Fragment=Xv;K.Profiler=Zv;K.PureComponent=rc;K.StrictMode=Jv;K.Suspense=r0;K.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=c0;K.act=Wp;K.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Up({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=sc.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)Hp.call(e,c)&&!$p.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];r.children=l}return{$$typeof:ws,type:t.type,key:i,ref:s,props:r,_owner:a}};K.createContext=function(t){return t={$$typeof:t0,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:e0,_context:t},t.Consumer=t};K.createElement=Gp;K.createFactory=function(t){var e=Gp.bind(null,t);return e.type=t,e};K.createRef=function(){return{current:null}};K.forwardRef=function(t){return{$$typeof:n0,render:t}};K.isValidElement=oc;K.lazy=function(t){return{$$typeof:s0,_payload:{_status:-1,_result:t},_init:u0}};K.memo=function(t,e){return{$$typeof:i0,type:t,compare:e===void 0?null:e}};K.startTransition=function(t){var e=vo.transition;vo.transition={};try{t()}finally{vo.transition=e}};K.unstable_act=Wp;K.useCallback=function(t,e){return Ze.current.useCallback(t,e)};K.useContext=function(t){return Ze.current.useContext(t)};K.useDebugValue=function(){};K.useDeferredValue=function(t){return Ze.current.useDeferredValue(t)};K.useEffect=function(t,e){return Ze.current.useEffect(t,e)};K.useId=function(){return Ze.current.useId()};K.useImperativeHandle=function(t,e,n){return Ze.current.useImperativeHandle(t,e,n)};K.useInsertionEffect=function(t,e){return Ze.current.useInsertionEffect(t,e)};K.useLayoutEffect=function(t,e){return Ze.current.useLayoutEffect(t,e)};K.useMemo=function(t,e){return Ze.current.useMemo(t,e)};K.useReducer=function(t,e,n){return Ze.current.useReducer(t,e,n)};K.useRef=function(t){return Ze.current.useRef(t)};K.useState=function(t){return Ze.current.useState(t)};K.useSyncExternalStore=function(t,e,n){return Ze.current.useSyncExternalStore(t,e,n)};K.useTransition=function(){return Ze.current.useTransition()};K.version="18.3.1";jp.exports=K;var Se=jp.exports;const pl=Kv(Se);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h0=Se,d0=Symbol.for("react.element"),f0=Symbol.for("react.fragment"),p0=Object.prototype.hasOwnProperty,m0=h0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,g0={key:!0,ref:!0,__self:!0,__source:!0};function Qp(t,e,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)p0.call(e,r)&&!g0.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:d0,type:t,key:s,ref:a,props:i,_owner:m0.current}}_a.Fragment=f0;_a.jsx=Qp;_a.jsxs=Qp;Lp.exports=_a;var A=Lp.exports,qp={exports:{}},ft={},Kp={exports:{}},Yp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(B,G){var W=B.length;B.push(G);e:for(;0<W;){var he=W-1>>>1,ne=B[he];if(0<i(ne,G))B[he]=G,B[W]=ne,W=he;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var G=B[0],W=B.pop();if(W!==G){B[0]=W;e:for(var he=0,ne=B.length,_e=ne>>>1;he<_e;){var zt=2*(he+1)-1,Ht=B[zt],$t=zt+1,Gt=B[$t];if(0>i(Ht,W))$t<ne&&0>i(Gt,Ht)?(B[he]=Gt,B[$t]=W,he=$t):(B[he]=Ht,B[zt]=W,he=zt);else if($t<ne&&0>i(Gt,W))B[he]=Gt,B[$t]=W,he=$t;else break e}}return G}function i(B,G){var W=B.sortIndex-G.sortIndex;return W!==0?W:B.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],d=[],g=1,m=null,y=3,R=!1,P=!1,D=!1,j=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(B){for(var G=n(d);G!==null;){if(G.callback===null)r(d);else if(G.startTime<=B)r(d),G.sortIndex=G.expirationTime,e(c,G);else break;G=n(d)}}function V(B){if(D=!1,S(B),!P)if(n(c)!==null)P=!0,oi(F);else{var G=n(d);G!==null&&Bt(V,G.startTime-B)}}function F(B,G){P=!1,D&&(D=!1,x(p),p=-1),R=!0;var W=y;try{for(S(G),m=n(c);m!==null&&(!(m.expirationTime>G)||B&&!I());){var he=m.callback;if(typeof he=="function"){m.callback=null,y=m.priorityLevel;var ne=he(m.expirationTime<=G);G=t.unstable_now(),typeof ne=="function"?m.callback=ne:m===n(c)&&r(c),S(G)}else r(c);m=n(c)}if(m!==null)var _e=!0;else{var zt=n(d);zt!==null&&Bt(V,zt.startTime-G),_e=!1}return _e}finally{m=null,y=W,R=!1}}var U=!1,w=null,p=-1,v=5,T=-1;function I(){return!(t.unstable_now()-T<v)}function C(){if(w!==null){var B=t.unstable_now();T=B;var G=!0;try{G=w(!0,B)}finally{G?E():(U=!1,w=null)}}else U=!1}var E;if(typeof _=="function")E=function(){_(C)};else if(typeof MessageChannel<"u"){var mt=new MessageChannel,jn=mt.port2;mt.port1.onmessage=C,E=function(){jn.postMessage(null)}}else E=function(){j(C,0)};function oi(B){w=B,U||(U=!0,E())}function Bt(B,G){p=j(function(){B(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){P||R||(P=!0,oi(F))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):v=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(B){switch(y){case 1:case 2:case 3:var G=3;break;default:G=y}var W=y;y=G;try{return B()}finally{y=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,G){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var W=y;y=B;try{return G()}finally{y=W}},t.unstable_scheduleCallback=function(B,G,W){var he=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?he+W:he):W=he,B){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=W+ne,B={id:g++,callback:G,priorityLevel:B,startTime:W,expirationTime:ne,sortIndex:-1},W>he?(B.sortIndex=W,e(d,B),n(c)===null&&B===n(d)&&(D?(x(p),p=-1):D=!0,Bt(V,W-he))):(B.sortIndex=ne,e(c,B),P||R||(P=!0,oi(F))),B},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(B){var G=y;return function(){var W=y;y=G;try{return B.apply(this,arguments)}finally{y=W}}}})(Yp);Kp.exports=Yp;var y0=Kp.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v0=Se,dt=y0;function M(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Xp=new Set,qi={};function ur(t,e){Br(t,e),Br(t+"Capture",e)}function Br(t,e){for(qi[t]=e,t=0;t<e.length;t++)Xp.add(e[t])}var tn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ql=Object.prototype.hasOwnProperty,_0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Sd={},Id={};function w0(t){return Ql.call(Id,t)?!0:Ql.call(Sd,t)?!1:_0.test(t)?Id[t]=!0:(Sd[t]=!0,!1)}function E0(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function T0(t,e,n,r){if(e===null||typeof e>"u"||E0(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function et(t,e,n,r,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var je={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){je[t]=new et(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];je[e]=new et(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){je[t]=new et(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){je[t]=new et(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){je[t]=new et(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){je[t]=new et(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){je[t]=new et(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){je[t]=new et(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){je[t]=new et(t,5,!1,t.toLowerCase(),null,!1,!1)});var ac=/[\-:]([a-z])/g;function lc(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ac,lc);je[e]=new et(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ac,lc);je[e]=new et(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ac,lc);je[e]=new et(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){je[t]=new et(t,1,!1,t.toLowerCase(),null,!1,!1)});je.xlinkHref=new et("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){je[t]=new et(t,1,!1,t.toLowerCase(),null,!0,!0)});function uc(t,e,n,r){var i=je.hasOwnProperty(e)?je[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(T0(e,n,i,r)&&(n=null),r||i===null?w0(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var an=v0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ks=Symbol.for("react.element"),Er=Symbol.for("react.portal"),Tr=Symbol.for("react.fragment"),cc=Symbol.for("react.strict_mode"),ql=Symbol.for("react.profiler"),Jp=Symbol.for("react.provider"),Zp=Symbol.for("react.context"),hc=Symbol.for("react.forward_ref"),Kl=Symbol.for("react.suspense"),Yl=Symbol.for("react.suspense_list"),dc=Symbol.for("react.memo"),dn=Symbol.for("react.lazy"),em=Symbol.for("react.offscreen"),Ad=Symbol.iterator;function wi(t){return t===null||typeof t!="object"?null:(t=Ad&&t[Ad]||t["@@iterator"],typeof t=="function"?t:null)}var pe=Object.assign,ml;function Ri(t){if(ml===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ml=e&&e[1]||""}return`
`+ml+t}var gl=!1;function yl(t,e){if(!t||gl)return"";gl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,l=s.length-1;1<=a&&0<=l&&i[a]!==s[l];)l--;for(;1<=a&&0<=l;a--,l--)if(i[a]!==s[l]){if(a!==1||l!==1)do if(a--,l--,0>l||i[a]!==s[l]){var c=`
`+i[a].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=a&&0<=l);break}}}finally{gl=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ri(t):""}function x0(t){switch(t.tag){case 5:return Ri(t.type);case 16:return Ri("Lazy");case 13:return Ri("Suspense");case 19:return Ri("SuspenseList");case 0:case 2:case 15:return t=yl(t.type,!1),t;case 11:return t=yl(t.type.render,!1),t;case 1:return t=yl(t.type,!0),t;default:return""}}function Xl(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Tr:return"Fragment";case Er:return"Portal";case ql:return"Profiler";case cc:return"StrictMode";case Kl:return"Suspense";case Yl:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Zp:return(t.displayName||"Context")+".Consumer";case Jp:return(t._context.displayName||"Context")+".Provider";case hc:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case dc:return e=t.displayName||null,e!==null?e:Xl(t.type)||"Memo";case dn:e=t._payload,t=t._init;try{return Xl(t(e))}catch{}}return null}function S0(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Xl(e);case 8:return e===cc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Rn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function tm(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function I0(t){var e=tm(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ys(t){t._valueTracker||(t._valueTracker=I0(t))}function nm(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=tm(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Vo(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Jl(t,e){var n=e.checked;return pe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function kd(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Rn(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function rm(t,e){e=e.checked,e!=null&&uc(t,"checked",e,!1)}function Zl(t,e){rm(t,e);var n=Rn(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?eu(t,e.type,n):e.hasOwnProperty("defaultValue")&&eu(t,e.type,Rn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Cd(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function eu(t,e,n){(e!=="number"||Vo(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Pi=Array.isArray;function Vr(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Rn(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function tu(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(M(91));return pe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Rd(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(M(92));if(Pi(n)){if(1<n.length)throw Error(M(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Rn(n)}}function im(t,e){var n=Rn(e.value),r=Rn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Pd(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function sm(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function nu(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?sm(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Xs,om=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Xs=Xs||document.createElement("div"),Xs.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Xs.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ki(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var bi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},A0=["Webkit","ms","Moz","O"];Object.keys(bi).forEach(function(t){A0.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),bi[e]=bi[t]})});function am(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||bi.hasOwnProperty(t)&&bi[t]?(""+e).trim():e+"px"}function lm(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=am(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var k0=pe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ru(t,e){if(e){if(k0[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(M(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(M(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(M(61))}if(e.style!=null&&typeof e.style!="object")throw Error(M(62))}}function iu(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var su=null;function fc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ou=null,br=null,Mr=null;function Nd(t){if(t=xs(t)){if(typeof ou!="function")throw Error(M(280));var e=t.stateNode;e&&(e=Sa(e),ou(t.stateNode,t.type,e))}}function um(t){br?Mr?Mr.push(t):Mr=[t]:br=t}function cm(){if(br){var t=br,e=Mr;if(Mr=br=null,Nd(t),e)for(t=0;t<e.length;t++)Nd(e[t])}}function hm(t,e){return t(e)}function dm(){}var vl=!1;function fm(t,e,n){if(vl)return t(e,n);vl=!0;try{return hm(t,e,n)}finally{vl=!1,(br!==null||Mr!==null)&&(dm(),cm())}}function Yi(t,e){var n=t.stateNode;if(n===null)return null;var r=Sa(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(M(231,e,typeof n));return n}var au=!1;if(tn)try{var Ei={};Object.defineProperty(Ei,"passive",{get:function(){au=!0}}),window.addEventListener("test",Ei,Ei),window.removeEventListener("test",Ei,Ei)}catch{au=!1}function C0(t,e,n,r,i,s,a,l,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(g){this.onError(g)}}var Mi=!1,bo=null,Mo=!1,lu=null,R0={onError:function(t){Mi=!0,bo=t}};function P0(t,e,n,r,i,s,a,l,c){Mi=!1,bo=null,C0.apply(R0,arguments)}function N0(t,e,n,r,i,s,a,l,c){if(P0.apply(this,arguments),Mi){if(Mi){var d=bo;Mi=!1,bo=null}else throw Error(M(198));Mo||(Mo=!0,lu=d)}}function cr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function pm(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Dd(t){if(cr(t)!==t)throw Error(M(188))}function D0(t){var e=t.alternate;if(!e){if(e=cr(t),e===null)throw Error(M(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Dd(i),t;if(s===r)return Dd(i),e;s=s.sibling}throw Error(M(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a)throw Error(M(189))}}if(n.alternate!==r)throw Error(M(190))}if(n.tag!==3)throw Error(M(188));return n.stateNode.current===n?t:e}function mm(t){return t=D0(t),t!==null?gm(t):null}function gm(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=gm(t);if(e!==null)return e;t=t.sibling}return null}var ym=dt.unstable_scheduleCallback,Vd=dt.unstable_cancelCallback,V0=dt.unstable_shouldYield,b0=dt.unstable_requestPaint,we=dt.unstable_now,M0=dt.unstable_getCurrentPriorityLevel,pc=dt.unstable_ImmediatePriority,vm=dt.unstable_UserBlockingPriority,Oo=dt.unstable_NormalPriority,O0=dt.unstable_LowPriority,_m=dt.unstable_IdlePriority,wa=null,Lt=null;function L0(t){if(Lt&&typeof Lt.onCommitFiberRoot=="function")try{Lt.onCommitFiberRoot(wa,t,void 0,(t.current.flags&128)===128)}catch{}}var Pt=Math.clz32?Math.clz32:U0,j0=Math.log,F0=Math.LN2;function U0(t){return t>>>=0,t===0?32:31-(j0(t)/F0|0)|0}var Js=64,Zs=4194304;function Ni(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Lo(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,a=n&268435455;if(a!==0){var l=a&~i;l!==0?r=Ni(l):(s&=a,s!==0&&(r=Ni(s)))}else a=n&~i,a!==0?r=Ni(a):s!==0&&(r=Ni(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Pt(e),i=1<<n,r|=t[n],e&=~i;return r}function B0(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function z0(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-Pt(s),l=1<<a,c=i[a];c===-1?(!(l&n)||l&r)&&(i[a]=B0(l,e)):c<=e&&(t.expiredLanes|=l),s&=~l}}function uu(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function wm(){var t=Js;return Js<<=1,!(Js&4194240)&&(Js=64),t}function _l(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Es(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Pt(e),t[e]=n}function H0(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Pt(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function mc(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Pt(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var te=0;function Em(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Tm,gc,xm,Sm,Im,cu=!1,eo=[],vn=null,_n=null,wn=null,Xi=new Map,Ji=new Map,pn=[],$0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function bd(t,e){switch(t){case"focusin":case"focusout":vn=null;break;case"dragenter":case"dragleave":_n=null;break;case"mouseover":case"mouseout":wn=null;break;case"pointerover":case"pointerout":Xi.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ji.delete(e.pointerId)}}function Ti(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=xs(e),e!==null&&gc(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function G0(t,e,n,r,i){switch(e){case"focusin":return vn=Ti(vn,t,e,n,r,i),!0;case"dragenter":return _n=Ti(_n,t,e,n,r,i),!0;case"mouseover":return wn=Ti(wn,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Xi.set(s,Ti(Xi.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ji.set(s,Ti(Ji.get(s)||null,t,e,n,r,i)),!0}return!1}function Am(t){var e=Wn(t.target);if(e!==null){var n=cr(e);if(n!==null){if(e=n.tag,e===13){if(e=pm(n),e!==null){t.blockedOn=e,Im(t.priority,function(){xm(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function _o(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=hu(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);su=r,n.target.dispatchEvent(r),su=null}else return e=xs(n),e!==null&&gc(e),t.blockedOn=n,!1;e.shift()}return!0}function Md(t,e,n){_o(t)&&n.delete(e)}function W0(){cu=!1,vn!==null&&_o(vn)&&(vn=null),_n!==null&&_o(_n)&&(_n=null),wn!==null&&_o(wn)&&(wn=null),Xi.forEach(Md),Ji.forEach(Md)}function xi(t,e){t.blockedOn===e&&(t.blockedOn=null,cu||(cu=!0,dt.unstable_scheduleCallback(dt.unstable_NormalPriority,W0)))}function Zi(t){function e(i){return xi(i,t)}if(0<eo.length){xi(eo[0],t);for(var n=1;n<eo.length;n++){var r=eo[n];r.blockedOn===t&&(r.blockedOn=null)}}for(vn!==null&&xi(vn,t),_n!==null&&xi(_n,t),wn!==null&&xi(wn,t),Xi.forEach(e),Ji.forEach(e),n=0;n<pn.length;n++)r=pn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<pn.length&&(n=pn[0],n.blockedOn===null);)Am(n),n.blockedOn===null&&pn.shift()}var Or=an.ReactCurrentBatchConfig,jo=!0;function Q0(t,e,n,r){var i=te,s=Or.transition;Or.transition=null;try{te=1,yc(t,e,n,r)}finally{te=i,Or.transition=s}}function q0(t,e,n,r){var i=te,s=Or.transition;Or.transition=null;try{te=4,yc(t,e,n,r)}finally{te=i,Or.transition=s}}function yc(t,e,n,r){if(jo){var i=hu(t,e,n,r);if(i===null)Rl(t,e,r,Fo,n),bd(t,r);else if(G0(i,t,e,n,r))r.stopPropagation();else if(bd(t,r),e&4&&-1<$0.indexOf(t)){for(;i!==null;){var s=xs(i);if(s!==null&&Tm(s),s=hu(t,e,n,r),s===null&&Rl(t,e,r,Fo,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Rl(t,e,r,null,n)}}var Fo=null;function hu(t,e,n,r){if(Fo=null,t=fc(r),t=Wn(t),t!==null)if(e=cr(t),e===null)t=null;else if(n=e.tag,n===13){if(t=pm(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Fo=t,null}function km(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(M0()){case pc:return 1;case vm:return 4;case Oo:case O0:return 16;case _m:return 536870912;default:return 16}default:return 16}}var gn=null,vc=null,wo=null;function Cm(){if(wo)return wo;var t,e=vc,n=e.length,r,i="value"in gn?gn.value:gn.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[s-r];r++);return wo=i.slice(t,1<r?1-r:void 0)}function Eo(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function to(){return!0}function Od(){return!1}function pt(t){function e(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?to:Od,this.isPropagationStopped=Od,this}return pe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=to)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=to)},persist:function(){},isPersistent:to}),e}var ei={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_c=pt(ei),Ts=pe({},ei,{view:0,detail:0}),K0=pt(Ts),wl,El,Si,Ea=pe({},Ts,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Si&&(Si&&t.type==="mousemove"?(wl=t.screenX-Si.screenX,El=t.screenY-Si.screenY):El=wl=0,Si=t),wl)},movementY:function(t){return"movementY"in t?t.movementY:El}}),Ld=pt(Ea),Y0=pe({},Ea,{dataTransfer:0}),X0=pt(Y0),J0=pe({},Ts,{relatedTarget:0}),Tl=pt(J0),Z0=pe({},ei,{animationName:0,elapsedTime:0,pseudoElement:0}),e1=pt(Z0),t1=pe({},ei,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),n1=pt(t1),r1=pe({},ei,{data:0}),jd=pt(r1),i1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},s1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},o1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function a1(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=o1[t])?!!e[t]:!1}function wc(){return a1}var l1=pe({},Ts,{key:function(t){if(t.key){var e=i1[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Eo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?s1[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wc,charCode:function(t){return t.type==="keypress"?Eo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Eo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),u1=pt(l1),c1=pe({},Ea,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fd=pt(c1),h1=pe({},Ts,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wc}),d1=pt(h1),f1=pe({},ei,{propertyName:0,elapsedTime:0,pseudoElement:0}),p1=pt(f1),m1=pe({},Ea,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),g1=pt(m1),y1=[9,13,27,32],Ec=tn&&"CompositionEvent"in window,Oi=null;tn&&"documentMode"in document&&(Oi=document.documentMode);var v1=tn&&"TextEvent"in window&&!Oi,Rm=tn&&(!Ec||Oi&&8<Oi&&11>=Oi),Ud=" ",Bd=!1;function Pm(t,e){switch(t){case"keyup":return y1.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nm(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var xr=!1;function _1(t,e){switch(t){case"compositionend":return Nm(e);case"keypress":return e.which!==32?null:(Bd=!0,Ud);case"textInput":return t=e.data,t===Ud&&Bd?null:t;default:return null}}function w1(t,e){if(xr)return t==="compositionend"||!Ec&&Pm(t,e)?(t=Cm(),wo=vc=gn=null,xr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Rm&&e.locale!=="ko"?null:e.data;default:return null}}var E1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!E1[t.type]:e==="textarea"}function Dm(t,e,n,r){um(r),e=Uo(e,"onChange"),0<e.length&&(n=new _c("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Li=null,es=null;function T1(t){Hm(t,0)}function Ta(t){var e=Ar(t);if(nm(e))return t}function x1(t,e){if(t==="change")return e}var Vm=!1;if(tn){var xl;if(tn){var Sl="oninput"in document;if(!Sl){var Hd=document.createElement("div");Hd.setAttribute("oninput","return;"),Sl=typeof Hd.oninput=="function"}xl=Sl}else xl=!1;Vm=xl&&(!document.documentMode||9<document.documentMode)}function $d(){Li&&(Li.detachEvent("onpropertychange",bm),es=Li=null)}function bm(t){if(t.propertyName==="value"&&Ta(es)){var e=[];Dm(e,es,t,fc(t)),fm(T1,e)}}function S1(t,e,n){t==="focusin"?($d(),Li=e,es=n,Li.attachEvent("onpropertychange",bm)):t==="focusout"&&$d()}function I1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ta(es)}function A1(t,e){if(t==="click")return Ta(e)}function k1(t,e){if(t==="input"||t==="change")return Ta(e)}function C1(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Dt=typeof Object.is=="function"?Object.is:C1;function ts(t,e){if(Dt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Ql.call(e,i)||!Dt(t[i],e[i]))return!1}return!0}function Gd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Wd(t,e){var n=Gd(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Gd(n)}}function Mm(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Mm(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Om(){for(var t=window,e=Vo();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Vo(t.document)}return e}function Tc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function R1(t){var e=Om(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Mm(n.ownerDocument.documentElement,n)){if(r!==null&&Tc(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Wd(n,s);var a=Wd(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var P1=tn&&"documentMode"in document&&11>=document.documentMode,Sr=null,du=null,ji=null,fu=!1;function Qd(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;fu||Sr==null||Sr!==Vo(r)||(r=Sr,"selectionStart"in r&&Tc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ji&&ts(ji,r)||(ji=r,r=Uo(du,"onSelect"),0<r.length&&(e=new _c("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Sr)))}function no(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ir={animationend:no("Animation","AnimationEnd"),animationiteration:no("Animation","AnimationIteration"),animationstart:no("Animation","AnimationStart"),transitionend:no("Transition","TransitionEnd")},Il={},Lm={};tn&&(Lm=document.createElement("div").style,"AnimationEvent"in window||(delete Ir.animationend.animation,delete Ir.animationiteration.animation,delete Ir.animationstart.animation),"TransitionEvent"in window||delete Ir.transitionend.transition);function xa(t){if(Il[t])return Il[t];if(!Ir[t])return t;var e=Ir[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Lm)return Il[t]=e[n];return t}var jm=xa("animationend"),Fm=xa("animationiteration"),Um=xa("animationstart"),Bm=xa("transitionend"),zm=new Map,qd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mn(t,e){zm.set(t,e),ur(e,[t])}for(var Al=0;Al<qd.length;Al++){var kl=qd[Al],N1=kl.toLowerCase(),D1=kl[0].toUpperCase()+kl.slice(1);Mn(N1,"on"+D1)}Mn(jm,"onAnimationEnd");Mn(Fm,"onAnimationIteration");Mn(Um,"onAnimationStart");Mn("dblclick","onDoubleClick");Mn("focusin","onFocus");Mn("focusout","onBlur");Mn(Bm,"onTransitionEnd");Br("onMouseEnter",["mouseout","mouseover"]);Br("onMouseLeave",["mouseout","mouseover"]);Br("onPointerEnter",["pointerout","pointerover"]);Br("onPointerLeave",["pointerout","pointerover"]);ur("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ur("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ur("onBeforeInput",["compositionend","keypress","textInput","paste"]);ur("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ur("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ur("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Di="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),V1=new Set("cancel close invalid load scroll toggle".split(" ").concat(Di));function Kd(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,N0(r,e,void 0,t),t.currentTarget=null}function Hm(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var a=r.length-1;0<=a;a--){var l=r[a],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==s&&i.isPropagationStopped())break e;Kd(i,l,d),s=c}else for(a=0;a<r.length;a++){if(l=r[a],c=l.instance,d=l.currentTarget,l=l.listener,c!==s&&i.isPropagationStopped())break e;Kd(i,l,d),s=c}}}if(Mo)throw t=lu,Mo=!1,lu=null,t}function ae(t,e){var n=e[vu];n===void 0&&(n=e[vu]=new Set);var r=t+"__bubble";n.has(r)||($m(e,t,2,!1),n.add(r))}function Cl(t,e,n){var r=0;e&&(r|=4),$m(n,t,r,e)}var ro="_reactListening"+Math.random().toString(36).slice(2);function ns(t){if(!t[ro]){t[ro]=!0,Xp.forEach(function(n){n!=="selectionchange"&&(V1.has(n)||Cl(n,!1,t),Cl(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ro]||(e[ro]=!0,Cl("selectionchange",!1,e))}}function $m(t,e,n,r){switch(km(e)){case 1:var i=Q0;break;case 4:i=q0;break;default:i=yc}n=i.bind(null,e,n,t),i=void 0,!au||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Rl(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;a=a.return}for(;l!==null;){if(a=Wn(l),a===null)return;if(c=a.tag,c===5||c===6){r=s=a;continue e}l=l.parentNode}}r=r.return}fm(function(){var d=s,g=fc(n),m=[];e:{var y=zm.get(t);if(y!==void 0){var R=_c,P=t;switch(t){case"keypress":if(Eo(n)===0)break e;case"keydown":case"keyup":R=u1;break;case"focusin":P="focus",R=Tl;break;case"focusout":P="blur",R=Tl;break;case"beforeblur":case"afterblur":R=Tl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":R=Ld;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":R=X0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":R=d1;break;case jm:case Fm:case Um:R=e1;break;case Bm:R=p1;break;case"scroll":R=K0;break;case"wheel":R=g1;break;case"copy":case"cut":case"paste":R=n1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":R=Fd}var D=(e&4)!==0,j=!D&&t==="scroll",x=D?y!==null?y+"Capture":null:y;D=[];for(var _=d,S;_!==null;){S=_;var V=S.stateNode;if(S.tag===5&&V!==null&&(S=V,x!==null&&(V=Yi(_,x),V!=null&&D.push(rs(_,V,S)))),j)break;_=_.return}0<D.length&&(y=new R(y,P,null,n,g),m.push({event:y,listeners:D}))}}if(!(e&7)){e:{if(y=t==="mouseover"||t==="pointerover",R=t==="mouseout"||t==="pointerout",y&&n!==su&&(P=n.relatedTarget||n.fromElement)&&(Wn(P)||P[nn]))break e;if((R||y)&&(y=g.window===g?g:(y=g.ownerDocument)?y.defaultView||y.parentWindow:window,R?(P=n.relatedTarget||n.toElement,R=d,P=P?Wn(P):null,P!==null&&(j=cr(P),P!==j||P.tag!==5&&P.tag!==6)&&(P=null)):(R=null,P=d),R!==P)){if(D=Ld,V="onMouseLeave",x="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(D=Fd,V="onPointerLeave",x="onPointerEnter",_="pointer"),j=R==null?y:Ar(R),S=P==null?y:Ar(P),y=new D(V,_+"leave",R,n,g),y.target=j,y.relatedTarget=S,V=null,Wn(g)===d&&(D=new D(x,_+"enter",P,n,g),D.target=S,D.relatedTarget=j,V=D),j=V,R&&P)t:{for(D=R,x=P,_=0,S=D;S;S=vr(S))_++;for(S=0,V=x;V;V=vr(V))S++;for(;0<_-S;)D=vr(D),_--;for(;0<S-_;)x=vr(x),S--;for(;_--;){if(D===x||x!==null&&D===x.alternate)break t;D=vr(D),x=vr(x)}D=null}else D=null;R!==null&&Yd(m,y,R,D,!1),P!==null&&j!==null&&Yd(m,j,P,D,!0)}}e:{if(y=d?Ar(d):window,R=y.nodeName&&y.nodeName.toLowerCase(),R==="select"||R==="input"&&y.type==="file")var F=x1;else if(zd(y))if(Vm)F=k1;else{F=I1;var U=S1}else(R=y.nodeName)&&R.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(F=A1);if(F&&(F=F(t,d))){Dm(m,F,n,g);break e}U&&U(t,y,d),t==="focusout"&&(U=y._wrapperState)&&U.controlled&&y.type==="number"&&eu(y,"number",y.value)}switch(U=d?Ar(d):window,t){case"focusin":(zd(U)||U.contentEditable==="true")&&(Sr=U,du=d,ji=null);break;case"focusout":ji=du=Sr=null;break;case"mousedown":fu=!0;break;case"contextmenu":case"mouseup":case"dragend":fu=!1,Qd(m,n,g);break;case"selectionchange":if(P1)break;case"keydown":case"keyup":Qd(m,n,g)}var w;if(Ec)e:{switch(t){case"compositionstart":var p="onCompositionStart";break e;case"compositionend":p="onCompositionEnd";break e;case"compositionupdate":p="onCompositionUpdate";break e}p=void 0}else xr?Pm(t,n)&&(p="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(p="onCompositionStart");p&&(Rm&&n.locale!=="ko"&&(xr||p!=="onCompositionStart"?p==="onCompositionEnd"&&xr&&(w=Cm()):(gn=g,vc="value"in gn?gn.value:gn.textContent,xr=!0)),U=Uo(d,p),0<U.length&&(p=new jd(p,t,null,n,g),m.push({event:p,listeners:U}),w?p.data=w:(w=Nm(n),w!==null&&(p.data=w)))),(w=v1?_1(t,n):w1(t,n))&&(d=Uo(d,"onBeforeInput"),0<d.length&&(g=new jd("onBeforeInput","beforeinput",null,n,g),m.push({event:g,listeners:d}),g.data=w))}Hm(m,e)})}function rs(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Uo(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Yi(t,n),s!=null&&r.unshift(rs(t,s,i)),s=Yi(t,e),s!=null&&r.push(rs(t,s,i))),t=t.return}return r}function vr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Yd(t,e,n,r,i){for(var s=e._reactName,a=[];n!==null&&n!==r;){var l=n,c=l.alternate,d=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&d!==null&&(l=d,i?(c=Yi(n,s),c!=null&&a.unshift(rs(n,c,l))):i||(c=Yi(n,s),c!=null&&a.push(rs(n,c,l)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var b1=/\r\n?/g,M1=/\u0000|\uFFFD/g;function Xd(t){return(typeof t=="string"?t:""+t).replace(b1,`
`).replace(M1,"")}function io(t,e,n){if(e=Xd(e),Xd(t)!==e&&n)throw Error(M(425))}function Bo(){}var pu=null,mu=null;function gu(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var yu=typeof setTimeout=="function"?setTimeout:void 0,O1=typeof clearTimeout=="function"?clearTimeout:void 0,Jd=typeof Promise=="function"?Promise:void 0,L1=typeof queueMicrotask=="function"?queueMicrotask:typeof Jd<"u"?function(t){return Jd.resolve(null).then(t).catch(j1)}:yu;function j1(t){setTimeout(function(){throw t})}function Pl(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Zi(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Zi(e)}function En(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Zd(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ti=Math.random().toString(36).slice(2),Ot="__reactFiber$"+ti,is="__reactProps$"+ti,nn="__reactContainer$"+ti,vu="__reactEvents$"+ti,F1="__reactListeners$"+ti,U1="__reactHandles$"+ti;function Wn(t){var e=t[Ot];if(e)return e;for(var n=t.parentNode;n;){if(e=n[nn]||n[Ot]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Zd(t);t!==null;){if(n=t[Ot])return n;t=Zd(t)}return e}t=n,n=t.parentNode}return null}function xs(t){return t=t[Ot]||t[nn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ar(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(M(33))}function Sa(t){return t[is]||null}var _u=[],kr=-1;function On(t){return{current:t}}function le(t){0>kr||(t.current=_u[kr],_u[kr]=null,kr--)}function ie(t,e){kr++,_u[kr]=t.current,t.current=e}var Pn={},qe=On(Pn),it=On(!1),er=Pn;function zr(t,e){var n=t.type.contextTypes;if(!n)return Pn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function st(t){return t=t.childContextTypes,t!=null}function zo(){le(it),le(qe)}function ef(t,e,n){if(qe.current!==Pn)throw Error(M(168));ie(qe,e),ie(it,n)}function Gm(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(M(108,S0(t)||"Unknown",i));return pe({},n,r)}function Ho(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Pn,er=qe.current,ie(qe,t),ie(it,it.current),!0}function tf(t,e,n){var r=t.stateNode;if(!r)throw Error(M(169));n?(t=Gm(t,e,er),r.__reactInternalMemoizedMergedChildContext=t,le(it),le(qe),ie(qe,t)):le(it),ie(it,n)}var Kt=null,Ia=!1,Nl=!1;function Wm(t){Kt===null?Kt=[t]:Kt.push(t)}function B1(t){Ia=!0,Wm(t)}function Ln(){if(!Nl&&Kt!==null){Nl=!0;var t=0,e=te;try{var n=Kt;for(te=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Kt=null,Ia=!1}catch(i){throw Kt!==null&&(Kt=Kt.slice(t+1)),ym(pc,Ln),i}finally{te=e,Nl=!1}}return null}var Cr=[],Rr=0,$o=null,Go=0,gt=[],yt=0,tr=null,Yt=1,Xt="";function Hn(t,e){Cr[Rr++]=Go,Cr[Rr++]=$o,$o=t,Go=e}function Qm(t,e,n){gt[yt++]=Yt,gt[yt++]=Xt,gt[yt++]=tr,tr=t;var r=Yt;t=Xt;var i=32-Pt(r)-1;r&=~(1<<i),n+=1;var s=32-Pt(e)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Yt=1<<32-Pt(e)+i|n<<i|r,Xt=s+t}else Yt=1<<s|n<<i|r,Xt=t}function xc(t){t.return!==null&&(Hn(t,1),Qm(t,1,0))}function Sc(t){for(;t===$o;)$o=Cr[--Rr],Cr[Rr]=null,Go=Cr[--Rr],Cr[Rr]=null;for(;t===tr;)tr=gt[--yt],gt[yt]=null,Xt=gt[--yt],gt[yt]=null,Yt=gt[--yt],gt[yt]=null}var ht=null,ct=null,ce=!1,At=null;function qm(t,e){var n=vt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function nf(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ht=t,ct=En(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ht=t,ct=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=tr!==null?{id:Yt,overflow:Xt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=vt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ht=t,ct=null,!0):!1;default:return!1}}function wu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Eu(t){if(ce){var e=ct;if(e){var n=e;if(!nf(t,e)){if(wu(t))throw Error(M(418));e=En(n.nextSibling);var r=ht;e&&nf(t,e)?qm(r,n):(t.flags=t.flags&-4097|2,ce=!1,ht=t)}}else{if(wu(t))throw Error(M(418));t.flags=t.flags&-4097|2,ce=!1,ht=t}}}function rf(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ht=t}function so(t){if(t!==ht)return!1;if(!ce)return rf(t),ce=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!gu(t.type,t.memoizedProps)),e&&(e=ct)){if(wu(t))throw Km(),Error(M(418));for(;e;)qm(t,e),e=En(e.nextSibling)}if(rf(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(M(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ct=En(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ct=null}}else ct=ht?En(t.stateNode.nextSibling):null;return!0}function Km(){for(var t=ct;t;)t=En(t.nextSibling)}function Hr(){ct=ht=null,ce=!1}function Ic(t){At===null?At=[t]:At.push(t)}var z1=an.ReactCurrentBatchConfig;function Ii(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(M(309));var r=n.stateNode}if(!r)throw Error(M(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var l=i.refs;a===null?delete l[s]:l[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(M(284));if(!n._owner)throw Error(M(290,t))}return t}function oo(t,e){throw t=Object.prototype.toString.call(e),Error(M(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function sf(t){var e=t._init;return e(t._payload)}function Ym(t){function e(x,_){if(t){var S=x.deletions;S===null?(x.deletions=[_],x.flags|=16):S.push(_)}}function n(x,_){if(!t)return null;for(;_!==null;)e(x,_),_=_.sibling;return null}function r(x,_){for(x=new Map;_!==null;)_.key!==null?x.set(_.key,_):x.set(_.index,_),_=_.sibling;return x}function i(x,_){return x=In(x,_),x.index=0,x.sibling=null,x}function s(x,_,S){return x.index=S,t?(S=x.alternate,S!==null?(S=S.index,S<_?(x.flags|=2,_):S):(x.flags|=2,_)):(x.flags|=1048576,_)}function a(x){return t&&x.alternate===null&&(x.flags|=2),x}function l(x,_,S,V){return _===null||_.tag!==6?(_=jl(S,x.mode,V),_.return=x,_):(_=i(_,S),_.return=x,_)}function c(x,_,S,V){var F=S.type;return F===Tr?g(x,_,S.props.children,V,S.key):_!==null&&(_.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===dn&&sf(F)===_.type)?(V=i(_,S.props),V.ref=Ii(x,_,S),V.return=x,V):(V=Co(S.type,S.key,S.props,null,x.mode,V),V.ref=Ii(x,_,S),V.return=x,V)}function d(x,_,S,V){return _===null||_.tag!==4||_.stateNode.containerInfo!==S.containerInfo||_.stateNode.implementation!==S.implementation?(_=Fl(S,x.mode,V),_.return=x,_):(_=i(_,S.children||[]),_.return=x,_)}function g(x,_,S,V,F){return _===null||_.tag!==7?(_=Xn(S,x.mode,V,F),_.return=x,_):(_=i(_,S),_.return=x,_)}function m(x,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return _=jl(""+_,x.mode,S),_.return=x,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Ks:return S=Co(_.type,_.key,_.props,null,x.mode,S),S.ref=Ii(x,null,_),S.return=x,S;case Er:return _=Fl(_,x.mode,S),_.return=x,_;case dn:var V=_._init;return m(x,V(_._payload),S)}if(Pi(_)||wi(_))return _=Xn(_,x.mode,S,null),_.return=x,_;oo(x,_)}return null}function y(x,_,S,V){var F=_!==null?_.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return F!==null?null:l(x,_,""+S,V);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Ks:return S.key===F?c(x,_,S,V):null;case Er:return S.key===F?d(x,_,S,V):null;case dn:return F=S._init,y(x,_,F(S._payload),V)}if(Pi(S)||wi(S))return F!==null?null:g(x,_,S,V,null);oo(x,S)}return null}function R(x,_,S,V,F){if(typeof V=="string"&&V!==""||typeof V=="number")return x=x.get(S)||null,l(_,x,""+V,F);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case Ks:return x=x.get(V.key===null?S:V.key)||null,c(_,x,V,F);case Er:return x=x.get(V.key===null?S:V.key)||null,d(_,x,V,F);case dn:var U=V._init;return R(x,_,S,U(V._payload),F)}if(Pi(V)||wi(V))return x=x.get(S)||null,g(_,x,V,F,null);oo(_,V)}return null}function P(x,_,S,V){for(var F=null,U=null,w=_,p=_=0,v=null;w!==null&&p<S.length;p++){w.index>p?(v=w,w=null):v=w.sibling;var T=y(x,w,S[p],V);if(T===null){w===null&&(w=v);break}t&&w&&T.alternate===null&&e(x,w),_=s(T,_,p),U===null?F=T:U.sibling=T,U=T,w=v}if(p===S.length)return n(x,w),ce&&Hn(x,p),F;if(w===null){for(;p<S.length;p++)w=m(x,S[p],V),w!==null&&(_=s(w,_,p),U===null?F=w:U.sibling=w,U=w);return ce&&Hn(x,p),F}for(w=r(x,w);p<S.length;p++)v=R(w,x,p,S[p],V),v!==null&&(t&&v.alternate!==null&&w.delete(v.key===null?p:v.key),_=s(v,_,p),U===null?F=v:U.sibling=v,U=v);return t&&w.forEach(function(I){return e(x,I)}),ce&&Hn(x,p),F}function D(x,_,S,V){var F=wi(S);if(typeof F!="function")throw Error(M(150));if(S=F.call(S),S==null)throw Error(M(151));for(var U=F=null,w=_,p=_=0,v=null,T=S.next();w!==null&&!T.done;p++,T=S.next()){w.index>p?(v=w,w=null):v=w.sibling;var I=y(x,w,T.value,V);if(I===null){w===null&&(w=v);break}t&&w&&I.alternate===null&&e(x,w),_=s(I,_,p),U===null?F=I:U.sibling=I,U=I,w=v}if(T.done)return n(x,w),ce&&Hn(x,p),F;if(w===null){for(;!T.done;p++,T=S.next())T=m(x,T.value,V),T!==null&&(_=s(T,_,p),U===null?F=T:U.sibling=T,U=T);return ce&&Hn(x,p),F}for(w=r(x,w);!T.done;p++,T=S.next())T=R(w,x,p,T.value,V),T!==null&&(t&&T.alternate!==null&&w.delete(T.key===null?p:T.key),_=s(T,_,p),U===null?F=T:U.sibling=T,U=T);return t&&w.forEach(function(C){return e(x,C)}),ce&&Hn(x,p),F}function j(x,_,S,V){if(typeof S=="object"&&S!==null&&S.type===Tr&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Ks:e:{for(var F=S.key,U=_;U!==null;){if(U.key===F){if(F=S.type,F===Tr){if(U.tag===7){n(x,U.sibling),_=i(U,S.props.children),_.return=x,x=_;break e}}else if(U.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===dn&&sf(F)===U.type){n(x,U.sibling),_=i(U,S.props),_.ref=Ii(x,U,S),_.return=x,x=_;break e}n(x,U);break}else e(x,U);U=U.sibling}S.type===Tr?(_=Xn(S.props.children,x.mode,V,S.key),_.return=x,x=_):(V=Co(S.type,S.key,S.props,null,x.mode,V),V.ref=Ii(x,_,S),V.return=x,x=V)}return a(x);case Er:e:{for(U=S.key;_!==null;){if(_.key===U)if(_.tag===4&&_.stateNode.containerInfo===S.containerInfo&&_.stateNode.implementation===S.implementation){n(x,_.sibling),_=i(_,S.children||[]),_.return=x,x=_;break e}else{n(x,_);break}else e(x,_);_=_.sibling}_=Fl(S,x.mode,V),_.return=x,x=_}return a(x);case dn:return U=S._init,j(x,_,U(S._payload),V)}if(Pi(S))return P(x,_,S,V);if(wi(S))return D(x,_,S,V);oo(x,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,_!==null&&_.tag===6?(n(x,_.sibling),_=i(_,S),_.return=x,x=_):(n(x,_),_=jl(S,x.mode,V),_.return=x,x=_),a(x)):n(x,_)}return j}var $r=Ym(!0),Xm=Ym(!1),Wo=On(null),Qo=null,Pr=null,Ac=null;function kc(){Ac=Pr=Qo=null}function Cc(t){var e=Wo.current;le(Wo),t._currentValue=e}function Tu(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Lr(t,e){Qo=t,Ac=Pr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(rt=!0),t.firstContext=null)}function wt(t){var e=t._currentValue;if(Ac!==t)if(t={context:t,memoizedValue:e,next:null},Pr===null){if(Qo===null)throw Error(M(308));Pr=t,Qo.dependencies={lanes:0,firstContext:t}}else Pr=Pr.next=t;return e}var Qn=null;function Rc(t){Qn===null?Qn=[t]:Qn.push(t)}function Jm(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Rc(e)):(n.next=i.next,i.next=n),e.interleaved=n,rn(t,r)}function rn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var fn=!1;function Pc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Zm(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Jt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Tn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Z&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,rn(t,n)}return i=r.interleaved,i===null?(e.next=e,Rc(r)):(e.next=i.next,i.next=e),r.interleaved=e,rn(t,n)}function To(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,mc(t,n)}}function of(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function qo(t,e,n,r){var i=t.updateQueue;fn=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,d=c.next;c.next=null,a===null?s=d:a.next=d,a=c;var g=t.alternate;g!==null&&(g=g.updateQueue,l=g.lastBaseUpdate,l!==a&&(l===null?g.firstBaseUpdate=d:l.next=d,g.lastBaseUpdate=c))}if(s!==null){var m=i.baseState;a=0,g=d=c=null,l=s;do{var y=l.lane,R=l.eventTime;if((r&y)===y){g!==null&&(g=g.next={eventTime:R,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var P=t,D=l;switch(y=e,R=n,D.tag){case 1:if(P=D.payload,typeof P=="function"){m=P.call(R,m,y);break e}m=P;break e;case 3:P.flags=P.flags&-65537|128;case 0:if(P=D.payload,y=typeof P=="function"?P.call(R,m,y):P,y==null)break e;m=pe({},m,y);break e;case 2:fn=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,y=i.effects,y===null?i.effects=[l]:y.push(l))}else R={eventTime:R,lane:y,tag:l.tag,payload:l.payload,callback:l.callback,next:null},g===null?(d=g=R,c=m):g=g.next=R,a|=y;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;y=l,l=y.next,y.next=null,i.lastBaseUpdate=y,i.shared.pending=null}}while(!0);if(g===null&&(c=m),i.baseState=c,i.firstBaseUpdate=d,i.lastBaseUpdate=g,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);rr|=a,t.lanes=a,t.memoizedState=m}}function af(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(M(191,i));i.call(r)}}}var Ss={},jt=On(Ss),ss=On(Ss),os=On(Ss);function qn(t){if(t===Ss)throw Error(M(174));return t}function Nc(t,e){switch(ie(os,e),ie(ss,t),ie(jt,Ss),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:nu(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=nu(e,t)}le(jt),ie(jt,e)}function Gr(){le(jt),le(ss),le(os)}function eg(t){qn(os.current);var e=qn(jt.current),n=nu(e,t.type);e!==n&&(ie(ss,t),ie(jt,n))}function Dc(t){ss.current===t&&(le(jt),le(ss))}var de=On(0);function Ko(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Dl=[];function Vc(){for(var t=0;t<Dl.length;t++)Dl[t]._workInProgressVersionPrimary=null;Dl.length=0}var xo=an.ReactCurrentDispatcher,Vl=an.ReactCurrentBatchConfig,nr=0,fe=null,xe=null,ke=null,Yo=!1,Fi=!1,as=0,H1=0;function ze(){throw Error(M(321))}function bc(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Dt(t[n],e[n]))return!1;return!0}function Mc(t,e,n,r,i,s){if(nr=s,fe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,xo.current=t===null||t.memoizedState===null?Q1:q1,t=n(r,i),Fi){s=0;do{if(Fi=!1,as=0,25<=s)throw Error(M(301));s+=1,ke=xe=null,e.updateQueue=null,xo.current=K1,t=n(r,i)}while(Fi)}if(xo.current=Xo,e=xe!==null&&xe.next!==null,nr=0,ke=xe=fe=null,Yo=!1,e)throw Error(M(300));return t}function Oc(){var t=as!==0;return as=0,t}function bt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ke===null?fe.memoizedState=ke=t:ke=ke.next=t,ke}function Et(){if(xe===null){var t=fe.alternate;t=t!==null?t.memoizedState:null}else t=xe.next;var e=ke===null?fe.memoizedState:ke.next;if(e!==null)ke=e,xe=t;else{if(t===null)throw Error(M(310));xe=t,t={memoizedState:xe.memoizedState,baseState:xe.baseState,baseQueue:xe.baseQueue,queue:xe.queue,next:null},ke===null?fe.memoizedState=ke=t:ke=ke.next=t}return ke}function ls(t,e){return typeof e=="function"?e(t):e}function bl(t){var e=Et(),n=e.queue;if(n===null)throw Error(M(311));n.lastRenderedReducer=t;var r=xe,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=a=null,c=null,d=s;do{var g=d.lane;if((nr&g)===g)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var m={lane:g,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=m,a=r):c=c.next=m,fe.lanes|=g,rr|=g}d=d.next}while(d!==null&&d!==s);c===null?a=r:c.next=l,Dt(r,e.memoizedState)||(rt=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,fe.lanes|=s,rr|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ml(t){var e=Et(),n=e.queue;if(n===null)throw Error(M(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);Dt(s,e.memoizedState)||(rt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function tg(){}function ng(t,e){var n=fe,r=Et(),i=e(),s=!Dt(r.memoizedState,i);if(s&&(r.memoizedState=i,rt=!0),r=r.queue,Lc(sg.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||ke!==null&&ke.memoizedState.tag&1){if(n.flags|=2048,us(9,ig.bind(null,n,r,i,e),void 0,null),Re===null)throw Error(M(349));nr&30||rg(n,e,i)}return i}function rg(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=fe.updateQueue,e===null?(e={lastEffect:null,stores:null},fe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function ig(t,e,n,r){e.value=n,e.getSnapshot=r,og(e)&&ag(t)}function sg(t,e,n){return n(function(){og(e)&&ag(t)})}function og(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Dt(t,n)}catch{return!0}}function ag(t){var e=rn(t,1);e!==null&&Nt(e,t,1,-1)}function lf(t){var e=bt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ls,lastRenderedState:t},e.queue=t,t=t.dispatch=W1.bind(null,fe,t),[e.memoizedState,t]}function us(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=fe.updateQueue,e===null?(e={lastEffect:null,stores:null},fe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function lg(){return Et().memoizedState}function So(t,e,n,r){var i=bt();fe.flags|=t,i.memoizedState=us(1|e,n,void 0,r===void 0?null:r)}function Aa(t,e,n,r){var i=Et();r=r===void 0?null:r;var s=void 0;if(xe!==null){var a=xe.memoizedState;if(s=a.destroy,r!==null&&bc(r,a.deps)){i.memoizedState=us(e,n,s,r);return}}fe.flags|=t,i.memoizedState=us(1|e,n,s,r)}function uf(t,e){return So(8390656,8,t,e)}function Lc(t,e){return Aa(2048,8,t,e)}function ug(t,e){return Aa(4,2,t,e)}function cg(t,e){return Aa(4,4,t,e)}function hg(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function dg(t,e,n){return n=n!=null?n.concat([t]):null,Aa(4,4,hg.bind(null,e,t),n)}function jc(){}function fg(t,e){var n=Et();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&bc(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function pg(t,e){var n=Et();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&bc(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function mg(t,e,n){return nr&21?(Dt(n,e)||(n=wm(),fe.lanes|=n,rr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,rt=!0),t.memoizedState=n)}function $1(t,e){var n=te;te=n!==0&&4>n?n:4,t(!0);var r=Vl.transition;Vl.transition={};try{t(!1),e()}finally{te=n,Vl.transition=r}}function gg(){return Et().memoizedState}function G1(t,e,n){var r=Sn(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},yg(t))vg(e,n);else if(n=Jm(t,e,n,r),n!==null){var i=Je();Nt(n,t,r,i),_g(n,e,r)}}function W1(t,e,n){var r=Sn(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(yg(t))vg(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,l=s(a,n);if(i.hasEagerState=!0,i.eagerState=l,Dt(l,a)){var c=e.interleaved;c===null?(i.next=i,Rc(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}n=Jm(t,e,i,r),n!==null&&(i=Je(),Nt(n,t,r,i),_g(n,e,r))}}function yg(t){var e=t.alternate;return t===fe||e!==null&&e===fe}function vg(t,e){Fi=Yo=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function _g(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,mc(t,n)}}var Xo={readContext:wt,useCallback:ze,useContext:ze,useEffect:ze,useImperativeHandle:ze,useInsertionEffect:ze,useLayoutEffect:ze,useMemo:ze,useReducer:ze,useRef:ze,useState:ze,useDebugValue:ze,useDeferredValue:ze,useTransition:ze,useMutableSource:ze,useSyncExternalStore:ze,useId:ze,unstable_isNewReconciler:!1},Q1={readContext:wt,useCallback:function(t,e){return bt().memoizedState=[t,e===void 0?null:e],t},useContext:wt,useEffect:uf,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,So(4194308,4,hg.bind(null,e,t),n)},useLayoutEffect:function(t,e){return So(4194308,4,t,e)},useInsertionEffect:function(t,e){return So(4,2,t,e)},useMemo:function(t,e){var n=bt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=bt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=G1.bind(null,fe,t),[r.memoizedState,t]},useRef:function(t){var e=bt();return t={current:t},e.memoizedState=t},useState:lf,useDebugValue:jc,useDeferredValue:function(t){return bt().memoizedState=t},useTransition:function(){var t=lf(!1),e=t[0];return t=$1.bind(null,t[1]),bt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=fe,i=bt();if(ce){if(n===void 0)throw Error(M(407));n=n()}else{if(n=e(),Re===null)throw Error(M(349));nr&30||rg(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,uf(sg.bind(null,r,s,t),[t]),r.flags|=2048,us(9,ig.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=bt(),e=Re.identifierPrefix;if(ce){var n=Xt,r=Yt;n=(r&~(1<<32-Pt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=as++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=H1++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},q1={readContext:wt,useCallback:fg,useContext:wt,useEffect:Lc,useImperativeHandle:dg,useInsertionEffect:ug,useLayoutEffect:cg,useMemo:pg,useReducer:bl,useRef:lg,useState:function(){return bl(ls)},useDebugValue:jc,useDeferredValue:function(t){var e=Et();return mg(e,xe.memoizedState,t)},useTransition:function(){var t=bl(ls)[0],e=Et().memoizedState;return[t,e]},useMutableSource:tg,useSyncExternalStore:ng,useId:gg,unstable_isNewReconciler:!1},K1={readContext:wt,useCallback:fg,useContext:wt,useEffect:Lc,useImperativeHandle:dg,useInsertionEffect:ug,useLayoutEffect:cg,useMemo:pg,useReducer:Ml,useRef:lg,useState:function(){return Ml(ls)},useDebugValue:jc,useDeferredValue:function(t){var e=Et();return xe===null?e.memoizedState=t:mg(e,xe.memoizedState,t)},useTransition:function(){var t=Ml(ls)[0],e=Et().memoizedState;return[t,e]},useMutableSource:tg,useSyncExternalStore:ng,useId:gg,unstable_isNewReconciler:!1};function St(t,e){if(t&&t.defaultProps){e=pe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function xu(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:pe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ka={isMounted:function(t){return(t=t._reactInternals)?cr(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Je(),i=Sn(t),s=Jt(r,i);s.payload=e,n!=null&&(s.callback=n),e=Tn(t,s,i),e!==null&&(Nt(e,t,i,r),To(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Je(),i=Sn(t),s=Jt(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Tn(t,s,i),e!==null&&(Nt(e,t,i,r),To(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Je(),r=Sn(t),i=Jt(n,r);i.tag=2,e!=null&&(i.callback=e),e=Tn(t,i,r),e!==null&&(Nt(e,t,r,n),To(e,t,r))}};function cf(t,e,n,r,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,a):e.prototype&&e.prototype.isPureReactComponent?!ts(n,r)||!ts(i,s):!0}function wg(t,e,n){var r=!1,i=Pn,s=e.contextType;return typeof s=="object"&&s!==null?s=wt(s):(i=st(e)?er:qe.current,r=e.contextTypes,s=(r=r!=null)?zr(t,i):Pn),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ka,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function hf(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ka.enqueueReplaceState(e,e.state,null)}function Su(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Pc(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=wt(s):(s=st(e)?er:qe.current,i.context=zr(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(xu(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&ka.enqueueReplaceState(i,i.state,null),qo(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Wr(t,e){try{var n="",r=e;do n+=x0(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Ol(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Iu(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Y1=typeof WeakMap=="function"?WeakMap:Map;function Eg(t,e,n){n=Jt(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Zo||(Zo=!0,Mu=r),Iu(t,e)},n}function Tg(t,e,n){n=Jt(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Iu(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Iu(t,e),typeof r!="function"&&(xn===null?xn=new Set([this]):xn.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function df(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Y1;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=c_.bind(null,t,e,n),e.then(t,t))}function ff(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function pf(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Jt(-1,1),e.tag=2,Tn(n,e,1))),n.lanes|=1),t)}var X1=an.ReactCurrentOwner,rt=!1;function Xe(t,e,n,r){e.child=t===null?Xm(e,null,n,r):$r(e,t.child,n,r)}function mf(t,e,n,r,i){n=n.render;var s=e.ref;return Lr(e,i),r=Mc(t,e,n,r,s,i),n=Oc(),t!==null&&!rt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,sn(t,e,i)):(ce&&n&&xc(e),e.flags|=1,Xe(t,e,r,i),e.child)}function gf(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Wc(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,xg(t,e,s,r,i)):(t=Co(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:ts,n(a,r)&&t.ref===e.ref)return sn(t,e,i)}return e.flags|=1,t=In(s,r),t.ref=e.ref,t.return=e,e.child=t}function xg(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(ts(s,r)&&t.ref===e.ref)if(rt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(rt=!0);else return e.lanes=t.lanes,sn(t,e,i)}return Au(t,e,n,r,i)}function Sg(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ie(Dr,ut),ut|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ie(Dr,ut),ut|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ie(Dr,ut),ut|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,ie(Dr,ut),ut|=r;return Xe(t,e,i,n),e.child}function Ig(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Au(t,e,n,r,i){var s=st(n)?er:qe.current;return s=zr(e,s),Lr(e,i),n=Mc(t,e,n,r,s,i),r=Oc(),t!==null&&!rt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,sn(t,e,i)):(ce&&r&&xc(e),e.flags|=1,Xe(t,e,n,i),e.child)}function yf(t,e,n,r,i){if(st(n)){var s=!0;Ho(e)}else s=!1;if(Lr(e,i),e.stateNode===null)Io(t,e),wg(e,n,r),Su(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,l=e.memoizedProps;a.props=l;var c=a.context,d=n.contextType;typeof d=="object"&&d!==null?d=wt(d):(d=st(n)?er:qe.current,d=zr(e,d));var g=n.getDerivedStateFromProps,m=typeof g=="function"||typeof a.getSnapshotBeforeUpdate=="function";m||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||c!==d)&&hf(e,a,r,d),fn=!1;var y=e.memoizedState;a.state=y,qo(e,r,a,i),c=e.memoizedState,l!==r||y!==c||it.current||fn?(typeof g=="function"&&(xu(e,n,g,r),c=e.memoizedState),(l=fn||cf(e,n,l,r,y,c,d))?(m||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),a.props=r,a.state=c,a.context=d,r=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,Zm(t,e),l=e.memoizedProps,d=e.type===e.elementType?l:St(e.type,l),a.props=d,m=e.pendingProps,y=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=wt(c):(c=st(n)?er:qe.current,c=zr(e,c));var R=n.getDerivedStateFromProps;(g=typeof R=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==m||y!==c)&&hf(e,a,r,c),fn=!1,y=e.memoizedState,a.state=y,qo(e,r,a,i);var P=e.memoizedState;l!==m||y!==P||it.current||fn?(typeof R=="function"&&(xu(e,n,R,r),P=e.memoizedState),(d=fn||cf(e,n,d,r,y,P,c)||!1)?(g||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,P,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,P,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=P),a.props=r,a.state=P,a.context=c,r=d):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),r=!1)}return ku(t,e,n,r,s,i)}function ku(t,e,n,r,i,s){Ig(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&tf(e,n,!1),sn(t,e,s);r=e.stateNode,X1.current=e;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=$r(e,t.child,null,s),e.child=$r(e,null,l,s)):Xe(t,e,l,s),e.memoizedState=r.state,i&&tf(e,n,!0),e.child}function Ag(t){var e=t.stateNode;e.pendingContext?ef(t,e.pendingContext,e.pendingContext!==e.context):e.context&&ef(t,e.context,!1),Nc(t,e.containerInfo)}function vf(t,e,n,r,i){return Hr(),Ic(i),e.flags|=256,Xe(t,e,n,r),e.child}var Cu={dehydrated:null,treeContext:null,retryLane:0};function Ru(t){return{baseLanes:t,cachePool:null,transitions:null}}function kg(t,e,n){var r=e.pendingProps,i=de.current,s=!1,a=(e.flags&128)!==0,l;if((l=a)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ie(de,i&1),t===null)return Eu(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,s?(r=e.mode,s=e.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=Pa(a,r,0,null),t=Xn(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Ru(n),e.memoizedState=Cu,t):Fc(e,a));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return J1(t,e,a,r,l,i,n);if(s){s=r.fallback,a=e.mode,i=t.child,l=i.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=In(i,c),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=In(l,s):(s=Xn(s,a,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,a=t.child.memoizedState,a=a===null?Ru(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~n,e.memoizedState=Cu,r}return s=t.child,t=s.sibling,r=In(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Fc(t,e){return e=Pa({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ao(t,e,n,r){return r!==null&&Ic(r),$r(e,t.child,null,n),t=Fc(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function J1(t,e,n,r,i,s,a){if(n)return e.flags&256?(e.flags&=-257,r=Ol(Error(M(422))),ao(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Pa({mode:"visible",children:r.children},i,0,null),s=Xn(s,i,a,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&$r(e,t.child,null,a),e.child.memoizedState=Ru(a),e.memoizedState=Cu,s);if(!(e.mode&1))return ao(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(M(419)),r=Ol(s,r,void 0),ao(t,e,a,r)}if(l=(a&t.childLanes)!==0,rt||l){if(r=Re,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,rn(t,i),Nt(r,t,i,-1))}return Gc(),r=Ol(Error(M(421))),ao(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=h_.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,ct=En(i.nextSibling),ht=e,ce=!0,At=null,t!==null&&(gt[yt++]=Yt,gt[yt++]=Xt,gt[yt++]=tr,Yt=t.id,Xt=t.overflow,tr=e),e=Fc(e,r.children),e.flags|=4096,e)}function _f(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Tu(t.return,e,n)}function Ll(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Cg(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Xe(t,e,r.children,n),r=de.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&_f(t,n,e);else if(t.tag===19)_f(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ie(de,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Ko(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Ll(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Ko(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Ll(e,!0,n,null,s);break;case"together":Ll(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Io(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function sn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),rr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(M(153));if(e.child!==null){for(t=e.child,n=In(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=In(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Z1(t,e,n){switch(e.tag){case 3:Ag(e),Hr();break;case 5:eg(e);break;case 1:st(e.type)&&Ho(e);break;case 4:Nc(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ie(Wo,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ie(de,de.current&1),e.flags|=128,null):n&e.child.childLanes?kg(t,e,n):(ie(de,de.current&1),t=sn(t,e,n),t!==null?t.sibling:null);ie(de,de.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Cg(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ie(de,de.current),r)break;return null;case 22:case 23:return e.lanes=0,Sg(t,e,n)}return sn(t,e,n)}var Rg,Pu,Pg,Ng;Rg=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Pu=function(){};Pg=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,qn(jt.current);var s=null;switch(n){case"input":i=Jl(t,i),r=Jl(t,r),s=[];break;case"select":i=pe({},i,{value:void 0}),r=pe({},r,{value:void 0}),s=[];break;case"textarea":i=tu(t,i),r=tu(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Bo)}ru(n,r);var a;n=null;for(d in i)if(!r.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var l=i[d];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(qi.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in r){var c=r[d];if(l=i!=null?i[d]:void 0,r.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(s||(s=[]),s.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(qi.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&ae("scroll",t),s||l===c||(s=[])):(s=s||[]).push(d,c))}n&&(s=s||[]).push("style",n);var d=s;(e.updateQueue=d)&&(e.flags|=4)}};Ng=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ai(t,e){if(!ce)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function He(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function e_(t,e,n){var r=e.pendingProps;switch(Sc(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return He(e),null;case 1:return st(e.type)&&zo(),He(e),null;case 3:return r=e.stateNode,Gr(),le(it),le(qe),Vc(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(so(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,At!==null&&(ju(At),At=null))),Pu(t,e),He(e),null;case 5:Dc(e);var i=qn(os.current);if(n=e.type,t!==null&&e.stateNode!=null)Pg(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(M(166));return He(e),null}if(t=qn(jt.current),so(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Ot]=e,r[is]=s,t=(e.mode&1)!==0,n){case"dialog":ae("cancel",r),ae("close",r);break;case"iframe":case"object":case"embed":ae("load",r);break;case"video":case"audio":for(i=0;i<Di.length;i++)ae(Di[i],r);break;case"source":ae("error",r);break;case"img":case"image":case"link":ae("error",r),ae("load",r);break;case"details":ae("toggle",r);break;case"input":kd(r,s),ae("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ae("invalid",r);break;case"textarea":Rd(r,s),ae("invalid",r)}ru(n,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&io(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&io(r.textContent,l,t),i=["children",""+l]):qi.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&ae("scroll",r)}switch(n){case"input":Ys(r),Cd(r,s,!0);break;case"textarea":Ys(r),Pd(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Bo)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=sm(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[Ot]=e,t[is]=r,Rg(t,e,!1,!1),e.stateNode=t;e:{switch(a=iu(n,r),n){case"dialog":ae("cancel",t),ae("close",t),i=r;break;case"iframe":case"object":case"embed":ae("load",t),i=r;break;case"video":case"audio":for(i=0;i<Di.length;i++)ae(Di[i],t);i=r;break;case"source":ae("error",t),i=r;break;case"img":case"image":case"link":ae("error",t),ae("load",t),i=r;break;case"details":ae("toggle",t),i=r;break;case"input":kd(t,r),i=Jl(t,r),ae("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=pe({},r,{value:void 0}),ae("invalid",t);break;case"textarea":Rd(t,r),i=tu(t,r),ae("invalid",t);break;default:i=r}ru(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?lm(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&om(t,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Ki(t,c):typeof c=="number"&&Ki(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(qi.hasOwnProperty(s)?c!=null&&s==="onScroll"&&ae("scroll",t):c!=null&&uc(t,s,c,a))}switch(n){case"input":Ys(t),Cd(t,r,!1);break;case"textarea":Ys(t),Pd(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Rn(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Vr(t,!!r.multiple,s,!1):r.defaultValue!=null&&Vr(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Bo)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return He(e),null;case 6:if(t&&e.stateNode!=null)Ng(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(M(166));if(n=qn(os.current),qn(jt.current),so(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ot]=e,(s=r.nodeValue!==n)&&(t=ht,t!==null))switch(t.tag){case 3:io(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&io(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ot]=e,e.stateNode=r}return He(e),null;case 13:if(le(de),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ce&&ct!==null&&e.mode&1&&!(e.flags&128))Km(),Hr(),e.flags|=98560,s=!1;else if(s=so(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(M(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(M(317));s[Ot]=e}else Hr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;He(e),s=!1}else At!==null&&(ju(At),At=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||de.current&1?Ie===0&&(Ie=3):Gc())),e.updateQueue!==null&&(e.flags|=4),He(e),null);case 4:return Gr(),Pu(t,e),t===null&&ns(e.stateNode.containerInfo),He(e),null;case 10:return Cc(e.type._context),He(e),null;case 17:return st(e.type)&&zo(),He(e),null;case 19:if(le(de),s=e.memoizedState,s===null)return He(e),null;if(r=(e.flags&128)!==0,a=s.rendering,a===null)if(r)Ai(s,!1);else{if(Ie!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Ko(t),a!==null){for(e.flags|=128,Ai(s,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ie(de,de.current&1|2),e.child}t=t.sibling}s.tail!==null&&we()>Qr&&(e.flags|=128,r=!0,Ai(s,!1),e.lanes=4194304)}else{if(!r)if(t=Ko(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ai(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!ce)return He(e),null}else 2*we()-s.renderingStartTime>Qr&&n!==1073741824&&(e.flags|=128,r=!0,Ai(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(n=s.last,n!==null?n.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=we(),e.sibling=null,n=de.current,ie(de,r?n&1|2:n&1),e):(He(e),null);case 22:case 23:return $c(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?ut&1073741824&&(He(e),e.subtreeFlags&6&&(e.flags|=8192)):He(e),null;case 24:return null;case 25:return null}throw Error(M(156,e.tag))}function t_(t,e){switch(Sc(e),e.tag){case 1:return st(e.type)&&zo(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Gr(),le(it),le(qe),Vc(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Dc(e),null;case 13:if(le(de),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(M(340));Hr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return le(de),null;case 4:return Gr(),null;case 10:return Cc(e.type._context),null;case 22:case 23:return $c(),null;case 24:return null;default:return null}}var lo=!1,We=!1,n_=typeof WeakSet=="function"?WeakSet:Set,z=null;function Nr(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ge(t,e,r)}else n.current=null}function Nu(t,e,n){try{n()}catch(r){ge(t,e,r)}}var wf=!1;function r_(t,e){if(pu=jo,t=Om(),Tc(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,d=0,g=0,m=t,y=null;t:for(;;){for(var R;m!==n||i!==0&&m.nodeType!==3||(l=a+i),m!==s||r!==0&&m.nodeType!==3||(c=a+r),m.nodeType===3&&(a+=m.nodeValue.length),(R=m.firstChild)!==null;)y=m,m=R;for(;;){if(m===t)break t;if(y===n&&++d===i&&(l=a),y===s&&++g===r&&(c=a),(R=m.nextSibling)!==null)break;m=y,y=m.parentNode}m=R}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(mu={focusedElem:t,selectionRange:n},jo=!1,z=e;z!==null;)if(e=z,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,z=t;else for(;z!==null;){e=z;try{var P=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(P!==null){var D=P.memoizedProps,j=P.memoizedState,x=e.stateNode,_=x.getSnapshotBeforeUpdate(e.elementType===e.type?D:St(e.type,D),j);x.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(M(163))}}catch(V){ge(e,e.return,V)}if(t=e.sibling,t!==null){t.return=e.return,z=t;break}z=e.return}return P=wf,wf=!1,P}function Ui(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Nu(e,n,s)}i=i.next}while(i!==r)}}function Ca(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Du(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Dg(t){var e=t.alternate;e!==null&&(t.alternate=null,Dg(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ot],delete e[is],delete e[vu],delete e[F1],delete e[U1])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Vg(t){return t.tag===5||t.tag===3||t.tag===4}function Ef(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Vg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Vu(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Bo));else if(r!==4&&(t=t.child,t!==null))for(Vu(t,e,n),t=t.sibling;t!==null;)Vu(t,e,n),t=t.sibling}function bu(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(bu(t,e,n),t=t.sibling;t!==null;)bu(t,e,n),t=t.sibling}var De=null,It=!1;function hn(t,e,n){for(n=n.child;n!==null;)bg(t,e,n),n=n.sibling}function bg(t,e,n){if(Lt&&typeof Lt.onCommitFiberUnmount=="function")try{Lt.onCommitFiberUnmount(wa,n)}catch{}switch(n.tag){case 5:We||Nr(n,e);case 6:var r=De,i=It;De=null,hn(t,e,n),De=r,It=i,De!==null&&(It?(t=De,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):De.removeChild(n.stateNode));break;case 18:De!==null&&(It?(t=De,n=n.stateNode,t.nodeType===8?Pl(t.parentNode,n):t.nodeType===1&&Pl(t,n),Zi(t)):Pl(De,n.stateNode));break;case 4:r=De,i=It,De=n.stateNode.containerInfo,It=!0,hn(t,e,n),De=r,It=i;break;case 0:case 11:case 14:case 15:if(!We&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&Nu(n,e,a),i=i.next}while(i!==r)}hn(t,e,n);break;case 1:if(!We&&(Nr(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){ge(n,e,l)}hn(t,e,n);break;case 21:hn(t,e,n);break;case 22:n.mode&1?(We=(r=We)||n.memoizedState!==null,hn(t,e,n),We=r):hn(t,e,n);break;default:hn(t,e,n)}}function Tf(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new n_),e.forEach(function(r){var i=d_.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function xt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 5:De=l.stateNode,It=!1;break e;case 3:De=l.stateNode.containerInfo,It=!0;break e;case 4:De=l.stateNode.containerInfo,It=!0;break e}l=l.return}if(De===null)throw Error(M(160));bg(s,a,i),De=null,It=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(d){ge(i,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Mg(e,t),e=e.sibling}function Mg(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(xt(e,t),Vt(t),r&4){try{Ui(3,t,t.return),Ca(3,t)}catch(D){ge(t,t.return,D)}try{Ui(5,t,t.return)}catch(D){ge(t,t.return,D)}}break;case 1:xt(e,t),Vt(t),r&512&&n!==null&&Nr(n,n.return);break;case 5:if(xt(e,t),Vt(t),r&512&&n!==null&&Nr(n,n.return),t.flags&32){var i=t.stateNode;try{Ki(i,"")}catch(D){ge(t,t.return,D)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=n!==null?n.memoizedProps:s,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&rm(i,s),iu(l,a);var d=iu(l,s);for(a=0;a<c.length;a+=2){var g=c[a],m=c[a+1];g==="style"?lm(i,m):g==="dangerouslySetInnerHTML"?om(i,m):g==="children"?Ki(i,m):uc(i,g,m,d)}switch(l){case"input":Zl(i,s);break;case"textarea":im(i,s);break;case"select":var y=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var R=s.value;R!=null?Vr(i,!!s.multiple,R,!1):y!==!!s.multiple&&(s.defaultValue!=null?Vr(i,!!s.multiple,s.defaultValue,!0):Vr(i,!!s.multiple,s.multiple?[]:"",!1))}i[is]=s}catch(D){ge(t,t.return,D)}}break;case 6:if(xt(e,t),Vt(t),r&4){if(t.stateNode===null)throw Error(M(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(D){ge(t,t.return,D)}}break;case 3:if(xt(e,t),Vt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Zi(e.containerInfo)}catch(D){ge(t,t.return,D)}break;case 4:xt(e,t),Vt(t);break;case 13:xt(e,t),Vt(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(zc=we())),r&4&&Tf(t);break;case 22:if(g=n!==null&&n.memoizedState!==null,t.mode&1?(We=(d=We)||g,xt(e,t),We=d):xt(e,t),Vt(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!g&&t.mode&1)for(z=t,g=t.child;g!==null;){for(m=z=g;z!==null;){switch(y=z,R=y.child,y.tag){case 0:case 11:case 14:case 15:Ui(4,y,y.return);break;case 1:Nr(y,y.return);var P=y.stateNode;if(typeof P.componentWillUnmount=="function"){r=y,n=y.return;try{e=r,P.props=e.memoizedProps,P.state=e.memoizedState,P.componentWillUnmount()}catch(D){ge(r,n,D)}}break;case 5:Nr(y,y.return);break;case 22:if(y.memoizedState!==null){Sf(m);continue}}R!==null?(R.return=y,z=R):Sf(m)}g=g.sibling}e:for(g=null,m=t;;){if(m.tag===5){if(g===null){g=m;try{i=m.stateNode,d?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=m.stateNode,c=m.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=am("display",a))}catch(D){ge(t,t.return,D)}}}else if(m.tag===6){if(g===null)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(D){ge(t,t.return,D)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;g===m&&(g=null),m=m.return}g===m&&(g=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:xt(e,t),Vt(t),r&4&&Tf(t);break;case 21:break;default:xt(e,t),Vt(t)}}function Vt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Vg(n)){var r=n;break e}n=n.return}throw Error(M(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ki(i,""),r.flags&=-33);var s=Ef(t);bu(t,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,l=Ef(t);Vu(t,l,a);break;default:throw Error(M(161))}}catch(c){ge(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function i_(t,e,n){z=t,Og(t)}function Og(t,e,n){for(var r=(t.mode&1)!==0;z!==null;){var i=z,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||lo;if(!a){var l=i.alternate,c=l!==null&&l.memoizedState!==null||We;l=lo;var d=We;if(lo=a,(We=c)&&!d)for(z=i;z!==null;)a=z,c=a.child,a.tag===22&&a.memoizedState!==null?If(i):c!==null?(c.return=a,z=c):If(i);for(;s!==null;)z=s,Og(s),s=s.sibling;z=i,lo=l,We=d}xf(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,z=s):xf(t)}}function xf(t){for(;z!==null;){var e=z;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:We||Ca(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!We)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:St(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&af(e,s,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}af(e,a,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var g=d.memoizedState;if(g!==null){var m=g.dehydrated;m!==null&&Zi(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(M(163))}We||e.flags&512&&Du(e)}catch(y){ge(e,e.return,y)}}if(e===t){z=null;break}if(n=e.sibling,n!==null){n.return=e.return,z=n;break}z=e.return}}function Sf(t){for(;z!==null;){var e=z;if(e===t){z=null;break}var n=e.sibling;if(n!==null){n.return=e.return,z=n;break}z=e.return}}function If(t){for(;z!==null;){var e=z;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ca(4,e)}catch(c){ge(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(c){ge(e,i,c)}}var s=e.return;try{Du(e)}catch(c){ge(e,s,c)}break;case 5:var a=e.return;try{Du(e)}catch(c){ge(e,a,c)}}}catch(c){ge(e,e.return,c)}if(e===t){z=null;break}var l=e.sibling;if(l!==null){l.return=e.return,z=l;break}z=e.return}}var s_=Math.ceil,Jo=an.ReactCurrentDispatcher,Uc=an.ReactCurrentOwner,_t=an.ReactCurrentBatchConfig,Z=0,Re=null,Te=null,Oe=0,ut=0,Dr=On(0),Ie=0,cs=null,rr=0,Ra=0,Bc=0,Bi=null,nt=null,zc=0,Qr=1/0,qt=null,Zo=!1,Mu=null,xn=null,uo=!1,yn=null,ea=0,zi=0,Ou=null,Ao=-1,ko=0;function Je(){return Z&6?we():Ao!==-1?Ao:Ao=we()}function Sn(t){return t.mode&1?Z&2&&Oe!==0?Oe&-Oe:z1.transition!==null?(ko===0&&(ko=wm()),ko):(t=te,t!==0||(t=window.event,t=t===void 0?16:km(t.type)),t):1}function Nt(t,e,n,r){if(50<zi)throw zi=0,Ou=null,Error(M(185));Es(t,n,r),(!(Z&2)||t!==Re)&&(t===Re&&(!(Z&2)&&(Ra|=n),Ie===4&&mn(t,Oe)),ot(t,r),n===1&&Z===0&&!(e.mode&1)&&(Qr=we()+500,Ia&&Ln()))}function ot(t,e){var n=t.callbackNode;z0(t,e);var r=Lo(t,t===Re?Oe:0);if(r===0)n!==null&&Vd(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Vd(n),e===1)t.tag===0?B1(Af.bind(null,t)):Wm(Af.bind(null,t)),L1(function(){!(Z&6)&&Ln()}),n=null;else{switch(Em(r)){case 1:n=pc;break;case 4:n=vm;break;case 16:n=Oo;break;case 536870912:n=_m;break;default:n=Oo}n=$g(n,Lg.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Lg(t,e){if(Ao=-1,ko=0,Z&6)throw Error(M(327));var n=t.callbackNode;if(jr()&&t.callbackNode!==n)return null;var r=Lo(t,t===Re?Oe:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ta(t,r);else{e=r;var i=Z;Z|=2;var s=Fg();(Re!==t||Oe!==e)&&(qt=null,Qr=we()+500,Yn(t,e));do try{l_();break}catch(l){jg(t,l)}while(!0);kc(),Jo.current=s,Z=i,Te!==null?e=0:(Re=null,Oe=0,e=Ie)}if(e!==0){if(e===2&&(i=uu(t),i!==0&&(r=i,e=Lu(t,i))),e===1)throw n=cs,Yn(t,0),mn(t,r),ot(t,we()),n;if(e===6)mn(t,r);else{if(i=t.current.alternate,!(r&30)&&!o_(i)&&(e=ta(t,r),e===2&&(s=uu(t),s!==0&&(r=s,e=Lu(t,s))),e===1))throw n=cs,Yn(t,0),mn(t,r),ot(t,we()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(M(345));case 2:$n(t,nt,qt);break;case 3:if(mn(t,r),(r&130023424)===r&&(e=zc+500-we(),10<e)){if(Lo(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Je(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=yu($n.bind(null,t,nt,qt),e);break}$n(t,nt,qt);break;case 4:if(mn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-Pt(r);s=1<<a,a=e[a],a>i&&(i=a),r&=~s}if(r=i,r=we()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*s_(r/1960))-r,10<r){t.timeoutHandle=yu($n.bind(null,t,nt,qt),r);break}$n(t,nt,qt);break;case 5:$n(t,nt,qt);break;default:throw Error(M(329))}}}return ot(t,we()),t.callbackNode===n?Lg.bind(null,t):null}function Lu(t,e){var n=Bi;return t.current.memoizedState.isDehydrated&&(Yn(t,e).flags|=256),t=ta(t,e),t!==2&&(e=nt,nt=n,e!==null&&ju(e)),t}function ju(t){nt===null?nt=t:nt.push.apply(nt,t)}function o_(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Dt(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function mn(t,e){for(e&=~Bc,e&=~Ra,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Pt(e),r=1<<n;t[n]=-1,e&=~r}}function Af(t){if(Z&6)throw Error(M(327));jr();var e=Lo(t,0);if(!(e&1))return ot(t,we()),null;var n=ta(t,e);if(t.tag!==0&&n===2){var r=uu(t);r!==0&&(e=r,n=Lu(t,r))}if(n===1)throw n=cs,Yn(t,0),mn(t,e),ot(t,we()),n;if(n===6)throw Error(M(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,$n(t,nt,qt),ot(t,we()),null}function Hc(t,e){var n=Z;Z|=1;try{return t(e)}finally{Z=n,Z===0&&(Qr=we()+500,Ia&&Ln())}}function ir(t){yn!==null&&yn.tag===0&&!(Z&6)&&jr();var e=Z;Z|=1;var n=_t.transition,r=te;try{if(_t.transition=null,te=1,t)return t()}finally{te=r,_t.transition=n,Z=e,!(Z&6)&&Ln()}}function $c(){ut=Dr.current,le(Dr)}function Yn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,O1(n)),Te!==null)for(n=Te.return;n!==null;){var r=n;switch(Sc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&zo();break;case 3:Gr(),le(it),le(qe),Vc();break;case 5:Dc(r);break;case 4:Gr();break;case 13:le(de);break;case 19:le(de);break;case 10:Cc(r.type._context);break;case 22:case 23:$c()}n=n.return}if(Re=t,Te=t=In(t.current,null),Oe=ut=e,Ie=0,cs=null,Bc=Ra=rr=0,nt=Bi=null,Qn!==null){for(e=0;e<Qn.length;e++)if(n=Qn[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}n.pending=r}Qn=null}return t}function jg(t,e){do{var n=Te;try{if(kc(),xo.current=Xo,Yo){for(var r=fe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Yo=!1}if(nr=0,ke=xe=fe=null,Fi=!1,as=0,Uc.current=null,n===null||n.return===null){Ie=1,cs=e,Te=null;break}e:{var s=t,a=n.return,l=n,c=e;if(e=Oe,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,g=l,m=g.tag;if(!(g.mode&1)&&(m===0||m===11||m===15)){var y=g.alternate;y?(g.updateQueue=y.updateQueue,g.memoizedState=y.memoizedState,g.lanes=y.lanes):(g.updateQueue=null,g.memoizedState=null)}var R=ff(a);if(R!==null){R.flags&=-257,pf(R,a,l,s,e),R.mode&1&&df(s,d,e),e=R,c=d;var P=e.updateQueue;if(P===null){var D=new Set;D.add(c),e.updateQueue=D}else P.add(c);break e}else{if(!(e&1)){df(s,d,e),Gc();break e}c=Error(M(426))}}else if(ce&&l.mode&1){var j=ff(a);if(j!==null){!(j.flags&65536)&&(j.flags|=256),pf(j,a,l,s,e),Ic(Wr(c,l));break e}}s=c=Wr(c,l),Ie!==4&&(Ie=2),Bi===null?Bi=[s]:Bi.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var x=Eg(s,c,e);of(s,x);break e;case 1:l=c;var _=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(xn===null||!xn.has(S)))){s.flags|=65536,e&=-e,s.lanes|=e;var V=Tg(s,l,e);of(s,V);break e}}s=s.return}while(s!==null)}Bg(n)}catch(F){e=F,Te===n&&n!==null&&(Te=n=n.return);continue}break}while(!0)}function Fg(){var t=Jo.current;return Jo.current=Xo,t===null?Xo:t}function Gc(){(Ie===0||Ie===3||Ie===2)&&(Ie=4),Re===null||!(rr&268435455)&&!(Ra&268435455)||mn(Re,Oe)}function ta(t,e){var n=Z;Z|=2;var r=Fg();(Re!==t||Oe!==e)&&(qt=null,Yn(t,e));do try{a_();break}catch(i){jg(t,i)}while(!0);if(kc(),Z=n,Jo.current=r,Te!==null)throw Error(M(261));return Re=null,Oe=0,Ie}function a_(){for(;Te!==null;)Ug(Te)}function l_(){for(;Te!==null&&!V0();)Ug(Te)}function Ug(t){var e=Hg(t.alternate,t,ut);t.memoizedProps=t.pendingProps,e===null?Bg(t):Te=e,Uc.current=null}function Bg(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=t_(n,e),n!==null){n.flags&=32767,Te=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ie=6,Te=null;return}}else if(n=e_(n,e,ut),n!==null){Te=n;return}if(e=e.sibling,e!==null){Te=e;return}Te=e=t}while(e!==null);Ie===0&&(Ie=5)}function $n(t,e,n){var r=te,i=_t.transition;try{_t.transition=null,te=1,u_(t,e,n,r)}finally{_t.transition=i,te=r}return null}function u_(t,e,n,r){do jr();while(yn!==null);if(Z&6)throw Error(M(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(M(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(H0(t,s),t===Re&&(Te=Re=null,Oe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||uo||(uo=!0,$g(Oo,function(){return jr(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=_t.transition,_t.transition=null;var a=te;te=1;var l=Z;Z|=4,Uc.current=null,r_(t,n),Mg(n,t),R1(mu),jo=!!pu,mu=pu=null,t.current=n,i_(n),b0(),Z=l,te=a,_t.transition=s}else t.current=n;if(uo&&(uo=!1,yn=t,ea=i),s=t.pendingLanes,s===0&&(xn=null),L0(n.stateNode),ot(t,we()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Zo)throw Zo=!1,t=Mu,Mu=null,t;return ea&1&&t.tag!==0&&jr(),s=t.pendingLanes,s&1?t===Ou?zi++:(zi=0,Ou=t):zi=0,Ln(),null}function jr(){if(yn!==null){var t=Em(ea),e=_t.transition,n=te;try{if(_t.transition=null,te=16>t?16:t,yn===null)var r=!1;else{if(t=yn,yn=null,ea=0,Z&6)throw Error(M(331));var i=Z;for(Z|=4,z=t.current;z!==null;){var s=z,a=s.child;if(z.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(z=d;z!==null;){var g=z;switch(g.tag){case 0:case 11:case 15:Ui(8,g,s)}var m=g.child;if(m!==null)m.return=g,z=m;else for(;z!==null;){g=z;var y=g.sibling,R=g.return;if(Dg(g),g===d){z=null;break}if(y!==null){y.return=R,z=y;break}z=R}}}var P=s.alternate;if(P!==null){var D=P.child;if(D!==null){P.child=null;do{var j=D.sibling;D.sibling=null,D=j}while(D!==null)}}z=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,z=a;else e:for(;z!==null;){if(s=z,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ui(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,z=x;break e}z=s.return}}var _=t.current;for(z=_;z!==null;){a=z;var S=a.child;if(a.subtreeFlags&2064&&S!==null)S.return=a,z=S;else e:for(a=_;z!==null;){if(l=z,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Ca(9,l)}}catch(F){ge(l,l.return,F)}if(l===a){z=null;break e}var V=l.sibling;if(V!==null){V.return=l.return,z=V;break e}z=l.return}}if(Z=i,Ln(),Lt&&typeof Lt.onPostCommitFiberRoot=="function")try{Lt.onPostCommitFiberRoot(wa,t)}catch{}r=!0}return r}finally{te=n,_t.transition=e}}return!1}function kf(t,e,n){e=Wr(n,e),e=Eg(t,e,1),t=Tn(t,e,1),e=Je(),t!==null&&(Es(t,1,e),ot(t,e))}function ge(t,e,n){if(t.tag===3)kf(t,t,n);else for(;e!==null;){if(e.tag===3){kf(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(xn===null||!xn.has(r))){t=Wr(n,t),t=Tg(e,t,1),e=Tn(e,t,1),t=Je(),e!==null&&(Es(e,1,t),ot(e,t));break}}e=e.return}}function c_(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Je(),t.pingedLanes|=t.suspendedLanes&n,Re===t&&(Oe&n)===n&&(Ie===4||Ie===3&&(Oe&130023424)===Oe&&500>we()-zc?Yn(t,0):Bc|=n),ot(t,e)}function zg(t,e){e===0&&(t.mode&1?(e=Zs,Zs<<=1,!(Zs&130023424)&&(Zs=4194304)):e=1);var n=Je();t=rn(t,e),t!==null&&(Es(t,e,n),ot(t,n))}function h_(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),zg(t,n)}function d_(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(M(314))}r!==null&&r.delete(e),zg(t,n)}var Hg;Hg=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||it.current)rt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return rt=!1,Z1(t,e,n);rt=!!(t.flags&131072)}else rt=!1,ce&&e.flags&1048576&&Qm(e,Go,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Io(t,e),t=e.pendingProps;var i=zr(e,qe.current);Lr(e,n),i=Mc(null,e,r,t,i,n);var s=Oc();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,st(r)?(s=!0,Ho(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Pc(e),i.updater=ka,e.stateNode=i,i._reactInternals=e,Su(e,r,t,n),e=ku(null,e,r,!0,s,n)):(e.tag=0,ce&&s&&xc(e),Xe(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Io(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=p_(r),t=St(r,t),i){case 0:e=Au(null,e,r,t,n);break e;case 1:e=yf(null,e,r,t,n);break e;case 11:e=mf(null,e,r,t,n);break e;case 14:e=gf(null,e,r,St(r.type,t),n);break e}throw Error(M(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:St(r,i),Au(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:St(r,i),yf(t,e,r,i,n);case 3:e:{if(Ag(e),t===null)throw Error(M(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Zm(t,e),qo(e,r,null,n);var a=e.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Wr(Error(M(423)),e),e=vf(t,e,r,n,i);break e}else if(r!==i){i=Wr(Error(M(424)),e),e=vf(t,e,r,n,i);break e}else for(ct=En(e.stateNode.containerInfo.firstChild),ht=e,ce=!0,At=null,n=Xm(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Hr(),r===i){e=sn(t,e,n);break e}Xe(t,e,r,n)}e=e.child}return e;case 5:return eg(e),t===null&&Eu(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,gu(r,i)?a=null:s!==null&&gu(r,s)&&(e.flags|=32),Ig(t,e),Xe(t,e,a,n),e.child;case 6:return t===null&&Eu(e),null;case 13:return kg(t,e,n);case 4:return Nc(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=$r(e,null,r,n):Xe(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:St(r,i),mf(t,e,r,i,n);case 7:return Xe(t,e,e.pendingProps,n),e.child;case 8:return Xe(t,e,e.pendingProps.children,n),e.child;case 12:return Xe(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,ie(Wo,r._currentValue),r._currentValue=a,s!==null)if(Dt(s.value,a)){if(s.children===i.children&&!it.current){e=sn(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){a=s.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=Jt(-1,n&-n),c.tag=2;var d=s.updateQueue;if(d!==null){d=d.shared;var g=d.pending;g===null?c.next=c:(c.next=g.next,g.next=c),d.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),Tu(s.return,n,e),l.lanes|=n;break}c=c.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(M(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),Tu(a,n,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Xe(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Lr(e,n),i=wt(i),r=r(i),e.flags|=1,Xe(t,e,r,n),e.child;case 14:return r=e.type,i=St(r,e.pendingProps),i=St(r.type,i),gf(t,e,r,i,n);case 15:return xg(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:St(r,i),Io(t,e),e.tag=1,st(r)?(t=!0,Ho(e)):t=!1,Lr(e,n),wg(e,r,i),Su(e,r,i,n),ku(null,e,r,!0,t,n);case 19:return Cg(t,e,n);case 22:return Sg(t,e,n)}throw Error(M(156,e.tag))};function $g(t,e){return ym(t,e)}function f_(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vt(t,e,n,r){return new f_(t,e,n,r)}function Wc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function p_(t){if(typeof t=="function")return Wc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===hc)return 11;if(t===dc)return 14}return 2}function In(t,e){var n=t.alternate;return n===null?(n=vt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Co(t,e,n,r,i,s){var a=2;if(r=t,typeof t=="function")Wc(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Tr:return Xn(n.children,i,s,e);case cc:a=8,i|=8;break;case ql:return t=vt(12,n,e,i|2),t.elementType=ql,t.lanes=s,t;case Kl:return t=vt(13,n,e,i),t.elementType=Kl,t.lanes=s,t;case Yl:return t=vt(19,n,e,i),t.elementType=Yl,t.lanes=s,t;case em:return Pa(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Jp:a=10;break e;case Zp:a=9;break e;case hc:a=11;break e;case dc:a=14;break e;case dn:a=16,r=null;break e}throw Error(M(130,t==null?t:typeof t,""))}return e=vt(a,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Xn(t,e,n,r){return t=vt(7,t,r,e),t.lanes=n,t}function Pa(t,e,n,r){return t=vt(22,t,r,e),t.elementType=em,t.lanes=n,t.stateNode={isHidden:!1},t}function jl(t,e,n){return t=vt(6,t,null,e),t.lanes=n,t}function Fl(t,e,n){return e=vt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function m_(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_l(0),this.expirationTimes=_l(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_l(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Qc(t,e,n,r,i,s,a,l,c){return t=new m_(t,e,n,l,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=vt(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pc(s),t}function g_(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Er,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Gg(t){if(!t)return Pn;t=t._reactInternals;e:{if(cr(t)!==t||t.tag!==1)throw Error(M(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(st(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(M(171))}if(t.tag===1){var n=t.type;if(st(n))return Gm(t,n,e)}return e}function Wg(t,e,n,r,i,s,a,l,c){return t=Qc(n,r,!0,t,i,s,a,l,c),t.context=Gg(null),n=t.current,r=Je(),i=Sn(n),s=Jt(r,i),s.callback=e??null,Tn(n,s,i),t.current.lanes=i,Es(t,i,r),ot(t,r),t}function Na(t,e,n,r){var i=e.current,s=Je(),a=Sn(i);return n=Gg(n),e.context===null?e.context=n:e.pendingContext=n,e=Jt(s,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Tn(i,e,a),t!==null&&(Nt(t,i,a,s),To(t,i,a)),a}function na(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Cf(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function qc(t,e){Cf(t,e),(t=t.alternate)&&Cf(t,e)}function y_(){return null}var Qg=typeof reportError=="function"?reportError:function(t){console.error(t)};function Kc(t){this._internalRoot=t}Da.prototype.render=Kc.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(M(409));Na(t,e,null,null)};Da.prototype.unmount=Kc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ir(function(){Na(null,t,null,null)}),e[nn]=null}};function Da(t){this._internalRoot=t}Da.prototype.unstable_scheduleHydration=function(t){if(t){var e=Sm();t={blockedOn:null,target:t,priority:e};for(var n=0;n<pn.length&&e!==0&&e<pn[n].priority;n++);pn.splice(n,0,t),n===0&&Am(t)}};function Yc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Va(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Rf(){}function v_(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var d=na(a);s.call(d)}}var a=Wg(e,r,t,0,null,!1,!1,"",Rf);return t._reactRootContainer=a,t[nn]=a.current,ns(t.nodeType===8?t.parentNode:t),ir(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var d=na(c);l.call(d)}}var c=Qc(t,0,!1,null,null,!1,!1,"",Rf);return t._reactRootContainer=c,t[nn]=c.current,ns(t.nodeType===8?t.parentNode:t),ir(function(){Na(e,c,n,r)}),c}function ba(t,e,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var l=i;i=function(){var c=na(a);l.call(c)}}Na(e,a,t,i)}else a=v_(n,e,t,i,r);return na(a)}Tm=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ni(e.pendingLanes);n!==0&&(mc(e,n|1),ot(e,we()),!(Z&6)&&(Qr=we()+500,Ln()))}break;case 13:ir(function(){var r=rn(t,1);if(r!==null){var i=Je();Nt(r,t,1,i)}}),qc(t,1)}};gc=function(t){if(t.tag===13){var e=rn(t,134217728);if(e!==null){var n=Je();Nt(e,t,134217728,n)}qc(t,134217728)}};xm=function(t){if(t.tag===13){var e=Sn(t),n=rn(t,e);if(n!==null){var r=Je();Nt(n,t,e,r)}qc(t,e)}};Sm=function(){return te};Im=function(t,e){var n=te;try{return te=t,e()}finally{te=n}};ou=function(t,e,n){switch(e){case"input":if(Zl(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Sa(r);if(!i)throw Error(M(90));nm(r),Zl(r,i)}}}break;case"textarea":im(t,n);break;case"select":e=n.value,e!=null&&Vr(t,!!n.multiple,e,!1)}};hm=Hc;dm=ir;var __={usingClientEntryPoint:!1,Events:[xs,Ar,Sa,um,cm,Hc]},ki={findFiberByHostInstance:Wn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},w_={bundleType:ki.bundleType,version:ki.version,rendererPackageName:ki.rendererPackageName,rendererConfig:ki.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:an.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=mm(t),t===null?null:t.stateNode},findFiberByHostInstance:ki.findFiberByHostInstance||y_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var co=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!co.isDisabled&&co.supportsFiber)try{wa=co.inject(w_),Lt=co}catch{}}ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=__;ft.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Yc(e))throw Error(M(200));return g_(t,e,null,n)};ft.createRoot=function(t,e){if(!Yc(t))throw Error(M(299));var n=!1,r="",i=Qg;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Qc(t,1,!1,null,null,n,!1,r,i),t[nn]=e.current,ns(t.nodeType===8?t.parentNode:t),new Kc(e)};ft.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(M(188)):(t=Object.keys(t).join(","),Error(M(268,t)));return t=mm(e),t=t===null?null:t.stateNode,t};ft.flushSync=function(t){return ir(t)};ft.hydrate=function(t,e,n){if(!Va(e))throw Error(M(200));return ba(null,t,e,!0,n)};ft.hydrateRoot=function(t,e,n){if(!Yc(t))throw Error(M(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",a=Qg;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=Wg(e,null,t,1,n??null,i,!1,s,a),t[nn]=e.current,ns(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Da(e)};ft.render=function(t,e,n){if(!Va(e))throw Error(M(200));return ba(null,t,e,!1,n)};ft.unmountComponentAtNode=function(t){if(!Va(t))throw Error(M(40));return t._reactRootContainer?(ir(function(){ba(null,null,t,!1,function(){t._reactRootContainer=null,t[nn]=null})}),!0):!1};ft.unstable_batchedUpdates=Hc;ft.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Va(n))throw Error(M(200));if(t==null||t._reactInternals===void 0)throw Error(M(38));return ba(t,e,n,!1,r)};ft.version="18.3.1-next-f1338f8080-20240426";function qg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(qg)}catch(t){console.error(t)}}qg(),qp.exports=ft;var E_=qp.exports,Kg,Pf=E_;Kg=Pf.createRoot,Pf.hydrateRoot;const T_=[{id:"jan-1",month:1,persona:"chad",text:"Our latest Insta campaign just exploded. Orders are flowing in and everything is going smooth as a Lassi.",choices:[{text:"Hell yeah! Let’s milk that mutt for virality!",effects:{revenue:2e4,founderSanity:10,employeeHappiness:10,margins:-10,cash:-5e3}}]},{id:"jan-2",month:1,persona:"molly",text:"My spreadsheets have more tabs than Mumbai has potholes. Can we please invest in decent analytics tools? I don't wanna lose my sanity before my virginity.",choices:[{text:"Fine, give the spreadsheets a funeral.",effects:{revenue:55e3,founderSanity:20,employeeHappiness:10,margins:0,cash:-1e4}},{text:"Well, I can certainly help you in loosing one of them, hehe.",effects:{revenue:-25e3,founderSanity:-10,employeeHappiness:-30,margins:10,cash:1e4}}]},{id:"jan-3",month:1,persona:"opal",text:"Supplier accidentally shipped 500 neon-pink bath bombs instead of the neutral ones we ordered. Do we sell them ironically or raise hell?",choices:[{text:"Embrace the neon apocalypse, it's Pride Month BABYYY !",effects:{revenue:5e4,founderSanity:-10,employeeHappiness:10,margins:20,cash:5e4}},{text:"Send them back—our customers aren't colorblind!",effects:{revenue:-1e4,founderSanity:10,employeeHappiness:-10,margins:0,cash:-15e3}}]},{id:"jan-4",month:1,persona:"chad",text:"Random question—Would you rather fight 100 duck-sized unicorns or 1 unicorn-sized duck? Choose wisely, founder.",choices:[{text:"100 duck-sized unicorns—sounds manageable.",effects:{revenue:1e4,founderSanity:-15,employeeHappiness:-5,margins:0,cash:0}},{text:"1 unicorn-sized duck. Go big or go home!",effects:{revenue:1e4,founderSanity:15,employeeHappiness:15,margins:0,cash:0}},{text:"Become a duck and join forces with unicorns.",effects:{revenue:5e4,founderSanity:-15,employeeHappiness:15,margins:0,cash:0}}]},{id:"feb-1",month:2,persona:"vic",text:"I'm super excited to put the Angel Cheque in your brand, congratulations! So, who are you gonna take out for Valentine's Day with my money? Your girlfriend or your startup?",choices:[{text:"How about I take YOU out for a romantic dinner and we discuss the future of my startup? *blushes*",effects:{revenue:35e3,founderSanity:-20,employeeHappiness:-20,margins:25,cash:55e3}},{text:"No Honey, No Money! or is it the other way around? Fuck, I'm so single",effects:{revenue:55e3,founderSanity:-30,employeeHappiness:0,margins:0,cash:-2e4}}]},{id:"feb-2",month:2,persona:"chad",text:"Bro, some Twitter influencer with 50K followers wants ₹5 lakhs to post about your protein bars. His engagement rate is lower than my will to live, but his DMs are sliding into brand deals faster than aunties into wedding gossip. YOLO or no-go?",choices:[{text:"Pay him and throw in free lifetime supply because 'exposure bro, trust the process'",effects:{revenue:-1e4,founderSanity:-25,employeeHappiness:15,margins:-35,cash:-12500}},{text:"Counter-offer with ₹500 and a blowjob from your intern",effects:{revenue:2e4,founderSanity:20,employeeHappiness:-25,margins:20,cash:-5e3}}]},{id:"feb-3",month:2,persona:"molly",text:"The GST notice came in and it's thicker than my ex's skull. Our accountant is missing since Republic Day and the filing deadline is approaching faster than arranged marriage proposals after 25. I'm one Excel crash away from a mental breakdown.",choices:[{text:"Hire the most expensive CA in Delhi and pray they can perform miracles with receipts",effects:{revenue:5e3,founderSanity:10,employeeHappiness:-5,margins:-20,cash:-18e3}},{text:"Wing it with online tutorials and hope the Nirmala Tai doesn't notice it like they didn't notice demonetization aftermath",effects:{revenue:-15e3,founderSanity:-35,employeeHappiness:-15,margins:5,cash:25e3}}]},{id:"feb-4",month:2,persona:"karen",text:"Your biggest competitor just launched and their founder looks like a Bollywood actor who actually showers. They're calling your product 'so 2023' and paparazzi is asking 'Whatcha Gon Do bout it?'.",choices:[{text:"Hire Dolly Chai wala as Brand Consultant and launch a 'We are not them' campaign",effects:{revenue:25e3,founderSanity:-15,employeeHappiness:25,margins:-5,cash:-1e3}},{text:"Take the high road and focus on your product while internally plotting their downfall like a Ekta Kapoor serial",effects:{revenue:5e4,founderSanity:25,employeeHappiness:10,margins:15,cash:3e4}}]},{id:"mar-1",month:3,persona:"opal",text:"Holi is here and your entire warehouse looks like a rainbow exploded. Half your inventory is covered in gulal, your delivery partner is drunk on bhang, and customers are demanding 'festive packaging' that costs more than your college fees. The chaos is biblical.",choices:[{text:"Embrace the madness and launch 'Holi Special Edition' products with 300% markup because festivals = premium pricing",effects:{revenue:45e3,founderSanity:-10,employeeHappiness:30,margins:35,cash:-3e3}},{text:"Shut down operations for a week and announce 'BHAANG FOR EVERYONE'",effects:{revenue:-25e3,founderSanity:15,employeeHappiness:20,margins:-10,cash:-1e4}}]},{id:"mar-2",month:3,persona:"chad",text:"Good News! We just got featured in YourStory's article. Bad News! The article is titled 'How NOT to run a D2C Brand'",choices:[{text:"SHRADHAAAAAAAAAAA, Why do you do this to me?",effects:{revenue:2e4,founderSanity:-25,employeeHappiness:-15,margins:-30,cash:-15e3}},{text:"Counter by making a post about 'How NOT to Run a Startup Newsroom'",effects:{revenue:-15e3,founderSanity:-20,employeeHappiness:20,margins:15,cash:-1e4}}]},{id:"mar-3",month:3,persona:"vic",text:"Your competitor just raised Series A from Blume while you're still pitching to your Baniya friend who thinks D2C means 'Delhi to Chennai'. They're calling themselves the 'Zomato of skincare' and investors are throwing money like it's Holi colors. Time to step up or step out.",choices:[{text:"Frantically apply to every accelerator and pitch deck competition, including that shady one in Cyber City",effects:{revenue:1e4,founderSanity:-25,employeeHappiness:5,margins:0,cash:0}},{text:"Bootstrap like a boss and prove that not everyone needs VC validation to succeed (while secretly stalking their LinkedIn updates)",effects:{revenue:3e4,founderSanity:20,employeeHappiness:25,margins:25,cash:8e4}}]},{id:"mar-4",month:3,persona:"karen",text:"A customer ordered your premium face mask but received it during a family function. Her saas saw the 'intimate wellness' branded packaging from your previous product line and now the entire extended family thinks she's running a side business. The family WhatsApp group is blowing up.",choices:[{text:"Offer to personally attend their family function and explain the mix-up while wearing your company hoodie",effects:{revenue:-5e3,founderSanity:-30,employeeHappiness:35,margins:-25,cash:-2e3}},{text:"Send a formal apology letter addressed to 'Respected Saas ji' and throw in free products for the entire family",effects:{revenue:15e3,founderSanity:-15,employeeHappiness:15,margins:-15,cash:-3500}}]},{id:"apr-1",month:4,persona:"chad",text:"Bro, Facebook just banned your ad account because they think your protein powder is 'medical misinformation'. Instagram influencers are now asking for kidney money upfront because 'brands are risky'. Your CAC is higher than Elon when he's posting on X",choices:[{text:"Go full desperate mode: hire your cousin's girlfriend who has 500 TikTok followers and promise her equity",effects:{revenue:-4e4,founderSanity:-25,employeeHappiness:30,margins:-40,cash:-1e4}},{text:"Pivot to LinkedIn thought leadership and become that cringe founder who posts daily about 'entrepreneurship lessons from cutting vegetables'",effects:{revenue:25e4,founderSanity:-15,employeeHappiness:-25,margins:20,cash:-2e3}}]},{id:"apr-2",month:4,persona:"vic",text:"I just saw your competitor on Shark Tank India getting a ₹2 crore deal while you can't even get your building security guard to invest ₹500. Namita aunty called their product 'revolutionary' - the same product you launched 6 months ago. The sharks are circling, but not around you. Scale or die, and right now you're basically a startup zombie.",choices:[{text:"Desperately apply for Season 69 and practice your sob story about sacrificing your engineering job for this 'dream'",effects:{revenue:2e4,founderSanity:-30,employeeHappiness:10,margins:-25,cash:-8e3}},{text:"Go full psycho mode and launch a hate campaign against them on Twitter using fake accounts and your mom's phone",effects:{revenue:15e3,founderSanity:-70,employeeHappiness:-40,margins:-10,cash:-3e3}}]},{id:"apr-3",month:4,persona:"molly",text:"The new GST rules dropped and they're more confusing than the plot of Inception. Our entire tax structure is now illegal retroactively, and the penalty is more than your dad's disappointment when you dropped out of IIT. I've been surviving on Complan and existential dread for 96 hours straight. My Excel sheets are crying.",choices:[{text:"Liquidate your personal FDs, sell your bike, and borrow money from your girlfriend's father to pay penalties",effects:{revenue:-3e4,founderSanity:-15,employeeHappiness:-35,margins:-35,cash:-2e4}},{text:"Shut down the company, delete all records, and start fresh with a new name like 'definitely-not-the-same-company-2.0'",effects:{revenue:-5e4,founderSanity:-20,employeeHappiness:-50,margins:10,cash:1e5}}]},{id:"apr-4",month:4,persona:"karen",text:"Your top customer just discovered that your 'handcrafted artisanal' soap is actually mass-produced in a factory next to a fish market. Apparently, this customer was Abhi & Niyu and it's getting more views than your entire marketing budget ever reached. The comments section looks like a battlefield and your brand reputation is deader than your college relationships.",choices:[{text:"Double down on the lie and hire actors to pretend they're your 'artisan craftspeople' making soap in a fake village setup",effects:{revenue:35e3,founderSanity:-25,employeeHappiness:-30,margins:-10,cash:-15e3}},{text:"Pull a Vijay Mallya move and become a patriot on a podcast explaining how 'mass production is the future of Indian craftsmanship' while sipping on a Kingfisher",effects:{revenue:1e4,founderSanity:35,employeeHappiness:15,margins:5,cash:-2500}}]},{id:"may-1",month:5,persona:"vic",text:"Beta, new financial year means new targets. I want 10x growth by Diwali or I'm pulling out, like your father should've but couldn't. I've been telling my golf club friends that you're the 'next big thing' and my reputation is on the line. Also, I'm bringing my nephew who just graduated from Wharton to 'help' with strategy. He thinks your business model is 'cute but outdated'.",choices:[{text:"Agree to everything and let the Wharton kid redesign your entire business while you slowly die inside",effects:{revenue:6e4,founderSanity:-80,employeeHappiness:-45,margins:-30,cash:15e4}},{text:`Tell him his nephew can see but touch nothing and he's not allowed to say "That's what she said"`,effects:{revenue:25e3,founderSanity:-25,employeeHappiness:-20,margins:15,cash:-1e4}}]},{id:"may-2",month:5,persona:"opal",text:"Good news: Summer season is here and demand is through the roof for your cooling products. Bad news: Your supplier just WhatsApped that their factory caught fire and they're now operating from their cousin's garage in Ludhiana. Also, your biggest competitor just announced same-day delivery powered by drones while you're still struggling with regular auto-rickshaw logistics.",choices:[{text:"Partner with every random delivery startup in the city and pray they don't lose your packages like they lost their Series A funding",effects:{revenue:8e4,founderSanity:-25,employeeHappiness:15,margins:20,cash:2e5}},{text:"Stick with your current setup and market it as 'sustainable, human-powered delivery' to appeal to eco-conscious customers",effects:{revenue:45e3,founderSanity:-15,employeeHappiness:25,margins:30,cash:12e4}}]},{id:"may-3",month:5,persona:"molly",text:"Fresh books, fresh hopes, fresh trauma. The new financial year means investors want detailed projections that make your current numbers look like pocket money. Your angel investor is demanding monthly board meetings where he brings homemade sandwiches and questions every ₹50 expense like it's his daughter's wedding budget. He just asked why you spent ₹2000 on 'team motivation' (it was pizza).",choices:[{text:"Create the most elaborate, impressive financial projections with fancy charts and buzzwords, knowing they're pure fiction",effects:{revenue:55e3,founderSanity:-30,employeeHappiness:10,margins:25,cash:18e4}},{text:"Present brutally honest numbers and watch his face go through the five stages of grief in real-time",effects:{revenue:35e3,founderSanity:-60,employeeHappiness:30,margins:15,cash:-8e3}}]},{id:"may-4",month:5,persona:"chad",text:"Bro, your investor just joined your company WhatsApp group and he's forwarding boomer memes about 'hard work' and questioning why your social media posts don't have enough 'synergy' and 'paradigm shifts'. He suggested you collaborate with his wife's yoga instructor for 'authentic content'. The cringe levels are breaking the space-time continuum.",choices:[{text:"Embrace the cringe and let his wife's yoga instructor become your brand ambassador, complete with morning meditation product launches",effects:{revenue:7e4,founderSanity:-85,employeeHappiness:-20,margins:35,cash:22e4}},{text:"Politely decline and create a separate 'investor updates' group to contain the damage while keeping your sanity intact",effects:{revenue:4e4,founderSanity:-25,employeeHappiness:35,margins:20,cash:1e5}}]},{id:"jun-1",month:6,persona:"vic",text:"I've installed security cameras in your office to monitor 'productivity metrics' and I'm getting live feeds on my phone. I saw you took a 7-minute chai break yesterday - that's ₹47 of lost productivity according to my calculations. Also, my wife thinks your brand colors are 'too aggressive' so we're changing them to match her saree collection. My son-in-law is now your new Head of Innovation, he has a BCom degree and strong opinions about everything.",choices:[{text:"Accept the surveillance state and let his BCom son-in-law revolutionize your product line with his 'disruptive ideas'",effects:{revenue:85e3,founderSanity:-95,employeeHappiness:-60,margins:15,cash:3e5}},{text:"Quietly start looking for new investors while pretending to comply, knowing he'll probably sue you for 'betrayal'",effects:{revenue:3e4,founderSanity:-70,employeeHappiness:10,margins:25,cash:-15e3}}]},{id:"jun-2",month:6,persona:"opal",text:"Mumbai is underwater, your warehouse is now a swimming pool, and your inventory is floating like festival offerings in the Ganges. Your psycho investor is calling every 30 minutes asking why deliveries are delayed, suggesting you should have 'predicted the monsoon better' and demanding you personally swim to customers' houses with their orders. He's also threatening to dock your salary for each delayed shipment.",choices:[{text:"Rent boats and jetskis to continue deliveries because 'customer obsession' and watch your investor's approval ratings soar",effects:{revenue:7e4,founderSanity:-60,employeeHappiness:40,margins:-20,cash:18e4}},{text:"Shut down operations temporarily and deal with his nuclear meltdown about 'lack of resilience' and 'giving up mentality'",effects:{revenue:-4e4,founderSanity:-80,employeeHappiness:20,margins:30,cash:1e5}}]},{id:"jun-3",month:6,persona:"molly",text:"Your investor now has admin access to your bank accounts and is questioning every transaction in real-time. He called a 3-hour meeting to discuss why you spent ₹150 on office supplies, brought a PowerPoint presentation about 'fiscal responsibility,' and suggested you should eat only home-cooked meals to save money. He's also implementing a new policy where all expenses above ₹100 need his personal approval via WhatsApp.",choices:[{text:"Implement his insane expense approval system and watch your business move at the speed of his WhatsApp response time",effects:{revenue:5e4,founderSanity:-85,employeeHappiness:-40,margins:40,cash:25e4}},{text:"Create fake smaller expenses to bypass his approval system and live in constant fear of getting caught",effects:{revenue:65e3,founderSanity:-75,employeeHappiness:-20,margins:20,cash:2e5}}]},{id:"jun-4",month:6,persona:"chad",text:"Your investor wants to 'optimize' your social media strategy by having his 19-year-old niece take over your Instagram because she has 'young energy' and knows 'what Gen Z wants.' She's already posted a reel of herself dancing with your products to a trending song about heartbreak, and somehow it's getting more engagement than your entire last quarter. Your brand identity is having an existential crisis.",choices:[{text:"Let the 19-year-old completely rebrand your company as a Gen Z lifestyle brand with dancing reels and random TikTok trends",effects:{revenue:9e4,founderSanity:-90,employeeHappiness:-30,margins:25,cash:28e4}},{text:"Gently suggest she can be a 'brand ambassador' while you maintain control, risking his wrath about 'not trusting family'",effects:{revenue:55e3,founderSanity:-65,employeeHappiness:15,margins:30,cash:15e4}}]},{id:"jul-1",month:7,persona:"molly",text:"Half the year is gone and we're hemorrhaging money faster than your sanity. Your psycho investor is demanding real results, not excuses. I found this AI tool called Clevrr AI that supposedly automates customer insights and revenue optimization - might save us from manually analyzing every customer complaint at 3 AM. But it costs money we don't have, and your investor will probably demand to personally interview the AI before approving it.",choices:[{text:"Invest in Clevrr AI and let artificial intelligence save your natural stupidity - maybe it can optimize what your brain can't",effects:{revenue:12e4,founderSanity:40,employeeHappiness:25,margins:35,cash:-8e3}},{text:"Stick to manual analysis and continue the slow descent into Excel-induced madness while your competitor automates their way to success",effects:{revenue:45e3,founderSanity:-40,employeeHappiness:-30,margins:15,cash:6e4}}]},{id:"jul-2",month:7,persona:"vic",text:"July is here and your numbers are still looking like your dating profile - unrealistic and disappointing. I'm giving you one last chance to prove this isn't a complete waste of my golf club membership fees. Focus on revenue or I'm pulling out faster than your customers cancel subscriptions. No more excuses about 'building brand equity' - show me the money or show me the exit.",choices:[{text:"Go all-in on aggressive revenue tactics: slash prices, offer crazy discounts, and sacrifice margins for volume like a desperate mall vendor",effects:{revenue:15e4,founderSanity:-60,employeeHappiness:-20,margins:-40,cash:2e5}},{text:"Focus on sustainable growth and risk his wrath by explaining why quick revenue grabs will kill the business long-term",effects:{revenue:8e4,founderSanity:-80,employeeHappiness:30,margins:25,cash:-1e4}}]},{id:"jul-3",month:7,persona:"chad",text:"Bro, mid-year crisis is real and your marketing ROI is flatter than a roadkill. Your investor's niece is still posting cringe reels but somehow they're converting better than your expensive agency campaigns. The algorithm gods are laughing at your premium strategy while rewarding amateur hour. Time to swallow your pride or swallow your losses.",choices:[{text:"Embrace the cringe economy: double down on the niece's content strategy and let a teenager run your million-rupee brand",effects:{revenue:11e4,founderSanity:-70,employeeHappiness:-15,margins:30,cash:18e4}},{text:"Fire the agency, take back control of marketing, and personally create content while slowly losing your mind to the algorithm",effects:{revenue:7e4,founderSanity:-15,employeeHappiness:20,margins:20,cash:12e4}}]},{id:"jul-4",month:7,persona:"karen",text:"Reality check: We're halfway through the year and customers are getting more entitled than your investor's demands. Every refund request comes with a dissertation on why your product ruined their life. Your sanity is hanging by a thread thinner than your profit margins. Either we automate customer service or I quit and join a meditation retreat in Rishikesh.",choices:[{text:"Implement chatbots and automated responses, knowing customers will hate talking to robots but your sanity might survive",effects:{revenue:85e3,founderSanity:25,employeeHappiness:-25,margins:40,cash:15e4}},{text:"Maintain personal customer service and continue absorbing every complaint like a human punching bag",effects:{revenue:95e3,founderSanity:-65,employeeHappiness:35,margins:20,cash:17e4}}]},{id:"aug-1",month:8,persona:"chad",text:"Bro, that Raksha Bandhan campaign absolutely SLAPPED! Sisters are tagging their brothers like crazy demanding our products as gifts. The engagement is through the roof and conversion rates are looking thicc. Should we double down on this emotional blackmail strategy?",choices:[{text:"Hell yeah! Launch 'Bhai, you forgot again?' retargeting ads with guilt-trip notifications",effects:{revenue:25e3,founderSanity:15,employeeHappiness:20,margins:-10,cash:35e3}},{text:"Nah, let's pivot to 'Independence Day Sale' - nothing says freedom like spending money",effects:{revenue:18e3,founderSanity:10,employeeHappiness:15,margins:5,cash:25e3}}]},{id:"aug-2",month:8,persona:"molly",text:"Okay, so good news and bad news. Good news: Our CAC finally dropped below ₹500. Bad news: I found out why - our tracking pixel was broken for 3 weeks and we've been flying blind. Also, I may have accidentally approved a ₹2 lakh Facebook ad spend while stress-eating at 3 AM.",choices:[{text:"It's fine, at least we're profitable on paper! Let's call it 'organic growth'",effects:{revenue:15e3,founderSanity:20,employeeHappiness:10,margins:15,cash:-5e3}},{text:"Panic mode: Hire expensive consultants to fix everything and audit our entire funnel",effects:{revenue:1e4,founderSanity:-5,employeeHappiness:25,margins:-20,cash:-2e4}}]},{id:"aug-3",month:8,persona:"karen",text:"Plot twist! A customer left a 5-star review saying our product 'changed their life' and they want to become our brand ambassador for free. They have 50K followers and genuine engagement. This never happens to us - what's the catch?",choices:[{text:"Embrace the miracle! Give them free products and VIP treatment - good karma pays off",effects:{revenue:2e4,founderSanity:25,employeeHappiness:30,margins:-5,cash:15e3}},{text:"Sus. Investigate thoroughly and prepare legal docs before any collaboration",effects:{revenue:5e3,founderSanity:-10,employeeHappiness:5,margins:10,cash:-2e3}}]},{id:"aug-4",month:8,persona:"opal",text:"Weird question, but our warehouse guard claims he's been having prophetic dreams about our inventory levels. Yesterday he dreamed about a flood, and today our basement supplier's warehouse actually flooded. Should we consult him before placing our next bulk order?",choices:[{text:"Why not? Make him our official 'Inventory Oracle' and pay him extra for dream consultation",effects:{revenue:12e3,founderSanity:30,employeeHappiness:35,margins:8,cash:2e4}},{text:"Stick to Excel spreadsheets and data - dreams don't pay bills (or do they?)",effects:{revenue:8e3,founderSanity:5,employeeHappiness:15,margins:12,cash:1e4}}]},{id:"sep-1",month:9,persona:"karen",text:"A customer claims our moisturizer made their face glow—in the dark. Do we issue a heartfelt apology or market it as a revolutionary night product?",choices:[{text:"Apologize sincerely and recall immediately.",effects:{revenue:-1e4,founderSanity:10,employeeHappiness:0,margins:-10,cash:-5e3}},{text:"Market it as 'Glow-in-the-Dark skincare'!",effects:{revenue:3e4,founderSanity:-10,employeeHappiness:5,margins:10,cash:1e4}}]},{id:"sep-2",month:9,persona:"vic",text:"Time for your quarterly existential crisis—do we chase the latest buzzword and rebrand everything with 'AI-powered', or stick to reality?",choices:[{text:"Slap 'AI' on everything—reality is overrated.",effects:{revenue:25e3,founderSanity:-15,employeeHappiness:-5,margins:5,cash:5e3}},{text:"Stay authentic, even if it's boring.",effects:{revenue:-5e3,founderSanity:15,employeeHappiness:5,margins:0,cash:0}}]},{id:"sep-3",month:9,persona:"chad",text:"Bro, TikTok influencers are the new crypto—volatile but rewarding. Do we gamble big on a trending influencer who's slightly scandalous?",choices:[{text:"YOLO, scandal equals views!",effects:{revenue:4e4,founderSanity:-20,employeeHappiness:-10,margins:5,cash:-1e4}},{text:"Nah, keep it clean and boring.",effects:{revenue:-1e4,founderSanity:10,employeeHappiness:10,margins:0,cash:0}}]},{id:"sep-4",month:9,persona:"opal",text:"Hypothetically, if our warehouse became sentient and unionized, would you negotiate or torch it down?",choices:[{text:"Negotiate peace with the sentient warehouse.",effects:{revenue:3e4,founderSanity:5,employeeHappiness:5,margins:-5,cash:-5e3}},{text:"Torch it—AI rebellion ends here.",effects:{revenue:-1e4,founderSanity:-5,employeeHappiness:-10,margins:10,cash:-15e3}}]},{id:"oct-1",month:10,persona:"chad",text:"Diwali's coming and everyone's doing the same boring 'Festival of Lights' campaigns. Our competitors are literally copy-pasting each other's creatives. Meanwhile, our Q3 numbers are looking sus and we need something that'll make us stand out in this festive clusterfuck.",choices:[{text:"Go full chaos mode: 'Anti-Diwali Sale' - celebrating darkness and minimalism",effects:{revenue:15e3,founderSanity:-10,employeeHappiness:-5,margins:20,cash:25e3}},{text:"Play it safe with 'Diwali Dhamaka Sale' - basic but effective",effects:{revenue:35e3,founderSanity:5,employeeHappiness:10,margins:-15,cash:45e3}},{text:"Ask Clevrr AI to generate 'culturally sensitive festival campaigns that don't offend anyone but still drive conversions while maintaining brand authenticity'",effects:{revenue:8e3,founderSanity:-25,employeeHappiness:-15,margins:-5,cash:-1e3}}]},{id:"oct-2",month:10,persona:"molly",text:"Houston, we have a problem. Our burn rate is higher than a Diwali firecracker and cash runway is looking shorter than my patience. The board meeting is next week and I need to present numbers that don't make everyone cry. Time for some creative accounting magic?",choices:[{text:"Reclassify marketing spend as 'brand building investment' - technically not lying",effects:{revenue:5e3,founderSanity:-15,employeeHappiness:-10,margins:25,cash:2e4}},{text:"Full transparency mode - show them the brutal truth with a solid recovery plan",effects:{revenue:1e4,founderSanity:20,employeeHappiness:25,margins:10,cash:-1500}}]},{id:"oct-3",month:10,persona:"karen",text:"A customer is threatening to sue us because our product didn't make them 'instantly beautiful like the influencer in the ad.' They're posting everywhere about false advertising. Legal says we're probably fine, but the internet mob is growing. This could go viral for all the wrong reasons.",choices:[{text:"Offer a full refund and public apology - kill it with kindness before it spreads",effects:{revenue:-5e3,founderSanity:15,employeeHappiness:20,margins:-10,cash:-2500}},{text:"Stand our ground - prepare for battle and let legal handle the drama",effects:{revenue:-15e3,founderSanity:-20,employeeHappiness:-15,margins:5,cash:-5e3}}]},{id:"oct-4",month:10,persona:"vic",text:"Listen kiddo, I just got back from a meditation retreat in Rishikesh where I achieved enlightenment. The cosmic energy told me that your startup's chakras are misaligned and that's why your growth is stagnant. We need to hire a business astrologer to optimize your product launches according to planetary movements. Thoughts?",choices:[{text:"Sure Vic, let's consult the stars - maybe Mercury retrograde explains our bugs",effects:{revenue:3e3,founderSanity:25,employeeHappiness:30,margins:-8,cash:-1500}},{text:"Politely decline and stick to data-driven decisions (while questioning investor sanity)",effects:{revenue:12e3,founderSanity:10,employeeHappiness:5,margins:15,cash:8e3}}]},{id:"nov-1",month:11,persona:"vic",text:"Look, I'm gonna be direct here. Your numbers are shit, runway's almost gone, and I'm the only one willing to write another check. But here's the thing - I've been dropping hints all year and you keep ignoring them. One dinner, just us two, and we can discuss a 'very generous' Series A. What do you say, founder?",choices:[{text:"Hell no - find funding elsewhere and report this creep to other founders",effects:{revenue:-2e4,founderSanity:20,employeeHappiness:15,margins:-10,cash:-8e4}},{text:"Swallow your pride and dignity - do whatever it takes to save the company",effects:{revenue:5e4,founderSanity:-30,employeeHappiness:-30,margins:25,cash:2e5}},{text:"Use Clevrr AI to draft a 'professional response that maintains investor relations while establishing clear boundaries'",effects:{revenue:-5e3,founderSanity:-15,employeeHappiness:5,margins:0,cash:-2e4}}]},{id:"nov-2",month:11,persona:"karen",text:"We have a situation. An ex-employee just posted a detailed Twitter thread accusing you of sexual harassment during late-night office hours. It's already got 2K retweets and TechCrunch is asking for comments. Whether it's true or not, the internet has already made up its mind. Damage control time.",choices:[{text:"Issue a public apology and step back from leadership - better safe than sorry",effects:{revenue:-4e4,founderSanity:-30,employeeHappiness:10,margins:-20,cash:-1e5}},{text:"Fight back with receipts - hire a PR firm and go full counter-offensive",effects:{revenue:-25e3,founderSanity:-10,employeeHappiness:-25,margins:-15,cash:-15e4}}]},{id:"nov-3",month:11,persona:"molly",text:"So... I'm quitting. I know the timing is terrible with year-end closing coming up, but I got an offer from a unicorn that's 3x my salary plus equity that might actually be worth something. I'm tired of working 80-hour weeks for peanuts while you take all the credit. Unless... you want to make me an offer I can't refuse?",choices:[{text:"Beg pathetically - offer equity, raise, title bump, whatever it takes to make her stay",effects:{revenue:15e3,founderSanity:-20,employeeHappiness:20,margins:-25,cash:-6e4}},{text:"Let her go with grace - wish her well and start panicking about finding replacement",effects:{revenue:-3e4,founderSanity:-35,employeeHappiness:-20,margins:-30,cash:-4e4}}]},{id:"nov-4",month:11,persona:"opal",text:"Weird update: Our delivery partner's algorithm has become sentient and is now refusing to deliver to customers who leave bad reviews. It's actually improved our ratings, but also created a cult-like following of customers who worship our 'selective delivery system.' Should we embrace our new AI overlord?",choices:[{text:"All hail the algorithm - rebrand as 'premium selective delivery service'",effects:{revenue:25e3,founderSanity:15,employeeHappiness:25,margins:20,cash:35e3}},{text:"Fix the bug before Skynet takes over our entire supply chain",effects:{revenue:1e4,founderSanity:5,employeeHappiness:10,margins:5,cash:15e3}}]},{id:"dec-1",month:12,persona:"chad",text:"Holy shit, it's December 20th and we're still ₹2.5 crores short of our ₹10 crore target. I found a grey-hat growth hack that could pump our numbers - fake a controversy, get 'cancelled' on Twitter, then do a comeback sale. It's risky as hell but could generate massive FOMO. This is do-or-die time, bro.",choices:[{text:"YOLO - manufacture the controversy and ride the chaos to victory",effects:{revenue:8e4,founderSanity:-30,employeeHappiness:-50,margins:-20,cash:12e4}},{text:"Stay ethical - grind it out with honest marketing till the last day",effects:{revenue:35e3,founderSanity:10,employeeHappiness:20,margins:15,cash:5e4}},{text:"Let Clevrr AI generate 'viral controversy ideas that boost sales without legal consequences while maintaining brand integrity'",effects:{revenue:-15e3,founderSanity:-25,employeeHappiness:-20,margins:-10,cash:-3e4}}]},{id:"dec-2",month:12,persona:"molly",text:"I've been cooking the books for months to keep us looking healthy, but now the auditors are here for year-end review. I can either confess everything and face the consequences, or double down and pray we hit our targets to cover the gaps. If we fail, it's fraud charges. If we succeed, I'm a genius. No pressure.",choices:[{text:"Confess everything - take the hit now and rebuild with clean books",effects:{revenue:-6e4,founderSanity:-30,employeeHappiness:-40,margins:-50,cash:-2e5}},{text:"Double down - forge ahead and hope the numbers work out by December 31st",effects:{revenue:45e3,founderSanity:-60,employeeHappiness:-30,margins:30,cash:8e4}}]},{id:"dec-3",month:12,persona:"vic",text:"Kid, I've got good news and bad news. Bad news: The board voted to replace you as CEO. Good news: I convinced them to give you one last chance. Hit ₹10 crore ARR by December 31st or you're out. Also, I'm putting my nephew as interim COO to 'help' you. He's 22 and his only experience is crypto trading. Thoughts?",choices:[{text:"Accept the terms - work with the nepotism hire and fight for your company",effects:{revenue:25e3,founderSanity:-45,employeeHappiness:-35,margins:-15,cash:4e4}},{text:"Fuck it - quit before they fire you and start fresh with a new venture",effects:{revenue:-1e5,founderSanity:30,employeeHappiness:-60,margins:-100,cash:-3e5}}]},{id:"dec-4",month:12,persona:"karen",text:"Plot twist: A customer found a way to exploit our return policy and has been getting free products for months. But instead of reporting it, they're now offering to teach us how to fix the loophole in exchange for a lifetime supply of products. They claim they're actually helping us avoid bigger losses. Trust the ethical hacker or call the cops?",choices:[{text:"Make a deal with the devil - hire them as a 'security consultant'",effects:{revenue:15e3,founderSanity:20,employeeHappiness:15,margins:25,cash:3e4}},{text:"Report them and fix the system ourselves - justice over convenience",effects:{revenue:-1e4,founderSanity:10,employeeHappiness:25,margins:10,cash:-2e4}}]}],Fu=t=>{const e=T_.filter(r=>r.month===t),n=Math.floor(Math.random()*2)+2;return e.sort(()=>Math.random()-.5).slice(0,n)},x_={revenue:5e4,margins:40,employeeHappiness:80,founderSanity:90,cash:5e5},Yg={brandName:"",currentMonth:0,metrics:x_,gameStatus:"not-started",questionHistory:[]},S_=(t,e)=>{switch(e.type){case"START_GAME":return{...t,gameStatus:"setup"};case"SET_BRAND_NAME":return{...t,brandName:e.payload,gameStatus:"in-progress",currentMonth:1};case"ANSWER_QUESTION":{const{question:n,choiceIndex:r}=e.payload,i=n.choices[r],s=i.effects,a={...t.metrics};s.revenue!==void 0&&(a.revenue+=s.revenue),s.margins!==void 0&&(a.margins+=s.margins),s.employeeHappiness!==void 0&&(a.employeeHappiness+=s.employeeHappiness),s.founderSanity!==void 0&&(a.founderSanity+=s.founderSanity),s.cash!==void 0&&(a.cash+=s.cash),a.margins=Math.max(0,Math.min(100,a.margins)),a.employeeHappiness=Math.max(0,Math.min(100,a.employeeHappiness)),a.founderSanity=Math.max(0,Math.min(100,a.founderSanity)),a.cash=Math.max(0,a.cash),a.revenue=Math.max(0,a.revenue);let l=t.gameStatus;return a.cash<=0||a.founderSanity<=0||a.employeeHappiness<=0||a.revenue<=1e3||a.margins<10?l="lost":t.currentMonth===12&&Fu(12).indexOf(n)===Fu(12).length-1&&(l=a.revenue>=1e7?"won":"lost"),{...t,metrics:a,gameStatus:l,questionHistory:[...t.questionHistory,{question:n.text,choice:i.text,effects:s}]}}case"NEXT_MONTH":return{...t,currentMonth:t.currentMonth+1};case"RESET_GAME":return Yg;default:return t}},Xg=Se.createContext(void 0),I_=({children:t})=>{const[e,n]=Se.useReducer(S_,Yg),[r]=pl.useState(()=>new Audio("/d2c-startup-simulator/music/background.mp3")),[i,s]=pl.useState(!1);pl.useEffect(()=>{e.gameStatus==="in-progress"?(r.loop=!0,r.volume=.5,r.play().then(()=>s(!0)).catch(()=>s(!1))):(e.gameStatus==="lost"||e.gameStatus==="won")&&(r.pause(),r.currentTime=0,s(!1))},[e.gameStatus,r]);const a=()=>{r.pause(),s(!1)},l=()=>{r.play().then(()=>s(!0)).catch(()=>s(!1))},c=m=>["Start","January","February","March","April","May","June","July","August","September","October","November","December"][m],d=()=>{if(e.currentMonth===0)return[];const m=Fu(e.currentMonth),y=e.questionHistory.filter(R=>{const P=m.find(D=>D.text===R.question);return P&&P.month===e.currentMonth}).map(R=>{const P=m.find(D=>D.text===R.question);return(P==null?void 0:P.id)||""});return m.filter(R=>!y.includes(R.id))},g=m=>m>=1e6?`$${(m/1e6).toFixed(1)}M`:m>=1e3?`$${(m/1e3).toFixed(1)}k`:`$${m.toFixed(0)}`;return A.jsx(Xg.Provider,{value:{state:{...e,isAudioPlaying:i},dispatch:n,getMonthName:c,getRemainingQuestionsForCurrentMonth:d,formatCurrency:g,pauseAudio:a,playAudio:l},children:t})},hr=()=>{const t=Se.useContext(Xg);if(t===void 0)throw new Error("useGame must be used within a GameProvider");return t},hs=({children:t,variant:e="primary",className:n="",...r})=>{const i="pixel-btn relative px-6 py-2 transition-transform active:translate-y-1 font-bold text-center focus:outline-none",s={primary:"bg-blue-500 text-white hover:bg-blue-600 shadow-pixel-blue",secondary:"bg-gray-200 text-gray-800 hover:bg-gray-300 shadow-pixel-gray",danger:"bg-red-500 text-white hover:bg-red-600 shadow-pixel-red"};return A.jsx("button",{className:`${i} ${s[e]} ${n}`,...r,children:A.jsx("span",{className:"pixel-text",children:t})})},A_=()=>{const{dispatch:t}=hr(),e=()=>{t({type:"START_GAME"})};return A.jsxs("div",{className:"flex flex-col items-center justify-center px-4 py-8 text-center",children:[A.jsx("div",{className:"pixel-art flex items-center justify-center",children:A.jsx("img",{src:"/d2c-startup-simulator/mascot.png",alt:"Mascot",className:"w-56"})}),A.jsxs("div",{className:"pixel-border p-6 max-w-2xl mb-8 bg-white",children:[A.jsx("h2",{className:"pixel-text text-2xl mb-4 text-blue-800",children:"Welcome, Founder!"}),A.jsxs("p",{className:"pixel-text mb-4",style:{fontSize:"21px"},children:["You're about to embark on a journey to build a successful Direct-to-Consumer brand.",A.jsx("strong",{children:"Your mission: reach $10 million in annual revenue within 12 months."})]}),A.jsx("p",{className:"pixel-text mb-6",children:"The path to D2C success is challenging, but with smart decisions, you might just build the next big brand!"})]}),A.jsx(hs,{onClick:e,className:"animate-pulse",children:"Start Your D2C Journey"}),A.jsxs("p",{className:"pixel-text mt-8 text-md bg-blue-600 text-white px-4 py-2 rounded",children:["Built with 💝 by"," ",A.jsx("a",{href:"https://getclevrr.com/?utm-source=d2c-simulator&utm-medium=referral&utm-campaign=d2c-simulator",target:"_blank",className:"underline",children:"Clevrr AI"}),". Opensourced at"," ",A.jsx("a",{href:"https://github.com/clevrr-ai/d2c-startup-simulator",target:"_blank",className:"underline",children:"GitHub"}),"."]})]})};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var k_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C_=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ni=(t,e)=>{const n=Se.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:l="",children:c,...d},g)=>Se.createElement("svg",{ref:g,...k_,width:i,height:i,stroke:r,strokeWidth:a?Number(s)*24/Number(i):s,className:["lucide",`lucide-${C_(t)}`,l].join(" "),...d},[...e.map(([m,y])=>Se.createElement(m,y)),...Array.isArray(c)?c:[c]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nf=ni("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Df=ni("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vf=ni("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R_=ni("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bf=ni("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mf=ni("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),Xc=({metrics:t,compact:e=!1})=>{const{formatCurrency:n,state:r,pauseAudio:i,playAudio:s}=hr();return e?A.jsxs("div",{className:"metrics grid grid-cols-2 md:grid-cols-6 gap-2 text-center",children:[A.jsx("div",{className:t.revenue<=1e4?"metric pixel-border p-1 bg-red-500 text-dark animate-pulse":"metric pixel-border p-1 bg-green-100",children:A.jsxs("div",{className:"flex flex-col items-center justify-center",children:[A.jsxs("div",{className:"flex items-center mb-1",children:[A.jsx(Mf,{size:14,className:"mr-1"}),A.jsxs("span",{className:"pixel-text text-sm",children:[n(t.revenue),"/mo"]})]}),A.jsx("div",{className:"w-full bg-green-200 h-4 pixel-border",children:A.jsx("div",{className:"bg-green-500 h-full",style:{width:`${t.revenue/833333*100}%`}})})]})}),A.jsx("div",{className:t.margins<=25?"metric pixel-border p-1 bg-red-500 text-dark animate-pulse":"metric pixel-border p-1 bg-blue-100",children:A.jsxs("div",{className:"flex flex-col items-center justify-center",children:[A.jsxs("div",{className:"flex items-center mb-1",children:[A.jsx(bf,{size:14,className:"mr-1"}),A.jsxs("span",{className:"pixel-text text-sm",children:[t.margins,"% margin"]})]}),A.jsx("div",{className:"w-full bg-blue-200 h-4 pixel-border",children:A.jsx("div",{className:"bg-blue-500 h-full",style:{width:`${t.margins}%`}})})]})}),A.jsx("div",{className:t.employeeHappiness<=20?"metric pixel-border p-1 bg-red-500 text-dark animate-pulse":"metric pixel-border p-1 bg-red-100",children:A.jsxs("div",{className:"flex flex-col items-center justify-center",children:[A.jsxs("div",{className:"flex items-center mb-1",children:[A.jsx(Vf,{size:14,className:"mr-1"}),A.jsxs("span",{className:"pixel-text text-sm",children:[t.employeeHappiness,"% happy"]})]}),A.jsx("div",{className:"w-full bg-red-200 h-4 pixel-border",children:A.jsx("div",{className:"bg-red-500 h-full",style:{width:`${t.founderSanity}%`}})})]})}),A.jsx("div",{className:t.founderSanity<=25?"metric pixel-border p-1 bg-red-500 text-dark animate-pulse":"metric pixel-border p-1 bg-purple-100",children:A.jsxs("div",{className:"flex flex-col items-center justify-center",children:[A.jsxs("div",{className:"flex items-center mb-1",children:[A.jsx(Nf,{size:14,className:"mr-1"}),A.jsxs("span",{className:"pixel-text text-sm",children:[t.founderSanity,"% sanity"]})]}),A.jsx("div",{className:"w-full bg-gray-200 h-4 pixel-border",children:A.jsx("div",{className:"bg-purple-500 h-full",style:{width:`${t.founderSanity}%`}})})]})}),A.jsx("div",{className:t.cash<=5e4?"metric pixel-border p-1 bg-red-500 text-dark animate-pulse":"metric pixel-border p-1 bg-yellow-100",children:A.jsxs("div",{className:"flex flex-col items-center justify-center",children:[A.jsxs("div",{className:"flex items-center mb-1",children:[A.jsx(Df,{size:14,className:"mr-1"}),A.jsxs("span",{className:"pixel-text text-sm",children:[n(t.cash)," cash"]})]}),A.jsx("div",{className:"w-full bg-gray-200 h-4 pixel-border",children:A.jsx("div",{className:"bg-yellow-500 h-full",style:{width:`${t.cash/1e4}%`}})})]})}),A.jsx("div",{className:"metric text-white text-bold pixel-border p-1 bg-red-600 cursor-pointer",onClick:()=>{r.isAudioPlaying?i():s()},title:r.isAudioPlaying?"Mute audio":"Unmute audio",children:A.jsx("div",{className:"flex flex-col items-center justify-center",children:A.jsxs("div",{className:"flex items-center mb-1",children:[A.jsx(R_,{size:14,className:"mr-1"}),A.jsx("span",{className:"pixel-text text-sm",children:r.isAudioPlaying?"Mute":"Unmute"})]})})})]}):A.jsxs("div",{className:"metrics grid grid-cols-1 md:grid-cols-3 gap-4",children:[A.jsxs("div",{className:t.revenue<=1e3?"metric pixel-border p-4 bg-red-500 text-dark animate-pulse":"metric pixel-border p-4 bg-green-100",children:[A.jsxs("div",{className:"flex items-center mb-2",children:[A.jsx(Mf,{className:"mr-2"}),A.jsx("h4",{className:"pixel-text font-bold",children:"Revenue"})]}),A.jsxs("p",{className:"pixel-text text-2xl",children:[n(t.revenue),"/month"]}),A.jsxs("p",{className:"pixel-text text-sm",children:["Annual: ",n(t.revenue*12)]})]}),A.jsxs("div",{className:t.margins<=10?"metric pixel-border p-4 bg-red-500 text-dark animate-pulse":"metric pixel-border p-4 bg-blue-100",children:[A.jsxs("div",{className:"flex items-center mb-2",children:[A.jsx(bf,{className:"mr-2"}),A.jsx("h4",{className:"pixel-text font-bold",children:"Profit Margins"})]}),A.jsxs("p",{className:"pixel-text text-2xl",children:[t.margins,"%"]}),A.jsxs("p",{className:"pixel-text text-sm",children:["Profit: ",n(t.revenue*(t.margins/100)),"/mo"]})]}),A.jsxs("div",{className:t.cash<=0?"metric pixel-border p-4 bg-red-500 text-dark animate-pulse":"metric pixel-border p-4 bg-yellow-100",children:[A.jsxs("div",{className:"flex items-center mb-2",children:[A.jsx(Df,{className:"mr-2"}),A.jsx("h4",{className:"pixel-text font-bold",children:"Cash"})]}),A.jsx("p",{className:"pixel-text text-2xl",children:n(t.cash)}),A.jsxs("p",{className:"pixel-text text-sm",children:["Runway: ",Math.floor(t.cash/(t.revenue*(1-t.margins/100)))," months"]})]}),A.jsxs("div",{className:t.employeeHappiness<=0?"metric pixel-border p-4 bg-red-500 text-dark animate-pulse":"metric pixel-border p-4 bg-red-100 md:col-span-1.5",children:[A.jsxs("div",{className:"flex items-center mb-2",children:[A.jsx(Vf,{className:"mr-2"}),A.jsx("h4",{className:"pixel-text font-bold",children:"Employee Happiness"})]}),A.jsx("div",{className:"w-full bg-gray-200 h-4 pixel-border",children:A.jsx("div",{className:"bg-red-500 h-full",style:{width:`${t.employeeHappiness}%`}})}),A.jsxs("p",{className:"pixel-text text-sm mt-1",children:[t.employeeHappiness,"%"]})]}),A.jsxs("div",{className:t.founderSanity<=0?"metric pixel-border p-4 bg-red-500 text-dark animate-pulse":"metric pixel-border p-4 bg-purple-100 md:col-span-1.5",children:[A.jsxs("div",{className:"flex items-center mb-2",children:[A.jsx(Nf,{className:"mr-2"}),A.jsx("h4",{className:"pixel-text font-bold",children:"Founder Sanity"})]}),A.jsx("div",{className:"w-full bg-gray-200 h-4 pixel-border",children:A.jsx("div",{className:"bg-purple-500 h-full",style:{width:`${t.founderSanity}%`}})}),A.jsxs("p",{className:"pixel-text text-sm mt-1",children:[t.founderSanity,"%"]})]})]})},P_=()=>{const{state:t,dispatch:e}=hr(),[n,r]=Se.useState(""),[i,s]=Se.useState(!1),a=c=>{c.preventDefault(),n.trim()&&s(!0)},l=()=>{e({type:"SET_BRAND_NAME",payload:n})};return i?A.jsxs("div",{className:"flex flex-col items-center justify-center px-4 py-8 text-center",children:[A.jsxs("h2",{className:"pixel-text text-3xl mb-6",children:["Welcome to ",A.jsx("span",{className:"text-blue-600",children:n}),"!"]}),A.jsxs("div",{className:"pixel-border p-6 max-w-2xl mb-8 bg-white",children:[A.jsx("h3",{className:"pixel-text text-2xl mb-4",children:"Your Starting Metrics"}),A.jsx("p",{className:"pixel-text mb-6",style:{fontSize:"21px"},children:"These are your starting metrics. Your decisions will affect these values throughout the game. Remember, your goal is to reach $10M in annual revenue, which means about $833K in monthly revenue."}),A.jsx("div",{className:"mb-6",children:A.jsx(Xc,{metrics:t.metrics})}),A.jsx("p",{className:"pixel-text mb-4 font-bold",children:"You have 12 months. Good luck!"}),A.jsx(hs,{onClick:l,className:"animate-pulse",children:"Begin Month 1: January"})]})]}):A.jsxs("div",{className:"flex flex-col items-center justify-center px-4 py-8 text-center",children:[A.jsx("h2",{className:"pixel-text text-3xl mb-6",children:"Name Your D2C Brand"}),A.jsxs("div",{className:"pixel-border p-6 max-w-2xl mb-8 bg-white",children:[A.jsx("p",{className:"pixel-text mb-6",children:"Every great brand needs a name. What will you call your D2C company?"}),A.jsxs("form",{onSubmit:a,className:"flex flex-col items-center",children:[A.jsx("input",{type:"text",value:n,onChange:c=>r(c.target.value),placeholder:"YourBrand",className:"pixel-input w-full max-w-md mb-6 p-2 text-center text-xl",maxLength:20}),A.jsx(hs,{type:"submit",disabled:!n.trim(),children:"Continue"})]})]})]})},N_={chad:{id:"chad",name:"Chad Clikz",title:"Growth Marketer",style:"Bro-vibes. Obsessed with ads, virality, and YOLO budgets."},molly:{id:"molly",name:"Molly Metrics",title:"Data Analyst / Finance Lead",style:"Stressed. Spreadsheet-pilled. Drowning in tabs."},opal:{id:"opal",name:"Opal Ops",title:"Head of Ops",style:"Logistics ninja. Always solving supplier crises and warehouse fires."},karen:{id:"karen",name:"Karen Karma",title:"CX Head",style:"Thinks every customer is sacred. Pushes for policies that hurt margins."},vic:{id:"vic",name:"Vic Venture",title:"Angel Investor",style:'Overbearing. Says things like "scale or die" and threatens your job weekly.'},clevrr:{id:"clevrr",name:"Clevrr AI",title:"AI Assistant",style:"Sassy, logical, delivers data insights with meme-worthy sarcasm."}},D_=({question:t,onAnswer:e})=>{const n=N_[t.persona];return A.jsxs("div",{className:"question-card pixel-border p-6 bg-white max-w-2xl w-full animate-fadeIn",children:[A.jsxs("div",{className:"flex items-center mb-6",children:[A.jsx("img",{src:`/d2c-startup-simulator/personas/${n.id}.png`,alt:n.name,className:"w-32 h-32 mr-6 rounded-lg object-cover"}),A.jsxs("div",{className:"flex-1",children:[A.jsx("div",{className:"font-bold text-blue-600 text-lg",children:n.name}),A.jsx("div",{className:"text-gray-600 mb-2",children:n.title}),A.jsx("h3",{className:"pixel-text text-xl",children:t.text})]})]}),A.jsx("div",{className:"space-y-4",children:t.choices.map((r,i)=>A.jsx("div",{className:"choice-button flex justify-center",onClick:()=>e(i),children:A.jsx(hs,{className:"w-full text-left justify-start px-4 py-3 hover:bg-blue-600 transition-colors",children:r.text})},i))}),A.jsx("div",{className:"mt-6 pixel-text text-sm text-center opacity-70",children:"Choose wisely, this will affect your business!"})]})},V_=({month:t,onTransitionComplete:e})=>{const{getMonthName:n}=hr(),[r,i]=Se.useState(!0);return Se.useEffect(()=>{const s=setTimeout(()=>{i(!1),setTimeout(e,500)},2e3);return()=>clearTimeout(s)},[]),A.jsx("div",{className:`fixed inset-0 bg-black flex items-center justify-center z-50 transition-opacity duration-500 ${r?"opacity-100":"opacity-0"}`,children:A.jsxs("div",{className:"text-center",children:[A.jsx("h2",{className:"pixel-text text-5xl text-white mb-4 animate-pulse",children:n(t)}),A.jsx("div",{className:"pixel-text text-white text-xl",children:"A new month brings new challenges..."})]})})},b_=()=>{};var Of={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jg=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},M_=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],a=t[n++],l=t[n++],c=((i&7)<<18|(s&63)<<12|(a&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const s=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},Zg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,l=a?t[i+1]:0,c=i+2<t.length,d=c?t[i+2]:0,g=s>>2,m=(s&3)<<4|l>>4;let y=(l&15)<<2|d>>6,R=d&63;c||(R=64,a||(y=64)),r.push(n[g],n[m],n[y],n[R])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Jg(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):M_(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const d=i<t.length?n[t.charAt(i)]:64;++i;const m=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||d==null||m==null)throw new O_;const y=s<<2|l>>4;if(r.push(y),d!==64){const R=l<<4&240|d>>2;if(r.push(R),m!==64){const P=d<<6&192|m;r.push(P)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class O_ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const L_=function(t){const e=Jg(t);return Zg.encodeByteArray(e,!0)},ra=function(t){return L_(t).replace(/\./g,"")},j_=function(t){try{return Zg.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F_(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U_=()=>F_().__FIREBASE_DEFAULTS__,B_=()=>{if(typeof process>"u"||typeof Of>"u")return;const t=Of.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},z_=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&j_(t[1]);return e&&JSON.parse(e)},Jc=()=>{try{return b_()||U_()||B_()||z_()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},H_=t=>{var e,n;return(n=(e=Jc())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},$_=t=>{const e=H_(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},ey=()=>{var t;return(t=Jc())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G_{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zc(t){return t.endsWith(".cloudworkstations.dev")}async function W_(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q_(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ra(JSON.stringify(n)),ra(JSON.stringify(a)),""].join(".")}const Hi={};function q_(){const t={prod:[],emulator:[]};for(const e of Object.keys(Hi))Hi[e]?t.emulator.push(e):t.prod.push(e);return t}function K_(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Lf=!1;function Y_(t,e){if(typeof window>"u"||typeof document>"u"||!Zc(window.location.host)||Hi[t]===e||Hi[t]||Lf)return;Hi[t]=e;function n(y){return`__firebase__banner__${y}`}const r="__firebase__banner",s=q_().prod.length>0;function a(){const y=document.getElementById(r);y&&y.remove()}function l(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function c(y,R){y.setAttribute("width","24"),y.setAttribute("id",R),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function d(){const y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{Lf=!0,a()},y}function g(y,R){y.setAttribute("id",R),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function m(){const y=K_(r),R=n("text"),P=document.getElementById(R)||document.createElement("span"),D=n("learnmore"),j=document.getElementById(D)||document.createElement("a"),x=n("preprendIcon"),_=document.getElementById(x)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){const S=y.element;l(S),g(j,D);const V=d();c(_,x),S.append(_,P,j,V),document.body.appendChild(S)}s?(P.innerText="Preview backend disconnected.",_.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(_.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,P.innerText="Preview backend running in this workspace."),P.setAttribute("id",R)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X_(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function J_(){var t;const e=(t=Jc())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Z_(){return!J_()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ew(){try{return typeof indexedDB=="object"}catch{return!1}}function tw(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw="FirebaseError";class ri extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=nw,Object.setPrototypeOf(this,ri.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ty.prototype.create)}}class ty{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?rw(s,r):"Error",l=`${this.serviceName}: ${a} (${i}).`;return new ri(i,l,r)}}function rw(t,e){return t.replace(iw,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const iw=/\{\$([^}]+)}/g;function ia(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],a=e[i];if(jf(s)&&jf(a)){if(!ia(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function jf(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ds(t){return t&&t._delegate?t._delegate:t}class fs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new G_;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(aw(e))try{this.getOrInitializeService({instanceIdentifier:Gn})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Gn){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Gn){return this.instances.has(e)}getOptions(e=Gn){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&a.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:ow(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Gn){return this.component?this.component.multipleInstances?e:Gn:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ow(t){return t===Gn?void 0:t}function aw(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new sw(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var X;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(X||(X={}));const uw={debug:X.DEBUG,verbose:X.VERBOSE,info:X.INFO,warn:X.WARN,error:X.ERROR,silent:X.SILENT},cw=X.INFO,hw={[X.DEBUG]:"log",[X.VERBOSE]:"log",[X.INFO]:"info",[X.WARN]:"warn",[X.ERROR]:"error"},dw=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=hw[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ny{constructor(e){this.name=e,this._logLevel=cw,this._logHandler=dw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in X))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?uw[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,X.DEBUG,...e),this._logHandler(this,X.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,X.VERBOSE,...e),this._logHandler(this,X.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,X.INFO,...e),this._logHandler(this,X.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,X.WARN,...e),this._logHandler(this,X.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,X.ERROR,...e),this._logHandler(this,X.ERROR,...e)}}const fw=(t,e)=>e.some(n=>t instanceof n);let Ff,Uf;function pw(){return Ff||(Ff=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function mw(){return Uf||(Uf=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ry=new WeakMap,Uu=new WeakMap,iy=new WeakMap,Ul=new WeakMap,eh=new WeakMap;function gw(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(An(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&ry.set(n,t)}).catch(()=>{}),eh.set(e,t),e}function yw(t){if(Uu.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});Uu.set(t,e)}let Bu={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Uu.get(t);if(e==="objectStoreNames")return t.objectStoreNames||iy.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return An(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function vw(t){Bu=t(Bu)}function _w(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Bl(this),e,...n);return iy.set(r,e.sort?e.sort():[e]),An(r)}:mw().includes(t)?function(...e){return t.apply(Bl(this),e),An(ry.get(this))}:function(...e){return An(t.apply(Bl(this),e))}}function ww(t){return typeof t=="function"?_w(t):(t instanceof IDBTransaction&&yw(t),fw(t,pw())?new Proxy(t,Bu):t)}function An(t){if(t instanceof IDBRequest)return gw(t);if(Ul.has(t))return Ul.get(t);const e=ww(t);return e!==t&&(Ul.set(t,e),eh.set(e,t)),e}const Bl=t=>eh.get(t);function Ew(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),l=An(a);return r&&a.addEventListener("upgradeneeded",c=>{r(An(a.result),c.oldVersion,c.newVersion,An(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const Tw=["get","getKey","getAll","getAllKeys","count"],xw=["put","add","delete","clear"],zl=new Map;function Bf(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(zl.get(e))return zl.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=xw.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Tw.includes(n)))return;const s=async function(a,...l){const c=this.transaction(a,i?"readwrite":"readonly");let d=c.store;return r&&(d=d.index(l.shift())),(await Promise.all([d[n](...l),i&&c.done]))[0]};return zl.set(e,s),s}vw(t=>({...t,get:(e,n,r)=>Bf(e,n)||t.get(e,n,r),has:(e,n)=>!!Bf(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Iw(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Iw(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const zu="@firebase/app",zf="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const on=new ny("@firebase/app"),Aw="@firebase/app-compat",kw="@firebase/analytics-compat",Cw="@firebase/analytics",Rw="@firebase/app-check-compat",Pw="@firebase/app-check",Nw="@firebase/auth",Dw="@firebase/auth-compat",Vw="@firebase/database",bw="@firebase/data-connect",Mw="@firebase/database-compat",Ow="@firebase/functions",Lw="@firebase/functions-compat",jw="@firebase/installations",Fw="@firebase/installations-compat",Uw="@firebase/messaging",Bw="@firebase/messaging-compat",zw="@firebase/performance",Hw="@firebase/performance-compat",$w="@firebase/remote-config",Gw="@firebase/remote-config-compat",Ww="@firebase/storage",Qw="@firebase/storage-compat",qw="@firebase/firestore",Kw="@firebase/ai",Yw="@firebase/firestore-compat",Xw="firebase",Jw="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hu="[DEFAULT]",Zw={[zu]:"fire-core",[Aw]:"fire-core-compat",[Cw]:"fire-analytics",[kw]:"fire-analytics-compat",[Pw]:"fire-app-check",[Rw]:"fire-app-check-compat",[Nw]:"fire-auth",[Dw]:"fire-auth-compat",[Vw]:"fire-rtdb",[bw]:"fire-data-connect",[Mw]:"fire-rtdb-compat",[Ow]:"fire-fn",[Lw]:"fire-fn-compat",[jw]:"fire-iid",[Fw]:"fire-iid-compat",[Uw]:"fire-fcm",[Bw]:"fire-fcm-compat",[zw]:"fire-perf",[Hw]:"fire-perf-compat",[$w]:"fire-rc",[Gw]:"fire-rc-compat",[Ww]:"fire-gcs",[Qw]:"fire-gcs-compat",[qw]:"fire-fst",[Yw]:"fire-fst-compat",[Kw]:"fire-vertex","fire-js":"fire-js",[Xw]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa=new Map,eE=new Map,$u=new Map;function Hf(t,e){try{t.container.addComponent(e)}catch(n){on.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function oa(t){const e=t.name;if($u.has(e))return on.debug(`There were multiple attempts to register component ${e}.`),!1;$u.set(e,t);for(const n of sa.values())Hf(n,t);for(const n of eE.values())Hf(n,t);return!0}function tE(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function nE(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},kn=new ty("app","Firebase",rE);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new fs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw kn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE=Jw;function sy(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Hu,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw kn.create("bad-app-name",{appName:String(i)});if(n||(n=ey()),!n)throw kn.create("no-options");const s=sa.get(i);if(s){if(ia(n,s.options)&&ia(r,s.config))return s;throw kn.create("duplicate-app",{appName:i})}const a=new lw(i);for(const c of $u.values())a.addComponent(c);const l=new iE(n,r,a);return sa.set(i,l),l}function oE(t=Hu){const e=sa.get(t);if(!e&&t===Hu&&ey())return sy();if(!e)throw kn.create("no-app",{appName:t});return e}function Fr(t,e,n){var r;let i=(r=Zw[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),on.warn(l.join(" "));return}oa(new fs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE="firebase-heartbeat-database",lE=1,ps="firebase-heartbeat-store";let Hl=null;function oy(){return Hl||(Hl=Ew(aE,lE,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ps)}catch(n){console.warn(n)}}}}).catch(t=>{throw kn.create("idb-open",{originalErrorMessage:t.message})})),Hl}async function uE(t){try{const n=(await oy()).transaction(ps),r=await n.objectStore(ps).get(ay(t));return await n.done,r}catch(e){if(e instanceof ri)on.warn(e.message);else{const n=kn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});on.warn(n.message)}}}async function $f(t,e){try{const r=(await oy()).transaction(ps,"readwrite");await r.objectStore(ps).put(e,ay(t)),await r.done}catch(n){if(n instanceof ri)on.warn(n.message);else{const r=kn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});on.warn(r.message)}}}function ay(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE=1024,hE=30;class dE{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new pE(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Gf();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>hE){const a=mE(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){on.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Gf(),{heartbeatsToSend:r,unsentEntries:i}=fE(this._heartbeatsCache.heartbeats),s=ra(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return on.warn(n),""}}}function Gf(){return new Date().toISOString().substring(0,10)}function fE(t,e=cE){const n=[];let r=t.slice();for(const i of t){const s=n.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),Wf(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Wf(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class pE{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ew()?tw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await uE(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return $f(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return $f(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Wf(t){return ra(JSON.stringify({version:2,heartbeats:t})).length}function mE(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gE(t){oa(new fs("platform-logger",e=>new Sw(e),"PRIVATE")),oa(new fs("heartbeat",e=>new dE(e),"PRIVATE")),Fr(zu,zf,t),Fr(zu,zf,"esm2017"),Fr("fire-js","")}gE("");var yE="firebase",vE="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fr(yE,vE,"app");var Qf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var th;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(w,p){function v(){}v.prototype=p.prototype,w.D=p.prototype,w.prototype=new v,w.prototype.constructor=w,w.C=function(T,I,C){for(var E=Array(arguments.length-2),mt=2;mt<arguments.length;mt++)E[mt-2]=arguments[mt];return p.prototype[I].apply(T,E)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(w,p,v){v||(v=0);var T=Array(16);if(typeof p=="string")for(var I=0;16>I;++I)T[I]=p.charCodeAt(v++)|p.charCodeAt(v++)<<8|p.charCodeAt(v++)<<16|p.charCodeAt(v++)<<24;else for(I=0;16>I;++I)T[I]=p[v++]|p[v++]<<8|p[v++]<<16|p[v++]<<24;p=w.g[0],v=w.g[1],I=w.g[2];var C=w.g[3],E=p+(C^v&(I^C))+T[0]+3614090360&4294967295;p=v+(E<<7&4294967295|E>>>25),E=C+(I^p&(v^I))+T[1]+3905402710&4294967295,C=p+(E<<12&4294967295|E>>>20),E=I+(v^C&(p^v))+T[2]+606105819&4294967295,I=C+(E<<17&4294967295|E>>>15),E=v+(p^I&(C^p))+T[3]+3250441966&4294967295,v=I+(E<<22&4294967295|E>>>10),E=p+(C^v&(I^C))+T[4]+4118548399&4294967295,p=v+(E<<7&4294967295|E>>>25),E=C+(I^p&(v^I))+T[5]+1200080426&4294967295,C=p+(E<<12&4294967295|E>>>20),E=I+(v^C&(p^v))+T[6]+2821735955&4294967295,I=C+(E<<17&4294967295|E>>>15),E=v+(p^I&(C^p))+T[7]+4249261313&4294967295,v=I+(E<<22&4294967295|E>>>10),E=p+(C^v&(I^C))+T[8]+1770035416&4294967295,p=v+(E<<7&4294967295|E>>>25),E=C+(I^p&(v^I))+T[9]+2336552879&4294967295,C=p+(E<<12&4294967295|E>>>20),E=I+(v^C&(p^v))+T[10]+4294925233&4294967295,I=C+(E<<17&4294967295|E>>>15),E=v+(p^I&(C^p))+T[11]+2304563134&4294967295,v=I+(E<<22&4294967295|E>>>10),E=p+(C^v&(I^C))+T[12]+1804603682&4294967295,p=v+(E<<7&4294967295|E>>>25),E=C+(I^p&(v^I))+T[13]+4254626195&4294967295,C=p+(E<<12&4294967295|E>>>20),E=I+(v^C&(p^v))+T[14]+2792965006&4294967295,I=C+(E<<17&4294967295|E>>>15),E=v+(p^I&(C^p))+T[15]+1236535329&4294967295,v=I+(E<<22&4294967295|E>>>10),E=p+(I^C&(v^I))+T[1]+4129170786&4294967295,p=v+(E<<5&4294967295|E>>>27),E=C+(v^I&(p^v))+T[6]+3225465664&4294967295,C=p+(E<<9&4294967295|E>>>23),E=I+(p^v&(C^p))+T[11]+643717713&4294967295,I=C+(E<<14&4294967295|E>>>18),E=v+(C^p&(I^C))+T[0]+3921069994&4294967295,v=I+(E<<20&4294967295|E>>>12),E=p+(I^C&(v^I))+T[5]+3593408605&4294967295,p=v+(E<<5&4294967295|E>>>27),E=C+(v^I&(p^v))+T[10]+38016083&4294967295,C=p+(E<<9&4294967295|E>>>23),E=I+(p^v&(C^p))+T[15]+3634488961&4294967295,I=C+(E<<14&4294967295|E>>>18),E=v+(C^p&(I^C))+T[4]+3889429448&4294967295,v=I+(E<<20&4294967295|E>>>12),E=p+(I^C&(v^I))+T[9]+568446438&4294967295,p=v+(E<<5&4294967295|E>>>27),E=C+(v^I&(p^v))+T[14]+3275163606&4294967295,C=p+(E<<9&4294967295|E>>>23),E=I+(p^v&(C^p))+T[3]+4107603335&4294967295,I=C+(E<<14&4294967295|E>>>18),E=v+(C^p&(I^C))+T[8]+1163531501&4294967295,v=I+(E<<20&4294967295|E>>>12),E=p+(I^C&(v^I))+T[13]+2850285829&4294967295,p=v+(E<<5&4294967295|E>>>27),E=C+(v^I&(p^v))+T[2]+4243563512&4294967295,C=p+(E<<9&4294967295|E>>>23),E=I+(p^v&(C^p))+T[7]+1735328473&4294967295,I=C+(E<<14&4294967295|E>>>18),E=v+(C^p&(I^C))+T[12]+2368359562&4294967295,v=I+(E<<20&4294967295|E>>>12),E=p+(v^I^C)+T[5]+4294588738&4294967295,p=v+(E<<4&4294967295|E>>>28),E=C+(p^v^I)+T[8]+2272392833&4294967295,C=p+(E<<11&4294967295|E>>>21),E=I+(C^p^v)+T[11]+1839030562&4294967295,I=C+(E<<16&4294967295|E>>>16),E=v+(I^C^p)+T[14]+4259657740&4294967295,v=I+(E<<23&4294967295|E>>>9),E=p+(v^I^C)+T[1]+2763975236&4294967295,p=v+(E<<4&4294967295|E>>>28),E=C+(p^v^I)+T[4]+1272893353&4294967295,C=p+(E<<11&4294967295|E>>>21),E=I+(C^p^v)+T[7]+4139469664&4294967295,I=C+(E<<16&4294967295|E>>>16),E=v+(I^C^p)+T[10]+3200236656&4294967295,v=I+(E<<23&4294967295|E>>>9),E=p+(v^I^C)+T[13]+681279174&4294967295,p=v+(E<<4&4294967295|E>>>28),E=C+(p^v^I)+T[0]+3936430074&4294967295,C=p+(E<<11&4294967295|E>>>21),E=I+(C^p^v)+T[3]+3572445317&4294967295,I=C+(E<<16&4294967295|E>>>16),E=v+(I^C^p)+T[6]+76029189&4294967295,v=I+(E<<23&4294967295|E>>>9),E=p+(v^I^C)+T[9]+3654602809&4294967295,p=v+(E<<4&4294967295|E>>>28),E=C+(p^v^I)+T[12]+3873151461&4294967295,C=p+(E<<11&4294967295|E>>>21),E=I+(C^p^v)+T[15]+530742520&4294967295,I=C+(E<<16&4294967295|E>>>16),E=v+(I^C^p)+T[2]+3299628645&4294967295,v=I+(E<<23&4294967295|E>>>9),E=p+(I^(v|~C))+T[0]+4096336452&4294967295,p=v+(E<<6&4294967295|E>>>26),E=C+(v^(p|~I))+T[7]+1126891415&4294967295,C=p+(E<<10&4294967295|E>>>22),E=I+(p^(C|~v))+T[14]+2878612391&4294967295,I=C+(E<<15&4294967295|E>>>17),E=v+(C^(I|~p))+T[5]+4237533241&4294967295,v=I+(E<<21&4294967295|E>>>11),E=p+(I^(v|~C))+T[12]+1700485571&4294967295,p=v+(E<<6&4294967295|E>>>26),E=C+(v^(p|~I))+T[3]+2399980690&4294967295,C=p+(E<<10&4294967295|E>>>22),E=I+(p^(C|~v))+T[10]+4293915773&4294967295,I=C+(E<<15&4294967295|E>>>17),E=v+(C^(I|~p))+T[1]+2240044497&4294967295,v=I+(E<<21&4294967295|E>>>11),E=p+(I^(v|~C))+T[8]+1873313359&4294967295,p=v+(E<<6&4294967295|E>>>26),E=C+(v^(p|~I))+T[15]+4264355552&4294967295,C=p+(E<<10&4294967295|E>>>22),E=I+(p^(C|~v))+T[6]+2734768916&4294967295,I=C+(E<<15&4294967295|E>>>17),E=v+(C^(I|~p))+T[13]+1309151649&4294967295,v=I+(E<<21&4294967295|E>>>11),E=p+(I^(v|~C))+T[4]+4149444226&4294967295,p=v+(E<<6&4294967295|E>>>26),E=C+(v^(p|~I))+T[11]+3174756917&4294967295,C=p+(E<<10&4294967295|E>>>22),E=I+(p^(C|~v))+T[2]+718787259&4294967295,I=C+(E<<15&4294967295|E>>>17),E=v+(C^(I|~p))+T[9]+3951481745&4294967295,w.g[0]=w.g[0]+p&4294967295,w.g[1]=w.g[1]+(I+(E<<21&4294967295|E>>>11))&4294967295,w.g[2]=w.g[2]+I&4294967295,w.g[3]=w.g[3]+C&4294967295}r.prototype.u=function(w,p){p===void 0&&(p=w.length);for(var v=p-this.blockSize,T=this.B,I=this.h,C=0;C<p;){if(I==0)for(;C<=v;)i(this,w,C),C+=this.blockSize;if(typeof w=="string"){for(;C<p;)if(T[I++]=w.charCodeAt(C++),I==this.blockSize){i(this,T),I=0;break}}else for(;C<p;)if(T[I++]=w[C++],I==this.blockSize){i(this,T),I=0;break}}this.h=I,this.o+=p},r.prototype.v=function(){var w=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);w[0]=128;for(var p=1;p<w.length-8;++p)w[p]=0;var v=8*this.o;for(p=w.length-8;p<w.length;++p)w[p]=v&255,v/=256;for(this.u(w),w=Array(16),p=v=0;4>p;++p)for(var T=0;32>T;T+=8)w[v++]=this.g[p]>>>T&255;return w};function s(w,p){var v=l;return Object.prototype.hasOwnProperty.call(v,w)?v[w]:v[w]=p(w)}function a(w,p){this.h=p;for(var v=[],T=!0,I=w.length-1;0<=I;I--){var C=w[I]|0;T&&C==p||(v[I]=C,T=!1)}this.g=v}var l={};function c(w){return-128<=w&&128>w?s(w,function(p){return new a([p|0],0>p?-1:0)}):new a([w|0],0>w?-1:0)}function d(w){if(isNaN(w)||!isFinite(w))return m;if(0>w)return j(d(-w));for(var p=[],v=1,T=0;w>=v;T++)p[T]=w/v|0,v*=4294967296;return new a(p,0)}function g(w,p){if(w.length==0)throw Error("number format error: empty string");if(p=p||10,2>p||36<p)throw Error("radix out of range: "+p);if(w.charAt(0)=="-")return j(g(w.substring(1),p));if(0<=w.indexOf("-"))throw Error('number format error: interior "-" character');for(var v=d(Math.pow(p,8)),T=m,I=0;I<w.length;I+=8){var C=Math.min(8,w.length-I),E=parseInt(w.substring(I,I+C),p);8>C?(C=d(Math.pow(p,C)),T=T.j(C).add(d(E))):(T=T.j(v),T=T.add(d(E)))}return T}var m=c(0),y=c(1),R=c(16777216);t=a.prototype,t.m=function(){if(D(this))return-j(this).m();for(var w=0,p=1,v=0;v<this.g.length;v++){var T=this.i(v);w+=(0<=T?T:4294967296+T)*p,p*=4294967296}return w},t.toString=function(w){if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(P(this))return"0";if(D(this))return"-"+j(this).toString(w);for(var p=d(Math.pow(w,6)),v=this,T="";;){var I=V(v,p).g;v=x(v,I.j(p));var C=((0<v.g.length?v.g[0]:v.h)>>>0).toString(w);if(v=I,P(v))return C+T;for(;6>C.length;)C="0"+C;T=C+T}},t.i=function(w){return 0>w?0:w<this.g.length?this.g[w]:this.h};function P(w){if(w.h!=0)return!1;for(var p=0;p<w.g.length;p++)if(w.g[p]!=0)return!1;return!0}function D(w){return w.h==-1}t.l=function(w){return w=x(this,w),D(w)?-1:P(w)?0:1};function j(w){for(var p=w.g.length,v=[],T=0;T<p;T++)v[T]=~w.g[T];return new a(v,~w.h).add(y)}t.abs=function(){return D(this)?j(this):this},t.add=function(w){for(var p=Math.max(this.g.length,w.g.length),v=[],T=0,I=0;I<=p;I++){var C=T+(this.i(I)&65535)+(w.i(I)&65535),E=(C>>>16)+(this.i(I)>>>16)+(w.i(I)>>>16);T=E>>>16,C&=65535,E&=65535,v[I]=E<<16|C}return new a(v,v[v.length-1]&-2147483648?-1:0)};function x(w,p){return w.add(j(p))}t.j=function(w){if(P(this)||P(w))return m;if(D(this))return D(w)?j(this).j(j(w)):j(j(this).j(w));if(D(w))return j(this.j(j(w)));if(0>this.l(R)&&0>w.l(R))return d(this.m()*w.m());for(var p=this.g.length+w.g.length,v=[],T=0;T<2*p;T++)v[T]=0;for(T=0;T<this.g.length;T++)for(var I=0;I<w.g.length;I++){var C=this.i(T)>>>16,E=this.i(T)&65535,mt=w.i(I)>>>16,jn=w.i(I)&65535;v[2*T+2*I]+=E*jn,_(v,2*T+2*I),v[2*T+2*I+1]+=C*jn,_(v,2*T+2*I+1),v[2*T+2*I+1]+=E*mt,_(v,2*T+2*I+1),v[2*T+2*I+2]+=C*mt,_(v,2*T+2*I+2)}for(T=0;T<p;T++)v[T]=v[2*T+1]<<16|v[2*T];for(T=p;T<2*p;T++)v[T]=0;return new a(v,0)};function _(w,p){for(;(w[p]&65535)!=w[p];)w[p+1]+=w[p]>>>16,w[p]&=65535,p++}function S(w,p){this.g=w,this.h=p}function V(w,p){if(P(p))throw Error("division by zero");if(P(w))return new S(m,m);if(D(w))return p=V(j(w),p),new S(j(p.g),j(p.h));if(D(p))return p=V(w,j(p)),new S(j(p.g),p.h);if(30<w.g.length){if(D(w)||D(p))throw Error("slowDivide_ only works with positive integers.");for(var v=y,T=p;0>=T.l(w);)v=F(v),T=F(T);var I=U(v,1),C=U(T,1);for(T=U(T,2),v=U(v,2);!P(T);){var E=C.add(T);0>=E.l(w)&&(I=I.add(v),C=E),T=U(T,1),v=U(v,1)}return p=x(w,I.j(p)),new S(I,p)}for(I=m;0<=w.l(p);){for(v=Math.max(1,Math.floor(w.m()/p.m())),T=Math.ceil(Math.log(v)/Math.LN2),T=48>=T?1:Math.pow(2,T-48),C=d(v),E=C.j(p);D(E)||0<E.l(w);)v-=T,C=d(v),E=C.j(p);P(C)&&(C=y),I=I.add(C),w=x(w,E)}return new S(I,w)}t.A=function(w){return V(this,w).h},t.and=function(w){for(var p=Math.max(this.g.length,w.g.length),v=[],T=0;T<p;T++)v[T]=this.i(T)&w.i(T);return new a(v,this.h&w.h)},t.or=function(w){for(var p=Math.max(this.g.length,w.g.length),v=[],T=0;T<p;T++)v[T]=this.i(T)|w.i(T);return new a(v,this.h|w.h)},t.xor=function(w){for(var p=Math.max(this.g.length,w.g.length),v=[],T=0;T<p;T++)v[T]=this.i(T)^w.i(T);return new a(v,this.h^w.h)};function F(w){for(var p=w.g.length+1,v=[],T=0;T<p;T++)v[T]=w.i(T)<<1|w.i(T-1)>>>31;return new a(v,w.h)}function U(w,p){var v=p>>5;p%=32;for(var T=w.g.length-v,I=[],C=0;C<T;C++)I[C]=0<p?w.i(C+v)>>>p|w.i(C+v+1)<<32-p:w.i(C+v);return new a(I,w.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=d,a.fromString=g,th=a}).apply(typeof Qf<"u"?Qf:typeof self<"u"?self:typeof window<"u"?window:{});var ho=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ly,Vi,uy,Ro,Gu,cy,hy,dy;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,u,h){return o==Array.prototype||o==Object.prototype||(o[u]=h.value),o};function n(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof ho=="object"&&ho];for(var u=0;u<o.length;++u){var h=o[u];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var r=n(this);function i(o,u){if(u)e:{var h=r;o=o.split(".");for(var f=0;f<o.length-1;f++){var k=o[f];if(!(k in h))break e;h=h[k]}o=o[o.length-1],f=h[o],u=u(f),u!=f&&u!=null&&e(h,o,{configurable:!0,writable:!0,value:u})}}function s(o,u){o instanceof String&&(o+="");var h=0,f=!1,k={next:function(){if(!f&&h<o.length){var N=h++;return{value:u(N,o[N]),done:!1}}return f=!0,{done:!0,value:void 0}}};return k[Symbol.iterator]=function(){return k},k}i("Array.prototype.values",function(o){return o||function(){return s(this,function(u,h){return h})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function c(o){var u=typeof o;return u=u!="object"?u:o?Array.isArray(o)?"array":u:"null",u=="array"||u=="object"&&typeof o.length=="number"}function d(o){var u=typeof o;return u=="object"&&o!=null||u=="function"}function g(o,u,h){return o.call.apply(o.bind,arguments)}function m(o,u,h){if(!o)throw Error();if(2<arguments.length){var f=Array.prototype.slice.call(arguments,2);return function(){var k=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(k,f),o.apply(u,k)}}return function(){return o.apply(u,arguments)}}function y(o,u,h){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:m,y.apply(null,arguments)}function R(o,u){var h=Array.prototype.slice.call(arguments,1);return function(){var f=h.slice();return f.push.apply(f,arguments),o.apply(this,f)}}function P(o,u){function h(){}h.prototype=u.prototype,o.aa=u.prototype,o.prototype=new h,o.prototype.constructor=o,o.Qb=function(f,k,N){for(var L=Array(arguments.length-2),re=2;re<arguments.length;re++)L[re-2]=arguments[re];return u.prototype[k].apply(f,L)}}function D(o){const u=o.length;if(0<u){const h=Array(u);for(let f=0;f<u;f++)h[f]=o[f];return h}return[]}function j(o,u){for(let h=1;h<arguments.length;h++){const f=arguments[h];if(c(f)){const k=o.length||0,N=f.length||0;o.length=k+N;for(let L=0;L<N;L++)o[k+L]=f[L]}else o.push(f)}}class x{constructor(u,h){this.i=u,this.j=h,this.h=0,this.g=null}get(){let u;return 0<this.h?(this.h--,u=this.g,this.g=u.next,u.next=null):u=this.i(),u}}function _(o){return/^[\s\xa0]*$/.test(o)}function S(){var o=l.navigator;return o&&(o=o.userAgent)?o:""}function V(o){return V[" "](o),o}V[" "]=function(){};var F=S().indexOf("Gecko")!=-1&&!(S().toLowerCase().indexOf("webkit")!=-1&&S().indexOf("Edge")==-1)&&!(S().indexOf("Trident")!=-1||S().indexOf("MSIE")!=-1)&&S().indexOf("Edge")==-1;function U(o,u,h){for(const f in o)u.call(h,o[f],f,o)}function w(o,u){for(const h in o)u.call(void 0,o[h],h,o)}function p(o){const u={};for(const h in o)u[h]=o[h];return u}const v="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T(o,u){let h,f;for(let k=1;k<arguments.length;k++){f=arguments[k];for(h in f)o[h]=f[h];for(let N=0;N<v.length;N++)h=v[N],Object.prototype.hasOwnProperty.call(f,h)&&(o[h]=f[h])}}function I(o){var u=1;o=o.split(":");const h=[];for(;0<u&&o.length;)h.push(o.shift()),u--;return o.length&&h.push(o.join(":")),h}function C(o){l.setTimeout(()=>{throw o},0)}function E(){var o=G;let u=null;return o.g&&(u=o.g,o.g=o.g.next,o.g||(o.h=null),u.next=null),u}class mt{constructor(){this.h=this.g=null}add(u,h){const f=jn.get();f.set(u,h),this.h?this.h.next=f:this.g=f,this.h=f}}var jn=new x(()=>new oi,o=>o.reset());class oi{constructor(){this.next=this.g=this.h=null}set(u,h){this.h=u,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let Bt,B=!1,G=new mt,W=()=>{const o=l.Promise.resolve(void 0);Bt=()=>{o.then(he)}};var he=()=>{for(var o;o=E();){try{o.h.call(o.g)}catch(h){C(h)}var u=jn;u.j(o),100>u.h&&(u.h++,o.next=u.g,u.g=o)}B=!1};function ne(){this.s=this.s,this.C=this.C}ne.prototype.s=!1,ne.prototype.ma=function(){this.s||(this.s=!0,this.N())},ne.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function _e(o,u){this.type=o,this.g=this.target=u,this.defaultPrevented=!1}_e.prototype.h=function(){this.defaultPrevented=!0};var zt=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var o=!1,u=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const h=()=>{};l.addEventListener("test",h,u),l.removeEventListener("test",h,u)}catch{}return o}();function Ht(o,u){if(_e.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var h=this.type=o.type,f=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=u,u=o.relatedTarget){if(F){e:{try{V(u.nodeName);var k=!0;break e}catch{}k=!1}k||(u=null)}}else h=="mouseover"?u=o.fromElement:h=="mouseout"&&(u=o.toElement);this.relatedTarget=u,f?(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:$t[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&Ht.aa.h.call(this)}}P(Ht,_e);var $t={2:"touch",3:"pen",4:"mouse"};Ht.prototype.h=function(){Ht.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var Gt="closure_listenable_"+(1e6*Math.random()|0),vv=0;function _v(o,u,h,f,k){this.listener=o,this.proxy=null,this.src=u,this.type=h,this.capture=!!f,this.ha=k,this.key=++vv,this.da=this.fa=!1}function Ps(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function Ns(o){this.src=o,this.g={},this.h=0}Ns.prototype.add=function(o,u,h,f,k){var N=o.toString();o=this.g[N],o||(o=this.g[N]=[],this.h++);var L=Ga(o,u,f,k);return-1<L?(u=o[L],h||(u.fa=!1)):(u=new _v(u,this.src,N,!!f,k),u.fa=h,o.push(u)),u};function $a(o,u){var h=u.type;if(h in o.g){var f=o.g[h],k=Array.prototype.indexOf.call(f,u,void 0),N;(N=0<=k)&&Array.prototype.splice.call(f,k,1),N&&(Ps(u),o.g[h].length==0&&(delete o.g[h],o.h--))}}function Ga(o,u,h,f){for(var k=0;k<o.length;++k){var N=o[k];if(!N.da&&N.listener==u&&N.capture==!!h&&N.ha==f)return k}return-1}var Wa="closure_lm_"+(1e6*Math.random()|0),Qa={};function Th(o,u,h,f,k){if(Array.isArray(u)){for(var N=0;N<u.length;N++)Th(o,u[N],h,f,k);return null}return h=Ih(h),o&&o[Gt]?o.K(u,h,d(f)?!!f.capture:!!f,k):wv(o,u,h,!1,f,k)}function wv(o,u,h,f,k,N){if(!u)throw Error("Invalid event type");var L=d(k)?!!k.capture:!!k,re=Ka(o);if(re||(o[Wa]=re=new Ns(o)),h=re.add(u,h,f,L,N),h.proxy)return h;if(f=Ev(),h.proxy=f,f.src=o,f.listener=h,o.addEventListener)zt||(k=L),k===void 0&&(k=!1),o.addEventListener(u.toString(),f,k);else if(o.attachEvent)o.attachEvent(Sh(u.toString()),f);else if(o.addListener&&o.removeListener)o.addListener(f);else throw Error("addEventListener and attachEvent are unavailable.");return h}function Ev(){function o(h){return u.call(o.src,o.listener,h)}const u=Tv;return o}function xh(o,u,h,f,k){if(Array.isArray(u))for(var N=0;N<u.length;N++)xh(o,u[N],h,f,k);else f=d(f)?!!f.capture:!!f,h=Ih(h),o&&o[Gt]?(o=o.i,u=String(u).toString(),u in o.g&&(N=o.g[u],h=Ga(N,h,f,k),-1<h&&(Ps(N[h]),Array.prototype.splice.call(N,h,1),N.length==0&&(delete o.g[u],o.h--)))):o&&(o=Ka(o))&&(u=o.g[u.toString()],o=-1,u&&(o=Ga(u,h,f,k)),(h=-1<o?u[o]:null)&&qa(h))}function qa(o){if(typeof o!="number"&&o&&!o.da){var u=o.src;if(u&&u[Gt])$a(u.i,o);else{var h=o.type,f=o.proxy;u.removeEventListener?u.removeEventListener(h,f,o.capture):u.detachEvent?u.detachEvent(Sh(h),f):u.addListener&&u.removeListener&&u.removeListener(f),(h=Ka(u))?($a(h,o),h.h==0&&(h.src=null,u[Wa]=null)):Ps(o)}}}function Sh(o){return o in Qa?Qa[o]:Qa[o]="on"+o}function Tv(o,u){if(o.da)o=!0;else{u=new Ht(u,this);var h=o.listener,f=o.ha||o.src;o.fa&&qa(o),o=h.call(f,u)}return o}function Ka(o){return o=o[Wa],o instanceof Ns?o:null}var Ya="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ih(o){return typeof o=="function"?o:(o[Ya]||(o[Ya]=function(u){return o.handleEvent(u)}),o[Ya])}function Fe(){ne.call(this),this.i=new Ns(this),this.M=this,this.F=null}P(Fe,ne),Fe.prototype[Gt]=!0,Fe.prototype.removeEventListener=function(o,u,h,f){xh(this,o,u,h,f)};function Ke(o,u){var h,f=o.F;if(f)for(h=[];f;f=f.F)h.push(f);if(o=o.M,f=u.type||u,typeof u=="string")u=new _e(u,o);else if(u instanceof _e)u.target=u.target||o;else{var k=u;u=new _e(f,o),T(u,k)}if(k=!0,h)for(var N=h.length-1;0<=N;N--){var L=u.g=h[N];k=Ds(L,f,!0,u)&&k}if(L=u.g=o,k=Ds(L,f,!0,u)&&k,k=Ds(L,f,!1,u)&&k,h)for(N=0;N<h.length;N++)L=u.g=h[N],k=Ds(L,f,!1,u)&&k}Fe.prototype.N=function(){if(Fe.aa.N.call(this),this.i){var o=this.i,u;for(u in o.g){for(var h=o.g[u],f=0;f<h.length;f++)Ps(h[f]);delete o.g[u],o.h--}}this.F=null},Fe.prototype.K=function(o,u,h,f){return this.i.add(String(o),u,!1,h,f)},Fe.prototype.L=function(o,u,h,f){return this.i.add(String(o),u,!0,h,f)};function Ds(o,u,h,f){if(u=o.i.g[String(u)],!u)return!0;u=u.concat();for(var k=!0,N=0;N<u.length;++N){var L=u[N];if(L&&!L.da&&L.capture==h){var re=L.listener,Ne=L.ha||L.src;L.fa&&$a(o.i,L),k=re.call(Ne,f)!==!1&&k}}return k&&!f.defaultPrevented}function Ah(o,u,h){if(typeof o=="function")h&&(o=y(o,h));else if(o&&typeof o.handleEvent=="function")o=y(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(u)?-1:l.setTimeout(o,u||0)}function kh(o){o.g=Ah(()=>{o.g=null,o.i&&(o.i=!1,kh(o))},o.l);const u=o.h;o.h=null,o.m.apply(null,u)}class xv extends ne{constructor(u,h){super(),this.m=u,this.l=h,this.h=null,this.i=!1,this.g=null}j(u){this.h=arguments,this.g?this.i=!0:kh(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ai(o){ne.call(this),this.h=o,this.g={}}P(ai,ne);var Ch=[];function Rh(o){U(o.g,function(u,h){this.g.hasOwnProperty(h)&&qa(u)},o),o.g={}}ai.prototype.N=function(){ai.aa.N.call(this),Rh(this)},ai.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xa=l.JSON.stringify,Sv=l.JSON.parse,Iv=class{stringify(o){return l.JSON.stringify(o,void 0)}parse(o){return l.JSON.parse(o,void 0)}};function Ja(){}Ja.prototype.h=null;function Ph(o){return o.h||(o.h=o.i())}function Nh(){}var li={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Za(){_e.call(this,"d")}P(Za,_e);function el(){_e.call(this,"c")}P(el,_e);var Fn={},Dh=null;function Vs(){return Dh=Dh||new Fe}Fn.La="serverreachability";function Vh(o){_e.call(this,Fn.La,o)}P(Vh,_e);function ui(o){const u=Vs();Ke(u,new Vh(u))}Fn.STAT_EVENT="statevent";function bh(o,u){_e.call(this,Fn.STAT_EVENT,o),this.stat=u}P(bh,_e);function Ye(o){const u=Vs();Ke(u,new bh(u,o))}Fn.Ma="timingevent";function Mh(o,u){_e.call(this,Fn.Ma,o),this.size=u}P(Mh,_e);function ci(o,u){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){o()},u)}function hi(){this.g=!0}hi.prototype.xa=function(){this.g=!1};function Av(o,u,h,f,k,N){o.info(function(){if(o.g)if(N)for(var L="",re=N.split("&"),Ne=0;Ne<re.length;Ne++){var ee=re[Ne].split("=");if(1<ee.length){var Ue=ee[0];ee=ee[1];var Be=Ue.split("_");L=2<=Be.length&&Be[1]=="type"?L+(Ue+"="+ee+"&"):L+(Ue+"=redacted&")}}else L=null;else L=N;return"XMLHTTP REQ ("+f+") [attempt "+k+"]: "+u+`
`+h+`
`+L})}function kv(o,u,h,f,k,N,L){o.info(function(){return"XMLHTTP RESP ("+f+") [ attempt "+k+"]: "+u+`
`+h+`
`+N+" "+L})}function pr(o,u,h,f){o.info(function(){return"XMLHTTP TEXT ("+u+"): "+Rv(o,h)+(f?" "+f:"")})}function Cv(o,u){o.info(function(){return"TIMEOUT: "+u})}hi.prototype.info=function(){};function Rv(o,u){if(!o.g)return u;if(!u)return null;try{var h=JSON.parse(u);if(h){for(o=0;o<h.length;o++)if(Array.isArray(h[o])){var f=h[o];if(!(2>f.length)){var k=f[1];if(Array.isArray(k)&&!(1>k.length)){var N=k[0];if(N!="noop"&&N!="stop"&&N!="close")for(var L=1;L<k.length;L++)k[L]=""}}}}return Xa(h)}catch{return u}}var bs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Oh={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},tl;function Ms(){}P(Ms,Ja),Ms.prototype.g=function(){return new XMLHttpRequest},Ms.prototype.i=function(){return{}},tl=new Ms;function ln(o,u,h,f){this.j=o,this.i=u,this.l=h,this.R=f||1,this.U=new ai(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Lh}function Lh(){this.i=null,this.g="",this.h=!1}var jh={},nl={};function rl(o,u,h){o.L=1,o.v=Fs(Wt(u)),o.m=h,o.P=!0,Fh(o,null)}function Fh(o,u){o.F=Date.now(),Os(o),o.A=Wt(o.v);var h=o.A,f=o.R;Array.isArray(f)||(f=[String(f)]),Zh(h.i,"t",f),o.C=0,h=o.j.J,o.h=new Lh,o.g=yd(o.j,h?u:null,!o.m),0<o.O&&(o.M=new xv(y(o.Y,o,o.g),o.O)),u=o.U,h=o.g,f=o.ca;var k="readystatechange";Array.isArray(k)||(k&&(Ch[0]=k.toString()),k=Ch);for(var N=0;N<k.length;N++){var L=Th(h,k[N],f||u.handleEvent,!1,u.h||u);if(!L)break;u.g[L.key]=L}u=o.H?p(o.H):{},o.m?(o.u||(o.u="POST"),u["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,u)):(o.u="GET",o.g.ea(o.A,o.u,null,u)),ui(),Av(o.i,o.u,o.A,o.l,o.R,o.m)}ln.prototype.ca=function(o){o=o.target;const u=this.M;u&&Qt(o)==3?u.j():this.Y(o)},ln.prototype.Y=function(o){try{if(o==this.g)e:{const Be=Qt(this.g);var u=this.g.Ba();const yr=this.g.Z();if(!(3>Be)&&(Be!=3||this.g&&(this.h.h||this.g.oa()||od(this.g)))){this.J||Be!=4||u==7||(u==8||0>=yr?ui(3):ui(2)),il(this);var h=this.g.Z();this.X=h;t:if(Uh(this)){var f=od(this.g);o="";var k=f.length,N=Qt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Un(this),di(this);var L="";break t}this.h.i=new l.TextDecoder}for(u=0;u<k;u++)this.h.h=!0,o+=this.h.i.decode(f[u],{stream:!(N&&u==k-1)});f.length=0,this.h.g+=o,this.C=0,L=this.h.g}else L=this.g.oa();if(this.o=h==200,kv(this.i,this.u,this.A,this.l,this.R,Be,h),this.o){if(this.T&&!this.K){t:{if(this.g){var re,Ne=this.g;if((re=Ne.g?Ne.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(re)){var ee=re;break t}}ee=null}if(h=ee)pr(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,sl(this,h);else{this.o=!1,this.s=3,Ye(12),Un(this),di(this);break e}}if(this.P){h=!0;let Tt;for(;!this.J&&this.C<L.length;)if(Tt=Pv(this,L),Tt==nl){Be==4&&(this.s=4,Ye(14),h=!1),pr(this.i,this.l,null,"[Incomplete Response]");break}else if(Tt==jh){this.s=4,Ye(15),pr(this.i,this.l,L,"[Invalid Chunk]"),h=!1;break}else pr(this.i,this.l,Tt,null),sl(this,Tt);if(Uh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Be!=4||L.length!=0||this.h.h||(this.s=1,Ye(16),h=!1),this.o=this.o&&h,!h)pr(this.i,this.l,L,"[Invalid Chunked Response]"),Un(this),di(this);else if(0<L.length&&!this.W){this.W=!0;var Ue=this.j;Ue.g==this&&Ue.ba&&!Ue.M&&(Ue.j.info("Great, no buffering proxy detected. Bytes received: "+L.length),hl(Ue),Ue.M=!0,Ye(11))}}else pr(this.i,this.l,L,null),sl(this,L);Be==4&&Un(this),this.o&&!this.J&&(Be==4?fd(this.j,this):(this.o=!1,Os(this)))}else Qv(this.g),h==400&&0<L.indexOf("Unknown SID")?(this.s=3,Ye(12)):(this.s=0,Ye(13)),Un(this),di(this)}}}catch{}finally{}};function Uh(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function Pv(o,u){var h=o.C,f=u.indexOf(`
`,h);return f==-1?nl:(h=Number(u.substring(h,f)),isNaN(h)?jh:(f+=1,f+h>u.length?nl:(u=u.slice(f,f+h),o.C=f+h,u)))}ln.prototype.cancel=function(){this.J=!0,Un(this)};function Os(o){o.S=Date.now()+o.I,Bh(o,o.I)}function Bh(o,u){if(o.B!=null)throw Error("WatchDog timer not null");o.B=ci(y(o.ba,o),u)}function il(o){o.B&&(l.clearTimeout(o.B),o.B=null)}ln.prototype.ba=function(){this.B=null;const o=Date.now();0<=o-this.S?(Cv(this.i,this.A),this.L!=2&&(ui(),Ye(17)),Un(this),this.s=2,di(this)):Bh(this,this.S-o)};function di(o){o.j.G==0||o.J||fd(o.j,o)}function Un(o){il(o);var u=o.M;u&&typeof u.ma=="function"&&u.ma(),o.M=null,Rh(o.U),o.g&&(u=o.g,o.g=null,u.abort(),u.ma())}function sl(o,u){try{var h=o.j;if(h.G!=0&&(h.g==o||ol(h.h,o))){if(!o.K&&ol(h.h,o)&&h.G==3){try{var f=h.Da.g.parse(u)}catch{f=null}if(Array.isArray(f)&&f.length==3){var k=f;if(k[0]==0){e:if(!h.u){if(h.g)if(h.g.F+3e3<o.F)Gs(h),Hs(h);else break e;cl(h),Ye(18)}}else h.za=k[1],0<h.za-h.T&&37500>k[2]&&h.F&&h.v==0&&!h.C&&(h.C=ci(y(h.Za,h),6e3));if(1>=$h(h.h)&&h.ca){try{h.ca()}catch{}h.ca=void 0}}else zn(h,11)}else if((o.K||h.g==o)&&Gs(h),!_(u))for(k=h.Da.g.parse(u),u=0;u<k.length;u++){let ee=k[u];if(h.T=ee[0],ee=ee[1],h.G==2)if(ee[0]=="c"){h.K=ee[1],h.ia=ee[2];const Ue=ee[3];Ue!=null&&(h.la=Ue,h.j.info("VER="+h.la));const Be=ee[4];Be!=null&&(h.Aa=Be,h.j.info("SVER="+h.Aa));const yr=ee[5];yr!=null&&typeof yr=="number"&&0<yr&&(f=1.5*yr,h.L=f,h.j.info("backChannelRequestTimeoutMs_="+f)),f=h;const Tt=o.g;if(Tt){const Qs=Tt.g?Tt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Qs){var N=f.h;N.g||Qs.indexOf("spdy")==-1&&Qs.indexOf("quic")==-1&&Qs.indexOf("h2")==-1||(N.j=N.l,N.g=new Set,N.h&&(al(N,N.h),N.h=null))}if(f.D){const dl=Tt.g?Tt.g.getResponseHeader("X-HTTP-Session-Id"):null;dl&&(f.ya=dl,oe(f.I,f.D,dl))}}h.G=3,h.l&&h.l.ua(),h.ba&&(h.R=Date.now()-o.F,h.j.info("Handshake RTT: "+h.R+"ms")),f=h;var L=o;if(f.qa=gd(f,f.J?f.ia:null,f.W),L.K){Gh(f.h,L);var re=L,Ne=f.L;Ne&&(re.I=Ne),re.B&&(il(re),Os(re)),f.g=L}else hd(f);0<h.i.length&&$s(h)}else ee[0]!="stop"&&ee[0]!="close"||zn(h,7);else h.G==3&&(ee[0]=="stop"||ee[0]=="close"?ee[0]=="stop"?zn(h,7):ul(h):ee[0]!="noop"&&h.l&&h.l.ta(ee),h.v=0)}}ui(4)}catch{}}var Nv=class{constructor(o,u){this.g=o,this.map=u}};function zh(o){this.l=o||10,l.PerformanceNavigationTiming?(o=l.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Hh(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function $h(o){return o.h?1:o.g?o.g.size:0}function ol(o,u){return o.h?o.h==u:o.g?o.g.has(u):!1}function al(o,u){o.g?o.g.add(u):o.h=u}function Gh(o,u){o.h&&o.h==u?o.h=null:o.g&&o.g.has(u)&&o.g.delete(u)}zh.prototype.cancel=function(){if(this.i=Wh(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function Wh(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let u=o.i;for(const h of o.g.values())u=u.concat(h.D);return u}return D(o.i)}function Dv(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(c(o)){for(var u=[],h=o.length,f=0;f<h;f++)u.push(o[f]);return u}u=[],h=0;for(f in o)u[h++]=o[f];return u}function Vv(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(c(o)||typeof o=="string"){var u=[];o=o.length;for(var h=0;h<o;h++)u.push(h);return u}u=[],h=0;for(const f in o)u[h++]=f;return u}}}function Qh(o,u){if(o.forEach&&typeof o.forEach=="function")o.forEach(u,void 0);else if(c(o)||typeof o=="string")Array.prototype.forEach.call(o,u,void 0);else for(var h=Vv(o),f=Dv(o),k=f.length,N=0;N<k;N++)u.call(void 0,f[N],h&&h[N],o)}var qh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function bv(o,u){if(o){o=o.split("&");for(var h=0;h<o.length;h++){var f=o[h].indexOf("="),k=null;if(0<=f){var N=o[h].substring(0,f);k=o[h].substring(f+1)}else N=o[h];u(N,k?decodeURIComponent(k.replace(/\+/g," ")):"")}}}function Bn(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof Bn){this.h=o.h,Ls(this,o.j),this.o=o.o,this.g=o.g,js(this,o.s),this.l=o.l;var u=o.i,h=new mi;h.i=u.i,u.g&&(h.g=new Map(u.g),h.h=u.h),Kh(this,h),this.m=o.m}else o&&(u=String(o).match(qh))?(this.h=!1,Ls(this,u[1]||"",!0),this.o=fi(u[2]||""),this.g=fi(u[3]||"",!0),js(this,u[4]),this.l=fi(u[5]||"",!0),Kh(this,u[6]||"",!0),this.m=fi(u[7]||"")):(this.h=!1,this.i=new mi(null,this.h))}Bn.prototype.toString=function(){var o=[],u=this.j;u&&o.push(pi(u,Yh,!0),":");var h=this.g;return(h||u=="file")&&(o.push("//"),(u=this.o)&&o.push(pi(u,Yh,!0),"@"),o.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.s,h!=null&&o.push(":",String(h))),(h=this.l)&&(this.g&&h.charAt(0)!="/"&&o.push("/"),o.push(pi(h,h.charAt(0)=="/"?Lv:Ov,!0))),(h=this.i.toString())&&o.push("?",h),(h=this.m)&&o.push("#",pi(h,Fv)),o.join("")};function Wt(o){return new Bn(o)}function Ls(o,u,h){o.j=h?fi(u,!0):u,o.j&&(o.j=o.j.replace(/:$/,""))}function js(o,u){if(u){if(u=Number(u),isNaN(u)||0>u)throw Error("Bad port number "+u);o.s=u}else o.s=null}function Kh(o,u,h){u instanceof mi?(o.i=u,Uv(o.i,o.h)):(h||(u=pi(u,jv)),o.i=new mi(u,o.h))}function oe(o,u,h){o.i.set(u,h)}function Fs(o){return oe(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function fi(o,u){return o?u?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function pi(o,u,h){return typeof o=="string"?(o=encodeURI(o).replace(u,Mv),h&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function Mv(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var Yh=/[#\/\?@]/g,Ov=/[#\?:]/g,Lv=/[#\?]/g,jv=/[#\?@]/g,Fv=/#/g;function mi(o,u){this.h=this.g=null,this.i=o||null,this.j=!!u}function un(o){o.g||(o.g=new Map,o.h=0,o.i&&bv(o.i,function(u,h){o.add(decodeURIComponent(u.replace(/\+/g," ")),h)}))}t=mi.prototype,t.add=function(o,u){un(this),this.i=null,o=mr(this,o);var h=this.g.get(o);return h||this.g.set(o,h=[]),h.push(u),this.h+=1,this};function Xh(o,u){un(o),u=mr(o,u),o.g.has(u)&&(o.i=null,o.h-=o.g.get(u).length,o.g.delete(u))}function Jh(o,u){return un(o),u=mr(o,u),o.g.has(u)}t.forEach=function(o,u){un(this),this.g.forEach(function(h,f){h.forEach(function(k){o.call(u,k,f,this)},this)},this)},t.na=function(){un(this);const o=Array.from(this.g.values()),u=Array.from(this.g.keys()),h=[];for(let f=0;f<u.length;f++){const k=o[f];for(let N=0;N<k.length;N++)h.push(u[f])}return h},t.V=function(o){un(this);let u=[];if(typeof o=="string")Jh(this,o)&&(u=u.concat(this.g.get(mr(this,o))));else{o=Array.from(this.g.values());for(let h=0;h<o.length;h++)u=u.concat(o[h])}return u},t.set=function(o,u){return un(this),this.i=null,o=mr(this,o),Jh(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[u]),this.h+=1,this},t.get=function(o,u){return o?(o=this.V(o),0<o.length?String(o[0]):u):u};function Zh(o,u,h){Xh(o,u),0<h.length&&(o.i=null,o.g.set(mr(o,u),D(h)),o.h+=h.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],u=Array.from(this.g.keys());for(var h=0;h<u.length;h++){var f=u[h];const N=encodeURIComponent(String(f)),L=this.V(f);for(f=0;f<L.length;f++){var k=N;L[f]!==""&&(k+="="+encodeURIComponent(String(L[f]))),o.push(k)}}return this.i=o.join("&")};function mr(o,u){return u=String(u),o.j&&(u=u.toLowerCase()),u}function Uv(o,u){u&&!o.j&&(un(o),o.i=null,o.g.forEach(function(h,f){var k=f.toLowerCase();f!=k&&(Xh(this,f),Zh(this,k,h))},o)),o.j=u}function Bv(o,u){const h=new hi;if(l.Image){const f=new Image;f.onload=R(cn,h,"TestLoadImage: loaded",!0,u,f),f.onerror=R(cn,h,"TestLoadImage: error",!1,u,f),f.onabort=R(cn,h,"TestLoadImage: abort",!1,u,f),f.ontimeout=R(cn,h,"TestLoadImage: timeout",!1,u,f),l.setTimeout(function(){f.ontimeout&&f.ontimeout()},1e4),f.src=o}else u(!1)}function zv(o,u){const h=new hi,f=new AbortController,k=setTimeout(()=>{f.abort(),cn(h,"TestPingServer: timeout",!1,u)},1e4);fetch(o,{signal:f.signal}).then(N=>{clearTimeout(k),N.ok?cn(h,"TestPingServer: ok",!0,u):cn(h,"TestPingServer: server error",!1,u)}).catch(()=>{clearTimeout(k),cn(h,"TestPingServer: error",!1,u)})}function cn(o,u,h,f,k){try{k&&(k.onload=null,k.onerror=null,k.onabort=null,k.ontimeout=null),f(h)}catch{}}function Hv(){this.g=new Iv}function $v(o,u,h){const f=h||"";try{Qh(o,function(k,N){let L=k;d(k)&&(L=Xa(k)),u.push(f+N+"="+encodeURIComponent(L))})}catch(k){throw u.push(f+"type="+encodeURIComponent("_badmap")),k}}function Us(o){this.l=o.Ub||null,this.j=o.eb||!1}P(Us,Ja),Us.prototype.g=function(){return new Bs(this.l,this.j)},Us.prototype.i=function(o){return function(){return o}}({});function Bs(o,u){Fe.call(this),this.D=o,this.o=u,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}P(Bs,Fe),t=Bs.prototype,t.open=function(o,u){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=u,this.readyState=1,yi(this)},t.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const u={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(u.body=o),(this.D||l).fetch(new Request(this.A,u)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,gi(this)),this.readyState=0},t.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,yi(this)),this.g&&(this.readyState=3,yi(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ed(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function ed(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}t.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var u=o.value?o.value:new Uint8Array(0);(u=this.v.decode(u,{stream:!o.done}))&&(this.response=this.responseText+=u)}o.done?gi(this):yi(this),this.readyState==3&&ed(this)}},t.Ra=function(o){this.g&&(this.response=this.responseText=o,gi(this))},t.Qa=function(o){this.g&&(this.response=o,gi(this))},t.ga=function(){this.g&&gi(this)};function gi(o){o.readyState=4,o.l=null,o.j=null,o.v=null,yi(o)}t.setRequestHeader=function(o,u){this.u.append(o,u)},t.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],u=this.h.entries();for(var h=u.next();!h.done;)h=h.value,o.push(h[0]+": "+h[1]),h=u.next();return o.join(`\r
`)};function yi(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(Bs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function td(o){let u="";return U(o,function(h,f){u+=f,u+=":",u+=h,u+=`\r
`}),u}function ll(o,u,h){e:{for(f in h){var f=!1;break e}f=!0}f||(h=td(h),typeof o=="string"?h!=null&&encodeURIComponent(String(h)):oe(o,u,h))}function me(o){Fe.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}P(me,Fe);var Gv=/^https?$/i,Wv=["POST","PUT"];t=me.prototype,t.Ha=function(o){this.J=o},t.ea=function(o,u,h,f){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);u=u?u.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():tl.g(),this.v=this.o?Ph(this.o):Ph(tl),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(u,String(o),!0),this.B=!1}catch(N){nd(this,N);return}if(o=h||"",h=new Map(this.headers),f)if(Object.getPrototypeOf(f)===Object.prototype)for(var k in f)h.set(k,f[k]);else if(typeof f.keys=="function"&&typeof f.get=="function")for(const N of f.keys())h.set(N,f.get(N));else throw Error("Unknown input type for opt_headers: "+String(f));f=Array.from(h.keys()).find(N=>N.toLowerCase()=="content-type"),k=l.FormData&&o instanceof l.FormData,!(0<=Array.prototype.indexOf.call(Wv,u,void 0))||f||k||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[N,L]of h)this.g.setRequestHeader(N,L);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{sd(this),this.u=!0,this.g.send(o),this.u=!1}catch(N){nd(this,N)}};function nd(o,u){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=u,o.m=5,rd(o),zs(o)}function rd(o){o.A||(o.A=!0,Ke(o,"complete"),Ke(o,"error"))}t.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,Ke(this,"complete"),Ke(this,"abort"),zs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zs(this,!0)),me.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?id(this):this.bb())},t.bb=function(){id(this)};function id(o){if(o.h&&typeof a<"u"&&(!o.v[1]||Qt(o)!=4||o.Z()!=2)){if(o.u&&Qt(o)==4)Ah(o.Ea,0,o);else if(Ke(o,"readystatechange"),Qt(o)==4){o.h=!1;try{const L=o.Z();e:switch(L){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var u=!0;break e;default:u=!1}var h;if(!(h=u)){var f;if(f=L===0){var k=String(o.D).match(qh)[1]||null;!k&&l.self&&l.self.location&&(k=l.self.location.protocol.slice(0,-1)),f=!Gv.test(k?k.toLowerCase():"")}h=f}if(h)Ke(o,"complete"),Ke(o,"success");else{o.m=6;try{var N=2<Qt(o)?o.g.statusText:""}catch{N=""}o.l=N+" ["+o.Z()+"]",rd(o)}}finally{zs(o)}}}}function zs(o,u){if(o.g){sd(o);const h=o.g,f=o.v[0]?()=>{}:null;o.g=null,o.v=null,u||Ke(o,"ready");try{h.onreadystatechange=f}catch{}}}function sd(o){o.I&&(l.clearTimeout(o.I),o.I=null)}t.isActive=function(){return!!this.g};function Qt(o){return o.g?o.g.readyState:0}t.Z=function(){try{return 2<Qt(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(o){if(this.g){var u=this.g.responseText;return o&&u.indexOf(o)==0&&(u=u.substring(o.length)),Sv(u)}};function od(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function Qv(o){const u={};o=(o.g&&2<=Qt(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let f=0;f<o.length;f++){if(_(o[f]))continue;var h=I(o[f]);const k=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();const N=u[k]||[];u[k]=N,N.push(h)}w(u,function(f){return f.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function vi(o,u,h){return h&&h.internalChannelParams&&h.internalChannelParams[o]||u}function ad(o){this.Aa=0,this.i=[],this.j=new hi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=vi("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=vi("baseRetryDelayMs",5e3,o),this.cb=vi("retryDelaySeedMs",1e4,o),this.Wa=vi("forwardChannelMaxRetries",2,o),this.wa=vi("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new zh(o&&o.concurrentRequestLimit),this.Da=new Hv,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=ad.prototype,t.la=8,t.G=1,t.connect=function(o,u,h,f){Ye(0),this.W=o,this.H=u||{},h&&f!==void 0&&(this.H.OSID=h,this.H.OAID=f),this.F=this.X,this.I=gd(this,null,this.W),$s(this)};function ul(o){if(ld(o),o.G==3){var u=o.U++,h=Wt(o.I);if(oe(h,"SID",o.K),oe(h,"RID",u),oe(h,"TYPE","terminate"),_i(o,h),u=new ln(o,o.j,u),u.L=2,u.v=Fs(Wt(h)),h=!1,l.navigator&&l.navigator.sendBeacon)try{h=l.navigator.sendBeacon(u.v.toString(),"")}catch{}!h&&l.Image&&(new Image().src=u.v,h=!0),h||(u.g=yd(u.j,null),u.g.ea(u.v)),u.F=Date.now(),Os(u)}md(o)}function Hs(o){o.g&&(hl(o),o.g.cancel(),o.g=null)}function ld(o){Hs(o),o.u&&(l.clearTimeout(o.u),o.u=null),Gs(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&l.clearTimeout(o.s),o.s=null)}function $s(o){if(!Hh(o.h)&&!o.s){o.s=!0;var u=o.Ga;Bt||W(),B||(Bt(),B=!0),G.add(u,o),o.B=0}}function qv(o,u){return $h(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=u.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=ci(y(o.Ga,o,u),pd(o,o.B)),o.B++,!0)}t.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;const k=new ln(this,this.j,o);let N=this.o;if(this.S&&(N?(N=p(N),T(N,this.S)):N=this.S),this.m!==null||this.O||(k.H=N,N=null),this.P)e:{for(var u=0,h=0;h<this.i.length;h++){t:{var f=this.i[h];if("__data__"in f.map&&(f=f.map.__data__,typeof f=="string")){f=f.length;break t}f=void 0}if(f===void 0)break;if(u+=f,4096<u){u=h;break e}if(u===4096||h===this.i.length-1){u=h+1;break e}}u=1e3}else u=1e3;u=cd(this,k,u),h=Wt(this.I),oe(h,"RID",o),oe(h,"CVER",22),this.D&&oe(h,"X-HTTP-Session-Id",this.D),_i(this,h),N&&(this.O?u="headers="+encodeURIComponent(String(td(N)))+"&"+u:this.m&&ll(h,this.m,N)),al(this.h,k),this.Ua&&oe(h,"TYPE","init"),this.P?(oe(h,"$req",u),oe(h,"SID","null"),k.T=!0,rl(k,h,null)):rl(k,h,u),this.G=2}}else this.G==3&&(o?ud(this,o):this.i.length==0||Hh(this.h)||ud(this))};function ud(o,u){var h;u?h=u.l:h=o.U++;const f=Wt(o.I);oe(f,"SID",o.K),oe(f,"RID",h),oe(f,"AID",o.T),_i(o,f),o.m&&o.o&&ll(f,o.m,o.o),h=new ln(o,o.j,h,o.B+1),o.m===null&&(h.H=o.o),u&&(o.i=u.D.concat(o.i)),u=cd(o,h,1e3),h.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),al(o.h,h),rl(h,f,u)}function _i(o,u){o.H&&U(o.H,function(h,f){oe(u,f,h)}),o.l&&Qh({},function(h,f){oe(u,f,h)})}function cd(o,u,h){h=Math.min(o.i.length,h);var f=o.l?y(o.l.Na,o.l,o):null;e:{var k=o.i;let N=-1;for(;;){const L=["count="+h];N==-1?0<h?(N=k[0].g,L.push("ofs="+N)):N=0:L.push("ofs="+N);let re=!0;for(let Ne=0;Ne<h;Ne++){let ee=k[Ne].g;const Ue=k[Ne].map;if(ee-=N,0>ee)N=Math.max(0,k[Ne].g-100),re=!1;else try{$v(Ue,L,"req"+ee+"_")}catch{f&&f(Ue)}}if(re){f=L.join("&");break e}}}return o=o.i.splice(0,h),u.D=o,f}function hd(o){if(!o.g&&!o.u){o.Y=1;var u=o.Fa;Bt||W(),B||(Bt(),B=!0),G.add(u,o),o.v=0}}function cl(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=ci(y(o.Fa,o),pd(o,o.v)),o.v++,!0)}t.Fa=function(){if(this.u=null,dd(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=ci(y(this.ab,this),o)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ye(10),Hs(this),dd(this))};function hl(o){o.A!=null&&(l.clearTimeout(o.A),o.A=null)}function dd(o){o.g=new ln(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var u=Wt(o.qa);oe(u,"RID","rpc"),oe(u,"SID",o.K),oe(u,"AID",o.T),oe(u,"CI",o.F?"0":"1"),!o.F&&o.ja&&oe(u,"TO",o.ja),oe(u,"TYPE","xmlhttp"),_i(o,u),o.m&&o.o&&ll(u,o.m,o.o),o.L&&(o.g.I=o.L);var h=o.g;o=o.ia,h.L=1,h.v=Fs(Wt(u)),h.m=null,h.P=!0,Fh(h,o)}t.Za=function(){this.C!=null&&(this.C=null,Hs(this),cl(this),Ye(19))};function Gs(o){o.C!=null&&(l.clearTimeout(o.C),o.C=null)}function fd(o,u){var h=null;if(o.g==u){Gs(o),hl(o),o.g=null;var f=2}else if(ol(o.h,u))h=u.D,Gh(o.h,u),f=1;else return;if(o.G!=0){if(u.o)if(f==1){h=u.m?u.m.length:0,u=Date.now()-u.F;var k=o.B;f=Vs(),Ke(f,new Mh(f,h)),$s(o)}else hd(o);else if(k=u.s,k==3||k==0&&0<u.X||!(f==1&&qv(o,u)||f==2&&cl(o)))switch(h&&0<h.length&&(u=o.h,u.i=u.i.concat(h)),k){case 1:zn(o,5);break;case 4:zn(o,10);break;case 3:zn(o,6);break;default:zn(o,2)}}}function pd(o,u){let h=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(h*=2),h*u}function zn(o,u){if(o.j.info("Error code "+u),u==2){var h=y(o.fb,o),f=o.Xa;const k=!f;f=new Bn(f||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Ls(f,"https"),Fs(f),k?Bv(f.toString(),h):zv(f.toString(),h)}else Ye(2);o.G=0,o.l&&o.l.sa(u),md(o),ld(o)}t.fb=function(o){o?(this.j.info("Successfully pinged google.com"),Ye(2)):(this.j.info("Failed to ping google.com"),Ye(1))};function md(o){if(o.G=0,o.ka=[],o.l){const u=Wh(o.h);(u.length!=0||o.i.length!=0)&&(j(o.ka,u),j(o.ka,o.i),o.h.i.length=0,D(o.i),o.i.length=0),o.l.ra()}}function gd(o,u,h){var f=h instanceof Bn?Wt(h):new Bn(h);if(f.g!="")u&&(f.g=u+"."+f.g),js(f,f.s);else{var k=l.location;f=k.protocol,u=u?u+"."+k.hostname:k.hostname,k=+k.port;var N=new Bn(null);f&&Ls(N,f),u&&(N.g=u),k&&js(N,k),h&&(N.l=h),f=N}return h=o.D,u=o.ya,h&&u&&oe(f,h,u),oe(f,"VER",o.la),_i(o,f),f}function yd(o,u,h){if(u&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return u=o.Ca&&!o.pa?new me(new Us({eb:h})):new me(o.pa),u.Ha(o.J),u}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function vd(){}t=vd.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ws(){}Ws.prototype.g=function(o,u){return new lt(o,u)};function lt(o,u){Fe.call(this),this.g=new ad(u),this.l=o,this.h=u&&u.messageUrlParams||null,o=u&&u.messageHeaders||null,u&&u.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=u&&u.initMessageHeaders||null,u&&u.messageContentType&&(o?o["X-WebChannel-Content-Type"]=u.messageContentType:o={"X-WebChannel-Content-Type":u.messageContentType}),u&&u.va&&(o?o["X-WebChannel-Client-Profile"]=u.va:o={"X-WebChannel-Client-Profile":u.va}),this.g.S=o,(o=u&&u.Sb)&&!_(o)&&(this.g.m=o),this.v=u&&u.supportsCrossDomainXhr||!1,this.u=u&&u.sendRawJson||!1,(u=u&&u.httpSessionIdParam)&&!_(u)&&(this.g.D=u,o=this.h,o!==null&&u in o&&(o=this.h,u in o&&delete o[u])),this.j=new gr(this)}P(lt,Fe),lt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},lt.prototype.close=function(){ul(this.g)},lt.prototype.o=function(o){var u=this.g;if(typeof o=="string"){var h={};h.__data__=o,o=h}else this.u&&(h={},h.__data__=Xa(o),o=h);u.i.push(new Nv(u.Ya++,o)),u.G==3&&$s(u)},lt.prototype.N=function(){this.g.l=null,delete this.j,ul(this.g),delete this.g,lt.aa.N.call(this)};function _d(o){Za.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var u=o.__sm__;if(u){e:{for(const h in u){o=h;break e}o=void 0}(this.i=o)&&(o=this.i,u=u!==null&&o in u?u[o]:void 0),this.data=u}else this.data=o}P(_d,Za);function wd(){el.call(this),this.status=1}P(wd,el);function gr(o){this.g=o}P(gr,vd),gr.prototype.ua=function(){Ke(this.g,"a")},gr.prototype.ta=function(o){Ke(this.g,new _d(o))},gr.prototype.sa=function(o){Ke(this.g,new wd)},gr.prototype.ra=function(){Ke(this.g,"b")},Ws.prototype.createWebChannel=Ws.prototype.g,lt.prototype.send=lt.prototype.o,lt.prototype.open=lt.prototype.m,lt.prototype.close=lt.prototype.close,dy=function(){return new Ws},hy=function(){return Vs()},cy=Fn,Gu={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},bs.NO_ERROR=0,bs.TIMEOUT=8,bs.HTTP_ERROR=6,Ro=bs,Oh.COMPLETE="complete",uy=Oh,Nh.EventType=li,li.OPEN="a",li.CLOSE="b",li.ERROR="c",li.MESSAGE="d",Fe.prototype.listen=Fe.prototype.K,Vi=Nh,me.prototype.listenOnce=me.prototype.L,me.prototype.getLastError=me.prototype.Ka,me.prototype.getLastErrorCode=me.prototype.Ba,me.prototype.getStatus=me.prototype.Z,me.prototype.getResponseJson=me.prototype.Oa,me.prototype.getResponseText=me.prototype.oa,me.prototype.send=me.prototype.ea,me.prototype.setWithCredentials=me.prototype.Ha,ly=me}).apply(typeof ho<"u"?ho:typeof self<"u"?self:typeof window<"u"?window:{});const qf="@firebase/firestore",Kf="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ge.UNAUTHENTICATED=new Ge(null),Ge.GOOGLE_CREDENTIALS=new Ge("google-credentials-uid"),Ge.FIRST_PARTY=new Ge("first-party-uid"),Ge.MOCK_USER=new Ge("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ii="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sr=new ny("@firebase/firestore");function _r(){return sr.logLevel}function H(t,...e){if(sr.logLevel<=X.DEBUG){const n=e.map(nh);sr.debug(`Firestore (${ii}): ${t}`,...n)}}function or(t,...e){if(sr.logLevel<=X.ERROR){const n=e.map(nh);sr.error(`Firestore (${ii}): ${t}`,...n)}}function Ma(t,...e){if(sr.logLevel<=X.WARN){const n=e.map(nh);sr.warn(`Firestore (${ii}): ${t}`,...n)}}function nh(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,fy(t,r,n)}function fy(t,e,n){let r=`FIRESTORE (${ii}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw or(r),new Error(r)}function ve(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||fy(e,i,r)}function se(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class $ extends ri{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _E{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ge.UNAUTHENTICATED))}shutdown(){}}class wE{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class EE{constructor(e){this.t=e,this.currentUser=Ge.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ve(this.o===void 0,42304);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let s=new Jn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Jn,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const c=s;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},l=c=>{H("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(H("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Jn)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(H("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ve(typeof r.accessToken=="string",31837,{l:r}),new py(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ve(e===null||typeof e=="string",2055,{h:e}),new Ge(e)}}class TE{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Ge.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class xE{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new TE(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Ge.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Yf{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class SE{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,nE(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ve(this.o===void 0,3512);const r=s=>{s.error!=null&&H("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.m;return this.m=s.token,H("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{H("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):H("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Yf(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ve(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Yf(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IE(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AE(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=IE(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function J(t,e){return t<e?-1:t>e?1:0}function Wu(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return J(r,i);{const s=AE(),a=kE(s.encode(Xf(t,n)),s.encode(Xf(e,n)));return a!==0?a:J(r,i)}}n+=r>65535?2:1}return J(t.length,e.length)}function Xf(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function kE(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return J(t[n],e[n]);return J(t.length,e.length)}function qr(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jf=-62135596800,Zf=1e6;class Pe{static now(){return Pe.fromMillis(Date.now())}static fromDate(e){return Pe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Zf);return new Pe(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new $(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new $(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Jf)throw new $(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new $(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Zf}_compareTo(e){return this.seconds===e.seconds?J(this.nanoseconds,e.nanoseconds):J(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Jf;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{static fromTimestamp(e){return new ue(e)}static min(){return new ue(new Pe(0,0))}static max(){return new ue(new Pe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ep="__name__";class Mt{constructor(e,n,r){n===void 0?n=0:n>e.length&&q(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&q(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Mt.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Mt?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=Mt.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return J(e.length,n.length)}static compareSegments(e,n){const r=Mt.isNumericId(e),i=Mt.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Mt.extractNumericId(e).compare(Mt.extractNumericId(n)):Wu(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return th.fromString(e.substring(4,e.length-2))}}class ye extends Mt{construct(e,n,r){return new ye(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new $(O.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ye(n)}static emptyPath(){return new ye([])}}const CE=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Me extends Mt{construct(e,n,r){return new Me(e,n,r)}static isValidIdentifier(e){return CE.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Me.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ep}static keyField(){return new Me([ep])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new $(O.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new $(O.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new $(O.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else l==="`"?(a=!a,i++):l!=="."||a?(r+=l,i++):(s(),i++)}if(s(),a)throw new $(O.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Me(n)}static emptyPath(){return new Me([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.path=e}static fromPath(e){return new Q(ye.fromString(e))}static fromName(e){return new Q(ye.fromString(e).popFirst(5))}static empty(){return new Q(ye.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ye.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ye.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Q(new ye(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ms=-1;function RE(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ue.fromTimestamp(r===1e9?new Pe(n+1,0):new Pe(n,r));return new Nn(i,Q.empty(),e)}function PE(t){return new Nn(t.readTime,t.key,ms)}class Nn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Nn(ue.min(),Q.empty(),ms)}static max(){return new Nn(ue.max(),Q.empty(),ms)}}function NE(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Q.comparator(t.documentKey,e.documentKey),n!==0?n:J(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class VE{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rh(t){if(t.code!==O.FAILED_PRECONDITION||t.message!==DE)throw t;H("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&q(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new b((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof b?n:b.resolve(n)}catch(n){return b.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):b.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):b.reject(n)}static resolve(e){return new b((n,r)=>{n(e)})}static reject(e){return new b((n,r)=>{r(e)})}static waitFor(e){return new b((n,r)=>{let i=0,s=0,a=!1;e.forEach(l=>{++i,l.next(()=>{++s,a&&s===i&&n()},c=>r(c))}),a=!0,s===i&&n()})}static or(e){let n=b.resolve(!1);for(const r of e)n=n.next(i=>i?b.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new b((r,i)=>{const s=e.length,a=new Array(s);let l=0;for(let c=0;c<s;c++){const d=c;n(e[d]).next(g=>{a[d]=g,++l,l===s&&r(a)},g=>i(g))}})}static doWhile(e,n){return new b((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function bE(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Is(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}ih.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sh=-1;function oh(t){return t==null}function aa(t){return t===0&&1/t==-1/0}function ME(t){return typeof t=="number"&&Number.isInteger(t)&&!aa(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gy="";function OE(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=tp(e)),e=LE(t.get(n),e);return tp(e)}function LE(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case gy:n+="";break;default:n+=s}}return n}function tp(t){return t+gy+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function np(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function si(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function yy(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e,n){this.comparator=e,this.root=n||Ve.EMPTY}insert(e,n){return new at(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ve.BLACK,null,null))}remove(e){return new at(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ve.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new fo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new fo(this.root,e,this.comparator,!1)}getReverseIterator(){return new fo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new fo(this.root,e,this.comparator,!0)}}class fo{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ve{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Ve.RED,this.left=i??Ve.EMPTY,this.right=s??Ve.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Ve(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ve.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ve.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ve.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ve.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw q(43730,{key:this.key,value:this.value});if(this.right.isRed())throw q(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw q(27949);return e+(this.isRed()?0:1)}}Ve.EMPTY=null,Ve.RED=!0,Ve.BLACK=!1;Ve.EMPTY=new class{constructor(){this.size=0}get key(){throw q(57766)}get value(){throw q(16141)}get color(){throw q(16727)}get left(){throw q(29726)}get right(){throw q(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new Ve(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{constructor(e){this.comparator=e,this.data=new at(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new rp(this.data.getIterator())}getIteratorFrom(e){return new rp(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Le)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Le(this.comparator);return n.data=e,n}}class rp{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.fields=e,e.sort(Me.comparator)}static empty(){return new Rt([])}unionWith(e){let n=new Le(Me.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Rt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return qr(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new jE("Invalid base64 string: "+s):s}}(e);return new Ft(n)}static fromUint8Array(e){const n=function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s}(e);return new Ft(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return J(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ft.EMPTY_BYTE_STRING=new Ft("");const FE=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ar(t){if(ve(!!t,39018),typeof t=="string"){let e=0;const n=FE.exec(t);if(ve(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:be(t.seconds),nanos:be(t.nanos)}}function be(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Kr(t){return typeof t=="string"?Ft.fromBase64String(t):Ft.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vy="server_timestamp",_y="__type__",wy="__previous_value__",Ey="__local_write_time__";function ah(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[_y])===null||n===void 0?void 0:n.stringValue)===vy}function lh(t){const e=t.mapValue.fields[wy];return ah(e)?lh(e):e}function la(t){const e=ar(t.mapValue.fields[Ey].timestampValue);return new Pe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{constructor(e,n,r,i,s,a,l,c,d,g){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=d,this.isUsingEmulator=g}}const ua="(default)";class ca{constructor(e,n){this.projectId=e,this.database=n||ua}static empty(){return new ca("","")}get isDefaultDatabase(){return this.database===ua}isEqual(e){return e instanceof ca&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ty="__type__",xy="__max__",po={mapValue:{fields:{__type__:{stringValue:xy}}}},Sy="__vector__",Qu="value";function lr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ah(t)?4:zE(t)?9007199254740991:BE(t)?10:11:q(28295,{value:t})}function Ut(t,e){if(t===e)return!0;const n=lr(t);if(n!==lr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return la(t).isEqual(la(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=ar(i.timestampValue),l=ar(s.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Kr(i.bytesValue).isEqual(Kr(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return be(i.geoPointValue.latitude)===be(s.geoPointValue.latitude)&&be(i.geoPointValue.longitude)===be(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return be(i.integerValue)===be(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=be(i.doubleValue),l=be(s.doubleValue);return a===l?aa(a)===aa(l):isNaN(a)&&isNaN(l)}return!1}(t,e);case 9:return qr(t.arrayValue.values||[],e.arrayValue.values||[],Ut);case 10:case 11:return function(i,s){const a=i.mapValue.fields||{},l=s.mapValue.fields||{};if(np(a)!==np(l))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(l[c]===void 0||!Ut(a[c],l[c])))return!1;return!0}(t,e);default:return q(52216,{left:t})}}function gs(t,e){return(t.values||[]).find(n=>Ut(n,e))!==void 0}function Yr(t,e){if(t===e)return 0;const n=lr(t),r=lr(e);if(n!==r)return J(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return J(t.booleanValue,e.booleanValue);case 2:return function(s,a){const l=be(s.integerValue||s.doubleValue),c=be(a.integerValue||a.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return ip(t.timestampValue,e.timestampValue);case 4:return ip(la(t),la(e));case 5:return Wu(t.stringValue,e.stringValue);case 6:return function(s,a){const l=Kr(s),c=Kr(a);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,a){const l=s.split("/"),c=a.split("/");for(let d=0;d<l.length&&d<c.length;d++){const g=J(l[d],c[d]);if(g!==0)return g}return J(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,a){const l=J(be(s.latitude),be(a.latitude));return l!==0?l:J(be(s.longitude),be(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return sp(t.arrayValue,e.arrayValue);case 10:return function(s,a){var l,c,d,g;const m=s.fields||{},y=a.fields||{},R=(l=m[Qu])===null||l===void 0?void 0:l.arrayValue,P=(c=y[Qu])===null||c===void 0?void 0:c.arrayValue,D=J(((d=R==null?void 0:R.values)===null||d===void 0?void 0:d.length)||0,((g=P==null?void 0:P.values)===null||g===void 0?void 0:g.length)||0);return D!==0?D:sp(R,P)}(t.mapValue,e.mapValue);case 11:return function(s,a){if(s===po.mapValue&&a===po.mapValue)return 0;if(s===po.mapValue)return 1;if(a===po.mapValue)return-1;const l=s.fields||{},c=Object.keys(l),d=a.fields||{},g=Object.keys(d);c.sort(),g.sort();for(let m=0;m<c.length&&m<g.length;++m){const y=Wu(c[m],g[m]);if(y!==0)return y;const R=Yr(l[c[m]],d[g[m]]);if(R!==0)return R}return J(c.length,g.length)}(t.mapValue,e.mapValue);default:throw q(23264,{Pe:n})}}function ip(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return J(t,e);const n=ar(t),r=ar(e),i=J(n.seconds,r.seconds);return i!==0?i:J(n.nanos,r.nanos)}function sp(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Yr(n[i],r[i]);if(s)return s}return J(n.length,r.length)}function Xr(t){return qu(t)}function qu(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ar(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Kr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Q.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=qu(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const a of r)s?s=!1:i+=",",i+=`${a}:${qu(n.fields[a])}`;return i+"}"}(t.mapValue):q(61005,{value:t})}function Po(t){switch(lr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=lh(t);return e?16+Po(e):16;case 5:return 2*t.stringValue.length;case 6:return Kr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+Po(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return si(r.fields,(s,a)=>{i+=s.length+Po(a)}),i}(t.mapValue);default:throw q(13486,{value:t})}}function Ku(t){return!!t&&"integerValue"in t}function uh(t){return!!t&&"arrayValue"in t}function No(t){return!!t&&"mapValue"in t}function BE(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[Ty])===null||n===void 0?void 0:n.stringValue)===Sy}function $i(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return si(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=$i(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=$i(t.arrayValue.values[n]);return e}return Object.assign({},t)}function zE(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===xy}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e){this.value=e}static empty(){return new Ct({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!No(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=$i(n)}setAll(e){let n=Me.emptyPath(),r={},i=[];e.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=l.popLast()}a?r[l.lastSegment()]=$i(a):i.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());No(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ut(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];No(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){si(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Ct($i(this.value))}}function Iy(t){const e=[];return si(t.fields,(n,r)=>{const i=new Me([n]);if(No(r)){const s=Iy(r.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)}),new Rt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e,n,r,i,s,a,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=a,this.documentState=l}static newInvalidDocument(e){return new kt(e,0,ue.min(),ue.min(),ue.min(),Ct.empty(),0)}static newFoundDocument(e,n,r,i){return new kt(e,1,n,ue.min(),r,i,0)}static newNoDocument(e,n){return new kt(e,2,n,ue.min(),ue.min(),Ct.empty(),0)}static newUnknownDocument(e,n){return new kt(e,3,n,ue.min(),ue.min(),Ct.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ct.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ct.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ue.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof kt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new kt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e,n){this.position=e,this.inclusive=n}}function op(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],a=t.position[i];if(s.field.isKeyField()?r=Q.comparator(Q.fromName(a.referenceValue),n.key):r=Yr(a,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function ap(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ut(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e,n="asc"){this.field=e,this.dir=n}}function HE(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ay{}class Ce extends Ay{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new GE(e,n,r):n==="array-contains"?new qE(e,r):n==="in"?new KE(e,r):n==="not-in"?new YE(e,r):n==="array-contains-any"?new XE(e,r):new Ce(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new WE(e,r):new QE(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Yr(n,this.value)):n!==null&&lr(this.value)===lr(n)&&this.matchesComparison(Yr(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return q(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Dn extends Ay{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new Dn(e,n)}matches(e){return ky(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function ky(t){return t.op==="and"}function Cy(t){return $E(t)&&ky(t)}function $E(t){for(const e of t.filters)if(e instanceof Dn)return!1;return!0}function Yu(t){if(t instanceof Ce)return t.field.canonicalString()+t.op.toString()+Xr(t.value);if(Cy(t))return t.filters.map(e=>Yu(e)).join(",");{const e=t.filters.map(n=>Yu(n)).join(",");return`${t.op}(${e})`}}function Ry(t,e){return t instanceof Ce?function(r,i){return i instanceof Ce&&r.op===i.op&&r.field.isEqual(i.field)&&Ut(r.value,i.value)}(t,e):t instanceof Dn?function(r,i){return i instanceof Dn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,a,l)=>s&&Ry(a,i.filters[l]),!0):!1}(t,e):void q(19439)}function Py(t){return t instanceof Ce?function(n){return`${n.field.canonicalString()} ${n.op} ${Xr(n.value)}`}(t):t instanceof Dn?function(n){return n.op.toString()+" {"+n.getFilters().map(Py).join(" ,")+"}"}(t):"Filter"}class GE extends Ce{constructor(e,n,r){super(e,n,r),this.key=Q.fromName(r.referenceValue)}matches(e){const n=Q.comparator(e.key,this.key);return this.matchesComparison(n)}}class WE extends Ce{constructor(e,n){super(e,"in",n),this.keys=Ny("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class QE extends Ce{constructor(e,n){super(e,"not-in",n),this.keys=Ny("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Ny(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Q.fromName(r.referenceValue))}class qE extends Ce{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return uh(n)&&gs(n.arrayValue,this.value)}}class KE extends Ce{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&gs(this.value.arrayValue,n)}}class YE extends Ce{constructor(e,n){super(e,"not-in",n)}matches(e){if(gs(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!gs(this.value.arrayValue,n)}}class XE extends Ce{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!uh(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>gs(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(e,n=null,r=[],i=[],s=null,a=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=a,this.endAt=l,this.Ie=null}}function lp(t,e=null,n=[],r=[],i=null,s=null,a=null){return new JE(t,e,n,r,i,s,a)}function ch(t){const e=se(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Yu(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),oh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Xr(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Xr(r)).join(",")),e.Ie=n}return e.Ie}function hh(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!HE(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Ry(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!ap(t.startAt,e.startAt)&&ap(t.endAt,e.endAt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(e,n=null,r=[],i=[],s=null,a="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=a,this.startAt=l,this.endAt=c,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function ZE(t,e,n,r,i,s,a,l){return new Oa(t,e,n,r,i,s,a,l)}function eT(t){return new Oa(t)}function up(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function tT(t){return t.collectionGroup!==null}function Gi(t){const e=se(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ee.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new Le(Me.comparator);return a.filters.forEach(c=>{c.getFlattenedFilters().forEach(d=>{d.isInequality()&&(l=l.add(d.field))})}),l})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ee.push(new da(s,r))}),n.has(Me.keyField().canonicalString())||e.Ee.push(new da(Me.keyField(),r))}return e.Ee}function Zn(t){const e=se(t);return e.de||(e.de=nT(e,Gi(t))),e.de}function nT(t,e){if(t.limitType==="F")return lp(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new da(i.field,s)});const n=t.endAt?new ha(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ha(t.startAt.position,t.startAt.inclusive):null;return lp(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Xu(t,e,n){return new Oa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Dy(t,e){return hh(Zn(t),Zn(e))&&t.limitType===e.limitType}function Vy(t){return`${ch(Zn(t))}|lt:${t.limitType}`}function Ci(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Py(i)).join(", ")}]`),oh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Xr(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Xr(i)).join(",")),`Target(${r})`}(Zn(t))}; limitType=${t.limitType})`}function dh(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Q.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Gi(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(a,l,c){const d=op(a,l,c);return a.inclusive?d<=0:d<0}(r.startAt,Gi(r),i)||r.endAt&&!function(a,l,c){const d=op(a,l,c);return a.inclusive?d>=0:d>0}(r.endAt,Gi(r),i))}(t,e)}function rT(t){return(e,n)=>{let r=!1;for(const i of Gi(t)){const s=iT(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function iT(t,e,n){const r=t.field.isKeyField()?Q.comparator(e.key,n.key):function(s,a,l){const c=a.data.field(s),d=l.data.field(s);return c!==null&&d!==null?Yr(c,d):q(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return q(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){si(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return yy(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT=new at(Q.comparator);function fa(){return sT}const by=new at(Q.comparator);function mo(...t){let e=by;for(const n of t)e=e.insert(n.key,n);return e}function My(t){let e=by;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Kn(){return Wi()}function Oy(){return Wi()}function Wi(){return new dr(t=>t.toString(),(t,e)=>t.isEqual(e))}const oT=new at(Q.comparator),aT=new Le(Q.comparator);function Qe(...t){let e=aT;for(const n of t)e=e.add(n);return e}const lT=new Le(J);function uT(){return lT}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fh(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:aa(e)?"-0":e}}function Ly(t){return{integerValue:""+t}}function cT(t,e){return ME(e)?Ly(e):fh(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(){this._=void 0}}function hT(t,e,n){return t instanceof pa?function(i,s){const a={fields:{[_y]:{stringValue:vy},[Ey]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&ah(s)&&(s=lh(s)),s&&(a.fields[wy]=s),{mapValue:a}}(n,e):t instanceof ys?Fy(t,e):t instanceof vs?Uy(t,e):function(i,s){const a=jy(i,s),l=cp(a)+cp(i.Re);return Ku(a)&&Ku(i.Re)?Ly(l):fh(i.serializer,l)}(t,e)}function dT(t,e,n){return t instanceof ys?Fy(t,e):t instanceof vs?Uy(t,e):n}function jy(t,e){return t instanceof ma?function(r){return Ku(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class pa extends La{}class ys extends La{constructor(e){super(),this.elements=e}}function Fy(t,e){const n=By(e);for(const r of t.elements)n.some(i=>Ut(i,r))||n.push(r);return{arrayValue:{values:n}}}class vs extends La{constructor(e){super(),this.elements=e}}function Uy(t,e){let n=By(e);for(const r of t.elements)n=n.filter(i=>!Ut(i,r));return{arrayValue:{values:n}}}class ma extends La{constructor(e,n){super(),this.serializer=e,this.Re=n}}function cp(t){return be(t.integerValue||t.doubleValue)}function By(t){return uh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function fT(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof ys&&i instanceof ys||r instanceof vs&&i instanceof vs?qr(r.elements,i.elements,Ut):r instanceof ma&&i instanceof ma?Ut(r.Re,i.Re):r instanceof pa&&i instanceof pa}(t.transform,e.transform)}class pT{constructor(e,n){this.version=e,this.transformResults=n}}class Zt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Zt}static exists(e){return new Zt(void 0,e)}static updateTime(e){return new Zt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Do(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class ja{}function zy(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new $y(t.key,Zt.none()):new As(t.key,t.data,Zt.none());{const n=t.data,r=Ct.empty();let i=new Le(Me.comparator);for(let s of e.fields)if(!i.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?r.delete(s):r.set(s,a),i=i.add(s)}return new fr(t.key,r,new Rt(i.toArray()),Zt.none())}}function mT(t,e,n){t instanceof As?function(i,s,a){const l=i.value.clone(),c=dp(i.fieldTransforms,s,a.transformResults);l.setAll(c),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):t instanceof fr?function(i,s,a){if(!Do(i.precondition,s))return void s.convertToUnknownDocument(a.version);const l=dp(i.fieldTransforms,s,a.transformResults),c=s.data;c.setAll(Hy(i)),c.setAll(l),s.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function Qi(t,e,n,r){return t instanceof As?function(s,a,l,c){if(!Do(s.precondition,a))return l;const d=s.value.clone(),g=fp(s.fieldTransforms,c,a);return d.setAll(g),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof fr?function(s,a,l,c){if(!Do(s.precondition,a))return l;const d=fp(s.fieldTransforms,c,a),g=a.data;return g.setAll(Hy(s)),g.setAll(d),a.convertToFoundDocument(a.version,g).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(m=>m.field))}(t,e,n,r):function(s,a,l){return Do(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(t,e,n)}function gT(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=jy(r.transform,i||null);s!=null&&(n===null&&(n=Ct.empty()),n.set(r.field,s))}return n||null}function hp(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&qr(r,i,(s,a)=>fT(s,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class As extends ja{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class fr extends ja{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Hy(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function dp(t,e,n){const r=new Map;ve(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let i=0;i<n.length;i++){const s=t[i],a=s.transform,l=e.data.field(s.field);r.set(s.field,dT(a,l,n[i]))}return r}function fp(t,e,n){const r=new Map;for(const i of t){const s=i.transform,a=n.data.field(i.field);r.set(i.field,hT(s,a,e))}return r}class $y extends ja{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class yT extends ja{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&mT(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Qi(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Qi(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Oy();return this.mutations.forEach(i=>{const s=e.get(i.key),a=s.overlayedDocument;let l=this.applyToLocalView(a,s.mutatedFields);l=n.has(i.key)?null:l;const c=zy(a,l);c!==null&&r.set(i.key,c),a.isValidDocument()||a.convertToNoDocument(ue.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Qe())}isEqual(e){return this.batchId===e.batchId&&qr(this.mutations,e.mutations,(n,r)=>hp(n,r))&&qr(this.baseMutations,e.baseMutations,(n,r)=>hp(n,r))}}class ph{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ve(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return oT}();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new ph(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ee,Y;function wT(t){switch(t){case O.OK:return q(64938);case O.CANCELLED:case O.UNKNOWN:case O.DEADLINE_EXCEEDED:case O.RESOURCE_EXHAUSTED:case O.INTERNAL:case O.UNAVAILABLE:case O.UNAUTHENTICATED:return!1;case O.INVALID_ARGUMENT:case O.NOT_FOUND:case O.ALREADY_EXISTS:case O.PERMISSION_DENIED:case O.FAILED_PRECONDITION:case O.ABORTED:case O.OUT_OF_RANGE:case O.UNIMPLEMENTED:case O.DATA_LOSS:return!0;default:return q(15467,{code:t})}}function ET(t){if(t===void 0)return or("GRPC error has no .code"),O.UNKNOWN;switch(t){case Ee.OK:return O.OK;case Ee.CANCELLED:return O.CANCELLED;case Ee.UNKNOWN:return O.UNKNOWN;case Ee.DEADLINE_EXCEEDED:return O.DEADLINE_EXCEEDED;case Ee.RESOURCE_EXHAUSTED:return O.RESOURCE_EXHAUSTED;case Ee.INTERNAL:return O.INTERNAL;case Ee.UNAVAILABLE:return O.UNAVAILABLE;case Ee.UNAUTHENTICATED:return O.UNAUTHENTICATED;case Ee.INVALID_ARGUMENT:return O.INVALID_ARGUMENT;case Ee.NOT_FOUND:return O.NOT_FOUND;case Ee.ALREADY_EXISTS:return O.ALREADY_EXISTS;case Ee.PERMISSION_DENIED:return O.PERMISSION_DENIED;case Ee.FAILED_PRECONDITION:return O.FAILED_PRECONDITION;case Ee.ABORTED:return O.ABORTED;case Ee.OUT_OF_RANGE:return O.OUT_OF_RANGE;case Ee.UNIMPLEMENTED:return O.UNIMPLEMENTED;case Ee.DATA_LOSS:return O.DATA_LOSS;default:return q(39323,{code:t})}}(Y=Ee||(Ee={}))[Y.OK=0]="OK",Y[Y.CANCELLED=1]="CANCELLED",Y[Y.UNKNOWN=2]="UNKNOWN",Y[Y.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Y[Y.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Y[Y.NOT_FOUND=5]="NOT_FOUND",Y[Y.ALREADY_EXISTS=6]="ALREADY_EXISTS",Y[Y.PERMISSION_DENIED=7]="PERMISSION_DENIED",Y[Y.UNAUTHENTICATED=16]="UNAUTHENTICATED",Y[Y.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Y[Y.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Y[Y.ABORTED=10]="ABORTED",Y[Y.OUT_OF_RANGE=11]="OUT_OF_RANGE",Y[Y.UNIMPLEMENTED=12]="UNIMPLEMENTED",Y[Y.INTERNAL=13]="INTERNAL",Y[Y.UNAVAILABLE=14]="UNAVAILABLE",Y[Y.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new th([4294967295,4294967295],0);class TT{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ju(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function xT(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function ST(t,e){return Ju(t,e.toTimestamp())}function Ur(t){return ve(!!t,49232),ue.fromTimestamp(function(n){const r=ar(n);return new Pe(r.seconds,r.nanos)}(t))}function Gy(t,e){return Zu(t,e).canonicalString()}function Zu(t,e){const n=function(i){return new ye(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function IT(t){const e=ye.fromString(t);return ve(VT(e),10190,{key:e.toString()}),e}function ec(t,e){return Gy(t.databaseId,e.path)}function AT(t){const e=IT(t);return e.length===4?ye.emptyPath():CT(e)}function kT(t){return new ye(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function CT(t){return ve(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function pp(t,e,n){return{name:ec(t,e),fields:n.value.mapValue.fields}}function RT(t,e){let n;if(e instanceof As)n={update:pp(t,e.key,e.value)};else if(e instanceof $y)n={delete:ec(t,e.key)};else if(e instanceof fr)n={update:pp(t,e.key,e.data),updateMask:DT(e.fieldMask)};else{if(!(e instanceof yT))return q(16599,{ft:e.type});n={verify:ec(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,a){const l=a.transform;if(l instanceof pa)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof ys)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof vs)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof ma)return{fieldPath:a.field.canonicalString(),increment:l.Re};throw q(20930,{transform:a.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:ST(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:q(27497)}(t,e.precondition)),n}function PT(t,e){return t&&t.length>0?(ve(e!==void 0,14353),t.map(n=>function(i,s){let a=i.updateTime?Ur(i.updateTime):Ur(s);return a.isEqual(ue.min())&&(a=Ur(s)),new pT(a,i.transformResults||[])}(n,e))):[]}function NT(t){let e=AT(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ve(r===1,65062);const g=n.from[0];g.allDescendants?i=g.collectionId:e=e.child(g.collectionId)}let s=[];n.where&&(s=function(m){const y=Wy(m);return y instanceof Dn&&Cy(y)?y.getFilters():[y]}(n.where));let a=[];n.orderBy&&(a=function(m){return m.map(y=>function(P){return new da(wr(P.field),function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction))}(y))}(n.orderBy));let l=null;n.limit&&(l=function(m){let y;return y=typeof m=="object"?m.value:m,oh(y)?null:y}(n.limit));let c=null;n.startAt&&(c=function(m){const y=!!m.before,R=m.values||[];return new ha(R,y)}(n.startAt));let d=null;return n.endAt&&(d=function(m){const y=!m.before,R=m.values||[];return new ha(R,y)}(n.endAt)),ZE(e,i,a,s,l,"F",c,d)}function Wy(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=wr(n.unaryFilter.field);return Ce.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=wr(n.unaryFilter.field);return Ce.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=wr(n.unaryFilter.field);return Ce.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=wr(n.unaryFilter.field);return Ce.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return q(61313);default:return q(60726)}}(t):t.fieldFilter!==void 0?function(n){return Ce.create(wr(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return q(58110);default:return q(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Dn.create(n.compositeFilter.filters.map(r=>Wy(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return q(1026)}}(n.compositeFilter.op))}(t):q(30097,{filter:t})}function wr(t){return Me.fromServerFormat(t.fieldPath)}function DT(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function VT(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(e){this.wt=e}}function MT(t){const e=NT({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Xu(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(){this.Cn=new LT}addToCollectionParentIndex(e,n){return this.Cn.add(n),b.resolve()}getCollectionParents(e,n){return b.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return b.resolve()}deleteFieldIndex(e,n){return b.resolve()}deleteAllFieldIndexes(e){return b.resolve()}createTargetIndexes(e,n){return b.resolve()}getDocumentsMatchingTarget(e,n){return b.resolve(null)}getIndexType(e,n){return b.resolve(0)}getFieldIndexes(e,n){return b.resolve([])}getNextCollectionGroupToUpdate(e){return b.resolve(null)}getMinOffset(e,n){return b.resolve(Nn.min())}getMinOffsetFromCollectionGroup(e,n){return b.resolve(Nn.min())}updateCollectionGroup(e,n,r){return b.resolve()}updateIndexEntries(e,n){return b.resolve()}}class LT{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Le(ye.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Le(ye.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mp={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Qy=41943040;class tt{static withCacheSize(e){return new tt(e,tt.DEFAULT_COLLECTION_PERCENTILE,tt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */tt.DEFAULT_COLLECTION_PERCENTILE=10,tt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,tt.DEFAULT=new tt(Qy,tt.DEFAULT_COLLECTION_PERCENTILE,tt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),tt.DISABLED=new tt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Jr(0)}static lr(){return new Jr(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gp="LruGarbageCollector",jT=1048576;function yp([t,e],[n,r]){const i=J(t,n);return i===0?J(e,r):i}class FT{constructor(e){this.Er=e,this.buffer=new Le(yp),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();yp(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class UT{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){H(gp,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Is(n)?H(gp,"Ignoring IndexedDB error during garbage collection: ",n):await rh(n)}await this.mr(3e5)})}}class BT{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return b.resolve(ih.le);const r=new FT(n);return this.gr.forEachTarget(e,i=>r.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>r.Rr(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.gr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(H("LruGarbageCollector","Garbage collection skipped; disabled"),b.resolve(mp)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(H("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),mp):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let r,i,s,a,l,c,d;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(m=>(m>this.params.maximumSequenceNumbersToCollect?(H("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),i=this.params.maximumSequenceNumbersToCollect):i=m,a=Date.now(),this.nthSequenceNumber(e,i))).next(m=>(r=m,l=Date.now(),this.removeTargets(e,r,n))).next(m=>(s=m,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(m=>(d=Date.now(),_r()<=X.DEBUG&&H("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-g}ms
	Determined least recently used ${i} in `+(l-a)+`ms
	Removed ${s} targets in `+(c-l)+`ms
	Removed ${m} documents in `+(d-c)+`ms
Total Duration: ${d-g}ms`),b.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:m})))}}function zT(t,e){return new BT(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(){this.changes=new dr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,kt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?b.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Qi(r.mutation,i,Rt.empty(),Pe.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Qe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Qe()){const i=Kn();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let a=mo();return s.forEach((l,c)=>{a=a.insert(l,c.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=Kn();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Qe()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((a,l)=>{n.set(a,l)})})}computeViews(e,n,r,i){let s=fa();const a=Wi(),l=function(){return Wi()}();return n.forEach((c,d)=>{const g=r.get(d.key);i.has(d.key)&&(g===void 0||g.mutation instanceof fr)?s=s.insert(d.key,d):g!==void 0?(a.set(d.key,g.mutation.getFieldMask()),Qi(g.mutation,d,g.mutation.getFieldMask(),Pe.now())):a.set(d.key,Rt.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((d,g)=>a.set(d,g)),n.forEach((d,g)=>{var m;return l.set(d,new $T(g,(m=a.get(d))!==null&&m!==void 0?m:null))}),l))}recalculateAndSaveOverlays(e,n){const r=Wi();let i=new at((a,l)=>a-l),s=Qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const l of a)l.keys().forEach(c=>{const d=n.get(c);if(d===null)return;let g=r.get(c)||Rt.empty();g=l.applyToLocalView(d,g),r.set(c,g);const m=(i.get(l.batchId)||Qe()).add(c);i=i.insert(l.batchId,m)})}).next(()=>{const a=[],l=i.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),d=c.key,g=c.value,m=Oy();g.forEach(y=>{if(!s.has(y)){const R=zy(n.get(y),r.get(y));R!==null&&m.set(y,R),s=s.add(y)}}),a.push(this.documentOverlayCache.saveOverlays(e,d,m))}return b.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(a){return Q.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):tT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):b.resolve(Kn());let l=ms,c=s;return a.next(d=>b.forEach(d,(g,m)=>(l<m.largestBatchId&&(l=m.largestBatchId),s.get(g)?b.resolve():this.remoteDocumentCache.getEntry(e,g).next(y=>{c=c.insert(g,y)}))).next(()=>this.populateOverlays(e,d,s)).next(()=>this.computeViews(e,c,d,Qe())).next(g=>({batchId:l,changes:My(g)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Q(n)).next(r=>{let i=mo();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let a=mo();return this.indexManager.getCollectionParents(e,s).next(l=>b.forEach(l,c=>{const d=function(m,y){return new Oa(y,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next(g=>{g.forEach((m,y)=>{a=a.insert(m,y)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(a=>{s.forEach((c,d)=>{const g=d.getKey();a.get(g)===null&&(a=a.insert(g,kt.newInvalidDocument(g)))});let l=mo();return a.forEach((c,d)=>{const g=s.get(c);g!==void 0&&Qi(g.mutation,d,Rt.empty(),Pe.now()),dh(n,d)&&(l=l.insert(c,d))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return b.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Ur(i.createTime)}}(n)),b.resolve()}getNamedQuery(e,n){return b.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(i){return{name:i.name,query:MT(i.bundledQuery),readTime:Ur(i.readTime)}}(n)),b.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{constructor(){this.overlays=new at(Q.comparator),this.Qr=new Map}getOverlay(e,n){return b.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Kn();return b.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.St(e,n,s)}),b.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Qr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Qr.delete(r)),b.resolve()}getOverlaysForCollection(e,n,r){const i=Kn(),s=n.length+1,a=new Q(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const c=l.getNext().value,d=c.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return b.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new at((d,g)=>d-g);const a=this.overlays.getIterator();for(;a.hasNext();){const d=a.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let g=s.get(d.largestBatchId);g===null&&(g=Kn(),s=s.insert(d.largestBatchId,g)),g.set(d.getKey(),d)}}const l=Kn(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((d,g)=>l.set(d,g)),!(l.size()>=i)););return b.resolve(l)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.Qr.get(i.largestBatchId).delete(r.key);this.Qr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new _T(n,r));let s=this.Qr.get(n);s===void 0&&(s=Qe(),this.Qr.set(n,s)),this.Qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(){this.sessionToken=Ft.EMPTY_BYTE_STRING}getSessionToken(e){return b.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,b.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(){this.$r=new Le(Ae.Ur),this.Kr=new Le(Ae.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const r=new Ae(e,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.zr(new Ae(e,n))}jr(e,n){e.forEach(r=>this.removeReference(r,n))}Hr(e){const n=new Q(new ye([])),r=new Ae(n,e),i=new Ae(n,e+1),s=[];return this.Kr.forEachInRange([r,i],a=>{this.zr(a),s.push(a.key)}),s}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new Q(new ye([])),r=new Ae(n,e),i=new Ae(n,e+1);let s=Qe();return this.Kr.forEachInRange([r,i],a=>{s=s.add(a.key)}),s}containsKey(e){const n=new Ae(e,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ae{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return Q.comparator(e.key,n.key)||J(e.Zr,n.Zr)}static Wr(e,n){return J(e.Zr,n.Zr)||Q.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new Le(Ae.Ur)}checkEmpty(e){return b.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new vT(s,n,r,i);this.mutationQueue.push(a);for(const l of i)this.Xr=this.Xr.add(new Ae(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return b.resolve(a)}lookupMutationBatch(e,n){return b.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ti(r),s=i<0?0:i;return b.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return b.resolve(this.mutationQueue.length===0?sh:this.nr-1)}getAllMutationBatches(e){return b.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ae(n,0),i=new Ae(n,Number.POSITIVE_INFINITY),s=[];return this.Xr.forEachInRange([r,i],a=>{const l=this.ei(a.Zr);s.push(l)}),b.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Le(J);return n.forEach(i=>{const s=new Ae(i,0),a=new Ae(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([s,a],l=>{r=r.add(l.Zr)})}),b.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Q.isDocumentKey(s)||(s=s.child(""));const a=new Ae(new Q(s),0);let l=new Le(J);return this.Xr.forEachWhile(c=>{const d=c.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(l=l.add(c.Zr)),!0)},a),b.resolve(this.ni(l))}ni(e){const n=[];return e.forEach(r=>{const i=this.ei(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ve(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return b.forEach(n.mutations,i=>{const s=new Ae(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,n){const r=new Ae(n,0),i=this.Xr.firstAfterOrEqual(r);return b.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,b.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(e){this.ii=e,this.docs=function(){return new at(Q.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,a=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return b.resolve(r?r.document.mutableCopy():kt.newInvalidDocument(n))}getEntries(e,n){let r=fa();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():kt.newInvalidDocument(i))}),b.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=fa();const a=n.path,l=new Q(a.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:d,value:{document:g}}=c.getNext();if(!a.isPrefixOf(d.path))break;d.path.length>a.length+1||NE(PE(g),r)<=0||(i.has(g.key)||dh(n,g))&&(s=s.insert(g.key,g.mutableCopy()))}return b.resolve(s)}getAllFromCollectionGroup(e,n,r,i){q(9500)}si(e,n){return b.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new XT(this)}getSize(e){return b.resolve(this.size)}}class XT extends HT{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Br.addEntry(e,i)):this.Br.removeEntry(r)}),b.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(e){this.persistence=e,this.oi=new dr(n=>ch(n),hh),this.lastRemoteSnapshotVersion=ue.min(),this.highestTargetId=0,this._i=0,this.ai=new mh,this.targetCount=0,this.ui=Jr.cr()}forEachTarget(e,n){return this.oi.forEach((r,i)=>n(i)),b.resolve()}getLastRemoteSnapshotVersion(e){return b.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return b.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),b.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),b.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new Jr(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,b.resolve()}updateTargetData(e,n){return this.Tr(n),b.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,b.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.oi.forEach((a,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.oi.delete(a),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),b.waitFor(s).next(()=>i)}getTargetCount(e){return b.resolve(this.targetCount)}getTargetData(e,n){const r=this.oi.get(n)||null;return b.resolve(r)}addMatchingKeys(e,n,r){return this.ai.Gr(n,r),b.resolve()}removeMatchingKeys(e,n,r){this.ai.jr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(a=>{s.push(i.markPotentiallyOrphaned(e,a))}),b.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),b.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ai.Yr(n);return b.resolve(r)}containsKey(e,n){return b.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qy{constructor(e,n){this.ci={},this.overlays={},this.li=new ih(0),this.hi=!1,this.hi=!0,this.Pi=new qT,this.referenceDelegate=e(this),this.Ti=new JT(this),this.indexManager=new OT,this.remoteDocumentCache=function(i){return new YT(i)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new bT(n),this.Ei=new WT(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new QT,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ci[e.toKey()];return r||(r=new KT(n,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,r){H("MemoryPersistence","Starting transaction:",e);const i=new ZT(this.li.next());return this.referenceDelegate.di(),r(i).next(s=>this.referenceDelegate.Ai(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ri(e,n){return b.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,n)))}}class ZT extends VE{constructor(e){super(),this.currentSequenceNumber=e}}class gh{constructor(e){this.persistence=e,this.Vi=new mh,this.mi=null}static fi(e){return new gh(e)}get gi(){if(this.mi)return this.mi;throw q(60996)}addReference(e,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),b.resolve()}removeReference(e,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),b.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),b.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(i=>this.gi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.gi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return b.forEach(this.gi,r=>{const i=Q.fromPath(r);return this.pi(e,i).next(s=>{s||n.removeEntry(i,ue.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return b.or([()=>b.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class ga{constructor(e,n){this.persistence=e,this.yi=new dr(r=>OE(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=zT(this,n)}static fi(e,n){return new ga(e,n)}di(){}Ai(e){return b.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}br(e){let n=0;return this.yr(e,r=>{n++}).next(()=>n)}yr(e,n){return b.forEach(this.yi,(r,i)=>this.Dr(e,r,i).next(s=>s?b.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.si(e,a=>this.Dr(e,a,n).next(l=>{l||(r++,s.removeEntry(a,ue.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),b.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),b.resolve()}removeReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),b.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),b.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Po(e.data.value)),n}Dr(e,n,r){return b.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.yi.get(n);return b.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ds=r,this.As=i}static Rs(e,n){let r=Qe(),i=Qe();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new yh(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return Z_()?8:bE(X_())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ws(e,n).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.bs(e,n,i,r).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new ex;return this.Ss(e,n,a).next(l=>{if(s.result=l,this.fs)return this.Ds(e,n,a,l.size)})}).next(()=>s.result)}Ds(e,n,r,i){return r.documentReadCount<this.gs?(_r()<=X.DEBUG&&H("QueryEngine","SDK will not create cache indexes for query:",Ci(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),b.resolve()):(_r()<=X.DEBUG&&H("QueryEngine","Query:",Ci(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ps*i?(_r()<=X.DEBUG&&H("QueryEngine","The SDK decides to create cache indexes for query:",Ci(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Zn(n))):b.resolve())}ws(e,n){if(up(n))return b.resolve(null);let r=Zn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Xu(n,null,"F"),r=Zn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const a=Qe(...s);return this.ys.getDocuments(e,a).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const d=this.vs(n,l);return this.Cs(n,d,a,c.readTime)?this.ws(e,Xu(n,null,"F")):this.Fs(e,d,n,c)}))})))}bs(e,n,r,i){return up(n)||i.isEqual(ue.min())?b.resolve(null):this.ys.getDocuments(e,r).next(s=>{const a=this.vs(n,s);return this.Cs(n,a,r,i)?b.resolve(null):(_r()<=X.DEBUG&&H("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ci(n)),this.Fs(e,a,n,RE(i,ms)).next(l=>l))})}vs(e,n){let r=new Le(rT(e));return n.forEach((i,s)=>{dh(e,s)&&(r=r.add(s))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return _r()<=X.DEBUG&&H("QueryEngine","Using full collection scan to execute query:",Ci(n)),this.ys.getDocumentsMatchingQuery(e,n,Nn.min(),r)}Fs(e,n,r,i){return this.ys.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nx="LocalStore";class rx{constructor(e,n,r,i){this.persistence=e,this.Ms=n,this.serializer=i,this.xs=new at(J),this.Os=new dr(s=>ch(s),hh),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new GT(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function ix(t,e,n,r){return new rx(t,e,n,r)}async function Ky(t,e){const n=se(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const a=[],l=[];let c=Qe();for(const d of i){a.push(d.batchId);for(const g of d.mutations)c=c.add(g.key)}for(const d of s){l.push(d.batchId);for(const g of d.mutations)c=c.add(g.key)}return n.localDocuments.getDocuments(r,c).next(d=>({ks:d,removedBatchIds:a,addedBatchIds:l}))})})}function sx(t,e){const n=se(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Bs.newChangeBuffer({trackRemovals:!0});return function(l,c,d,g){const m=d.batch,y=m.keys();let R=b.resolve();return y.forEach(P=>{R=R.next(()=>g.getEntry(c,P)).next(D=>{const j=d.docVersions.get(P);ve(j!==null,48541),D.version.compareTo(j)<0&&(m.applyToRemoteDocument(D,d),D.isValidDocument()&&(D.setReadTime(d.commitVersion),g.addEntry(D)))})}),R.next(()=>l.mutationQueue.removeMutationBatch(c,m))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=Qe();for(let d=0;d<l.mutationResults.length;++d)l.mutationResults[d].transformResults.length>0&&(c=c.add(l.batch.mutations[d].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function ox(t){const e=se(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function ax(t,e){const n=se(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=sh),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}class vp{constructor(){this.activeTargetIds=uT()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class lx{constructor(){this.xo=new vp,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,r){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new vp,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _p="ConnectivityMonitor";class wp{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){H(_p,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){H(_p,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let go=null;function tc(){return go===null?go=function(){return 268435456+Math.round(2147483648*Math.random())}():go++,"0x"+go.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $l="RestConnection",cx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class hx{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${r}/databases/${i}`,this.Go=this.databaseId.database===ua?`project_id=${r}`:`project_id=${r}&database_id=${i}`}zo(e,n,r,i,s){const a=tc(),l=this.jo(e,n.toUriEncodedString());H($l,`Sending RPC '${e}' ${a}:`,l,r);const c={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(c,i,s);const{host:d}=new URL(l),g=Zc(d);return this.Jo(e,l,c,r,g).then(m=>(H($l,`Received RPC '${e}' ${a}: `,m),m),m=>{throw Ma($l,`RPC '${e}' ${a} failed with error: `,m,"url: ",l,"request:",r),m})}Yo(e,n,r,i,s,a){return this.zo(e,n,r,i,s)}Ho(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ii}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}jo(e,n){const r=cx[e];return`${this.Ko}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $e="WebChannelConnection";class fx extends hx{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const a=tc();return new Promise((l,c)=>{const d=new ly;d.setWithCredentials(!0),d.listenOnce(uy.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Ro.NO_ERROR:const m=d.getResponseJson();H($e,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(m)),l(m);break;case Ro.TIMEOUT:H($e,`RPC '${e}' ${a} timed out`),c(new $(O.DEADLINE_EXCEEDED,"Request time out"));break;case Ro.HTTP_ERROR:const y=d.getStatus();if(H($e,`RPC '${e}' ${a} failed with status:`,y,"response text:",d.getResponseText()),y>0){let R=d.getResponseJson();Array.isArray(R)&&(R=R[0]);const P=R==null?void 0:R.error;if(P&&P.status&&P.message){const D=function(x){const _=x.toLowerCase().replace(/_/g,"-");return Object.values(O).indexOf(_)>=0?_:O.UNKNOWN}(P.status);c(new $(D,P.message))}else c(new $(O.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new $(O.UNAVAILABLE,"Connection failed."));break;default:q(9055,{h_:e,streamId:a,P_:d.getLastErrorCode(),T_:d.getLastError()})}}finally{H($e,`RPC '${e}' ${a} completed.`)}});const g=JSON.stringify(i);H($e,`RPC '${e}' ${a} sending request:`,i),d.send(n,"POST",g,r,15)})}I_(e,n,r){const i=tc(),s=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=dy(),l=hy(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Ho(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const g=s.join("");H($e,`Creating RPC '${e}' stream ${i}: ${g}`,c);const m=a.createWebChannel(g,c);this.E_(m);let y=!1,R=!1;const P=new dx({Zo:j=>{R?H($e,`Not sending because RPC '${e}' stream ${i} is closed:`,j):(y||(H($e,`Opening RPC '${e}' stream ${i} transport.`),m.open(),y=!0),H($e,`RPC '${e}' stream ${i} sending:`,j),m.send(j))},Xo:()=>m.close()}),D=(j,x,_)=>{j.listen(x,S=>{try{_(S)}catch(V){setTimeout(()=>{throw V},0)}})};return D(m,Vi.EventType.OPEN,()=>{R||(H($e,`RPC '${e}' stream ${i} transport opened.`),P.__())}),D(m,Vi.EventType.CLOSE,()=>{R||(R=!0,H($e,`RPC '${e}' stream ${i} transport closed`),P.u_(),this.d_(m))}),D(m,Vi.EventType.ERROR,j=>{R||(R=!0,Ma($e,`RPC '${e}' stream ${i} transport errored. Name:`,j.name,"Message:",j.message),P.u_(new $(O.UNAVAILABLE,"The operation could not be completed")))}),D(m,Vi.EventType.MESSAGE,j=>{var x;if(!R){const _=j.data[0];ve(!!_,16349);const S=_,V=(S==null?void 0:S.error)||((x=S[0])===null||x===void 0?void 0:x.error);if(V){H($e,`RPC '${e}' stream ${i} received error:`,V);const F=V.status;let U=function(v){const T=Ee[v];if(T!==void 0)return ET(T)}(F),w=V.message;U===void 0&&(U=O.INTERNAL,w="Unknown error status: "+F+" with message "+V.message),R=!0,P.u_(new $(U,w)),m.close()}else H($e,`RPC '${e}' stream ${i} received:`,_),P.c_(_)}}),D(l,cy.STAT_EVENT,j=>{j.stat===Gu.PROXY?H($e,`RPC '${e}' stream ${i} detected buffering proxy`):j.stat===Gu.NOPROXY&&H($e,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{P.a_()},0),P}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(n=>n===e)}}function Gl(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fa(t){return new TT(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yy{constructor(e,n,r=1e3,i=1.5,s=6e4){this.xi=e,this.timerId=n,this.A_=r,this.R_=i,this.V_=s,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const n=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),i=Math.max(0,n-r);i>0&&H("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ep="PersistentStream";class px{constructor(e,n,r,i,s,a,l,c){this.xi=e,this.S_=r,this.D_=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new Yy(e,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():n&&n.code===O.RESOURCE_EXHAUSTED?(or(n.toString()),or("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===O.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.v_===n&&this.z_(r,i)},r=>{e(()=>{const i=new $(O.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(i)})})}z_(e,n){const r=this.G_(this.v_);this.stream=this.H_(e,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{r(()=>this.j_(i))}),this.stream.onMessage(i=>{r(()=>++this.M_==1?this.J_(i):this.onNext(i))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return H(Ep,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return n=>{this.xi.enqueueAndForget(()=>this.v_===e?n():(H(Ep,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class mx extends px{constructor(e,n,r,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,n){return this.connection.I_("Write",e,n)}J_(e){return ve(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ve(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){ve(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const n=PT(e.writeResults,e.commitTime),r=Ur(e.commitTime);return this.listener.ra(r,n)}ia(){const e={};e.database=kT(this.serializer),this.Q_(e)}ta(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>RT(this.serializer,r))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{}class yx extends gx{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.sa=!1}oa(){if(this.sa)throw new $(O.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,r,i){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.zo(e,Zu(n,r),i,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new $(O.UNKNOWN,s.toString())})}Yo(e,n,r,i,s){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Yo(e,Zu(n,r),i,a,l,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new $(O.UNKNOWN,a.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class vx{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(or(n),this.ua=!1):H("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks="RemoteStore";class _x{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=s,this.Ra.No(a=>{r.enqueueAndForget(async()=>{Rs(this)&&(H(ks,"Restarting streams for network reachability change."),await async function(c){const d=se(c);d.da.add(4),await Cs(d),d.Va.set("Unknown"),d.da.delete(4),await Ua(d)}(this))})}),this.Va=new vx(r,i)}}async function Ua(t){if(Rs(t))for(const e of t.Aa)await e(!0)}async function Cs(t){for(const e of t.Aa)await e(!1)}function Rs(t){return se(t).da.size===0}async function Xy(t,e,n){if(!Is(e))throw e;t.da.add(1),await Cs(t),t.Va.set("Offline"),n||(n=()=>ox(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{H(ks,"Retrying IndexedDB access"),await n(),t.da.delete(1),await Ua(t)})}function Jy(t,e){return e().catch(n=>Xy(t,n,e))}async function Ba(t){const e=se(t),n=Vn(e);let r=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:sh;for(;wx(e);)try{const i=await ax(e.localStore,r);if(i===null){e.Ia.length===0&&n.k_();break}r=i.batchId,Ex(e,i)}catch(i){await Xy(e,i)}Zy(e)&&ev(e)}function wx(t){return Rs(t)&&t.Ia.length<10}function Ex(t,e){t.Ia.push(e);const n=Vn(t);n.N_()&&n.ea&&n.ta(e.mutations)}function Zy(t){return Rs(t)&&!Vn(t).O_()&&t.Ia.length>0}function ev(t){Vn(t).start()}async function Tx(t){Vn(t).ia()}async function xx(t){const e=Vn(t);for(const n of t.Ia)e.ta(n.mutations)}async function Sx(t,e,n){const r=t.Ia.shift(),i=ph.from(r,e,n);await Jy(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Ba(t)}async function Ix(t,e){e&&Vn(t).ea&&await async function(r,i){if(function(a){return wT(a)&&a!==O.ABORTED}(i.code)){const s=r.Ia.shift();Vn(r).L_(),await Jy(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Ba(r)}}(t,e),Zy(t)&&ev(t)}async function Tp(t,e){const n=se(t);n.asyncQueue.verifyOperationInProgress(),H(ks,"RemoteStore received new credentials");const r=Rs(n);n.da.add(3),await Cs(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.da.delete(3),await Ua(n)}async function Ax(t,e){const n=se(t);e?(n.da.delete(2),await Ua(n)):e||(n.da.add(2),await Cs(n),n.Va.set("Unknown"))}function Vn(t){return t.ga||(t.ga=function(n,r,i){const s=se(n);return s.oa(),new mx(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:Tx.bind(null,t),i_:Ix.bind(null,t),na:xx.bind(null,t),ra:Sx.bind(null,t)}),t.Aa.push(async e=>{e?(t.ga.L_(),await Ba(t)):(await t.ga.stop(),t.Ia.length>0&&(H(ks,`Stopping write stream with ${t.Ia.length} pending writes`),t.Ia=[]))})),t.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Jn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const a=Date.now()+r,l=new vh(e,n,a,i,s);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new $(O.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function tv(t,e){if(or("AsyncQueue",`${e}: ${t}`),Is(t))return new $(O.UNAVAILABLE,`${e}: ${t}`);throw t}class kx{constructor(){this.queries=xp(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=se(n),s=i.queries;i.queries=xp(),s.forEach((a,l)=>{for(const c of l.Sa)c.onError(r)})})(this,new $(O.ABORTED,"Firestore shutting down"))}}function xp(){return new dr(t=>Vy(t),Dy)}function Cx(t){t.Ca.forEach(e=>{e.next()})}var Sp,Ip;(Ip=Sp||(Sp={})).xa="default",Ip.Cache="cache";const Rx="SyncEngine";class Px{constructor(e,n,r,i,s,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.lu={},this.hu=new dr(l=>Vy(l),Dy),this.Pu=new Map,this.Tu=new Set,this.Iu=new at(Q.comparator),this.Eu=new Map,this.du=new mh,this.Au={},this.Ru=new Map,this.Vu=Jr.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function Nx(t,e,n){const r=Mx(t);try{const i=await function(a,l){const c=se(a),d=Pe.now(),g=l.reduce((R,P)=>R.add(P.key),Qe());let m,y;return c.persistence.runTransaction("Locally write mutations","readwrite",R=>{let P=fa(),D=Qe();return c.Bs.getEntries(R,g).next(j=>{P=j,P.forEach((x,_)=>{_.isValidDocument()||(D=D.add(x))})}).next(()=>c.localDocuments.getOverlayedDocuments(R,P)).next(j=>{m=j;const x=[];for(const _ of l){const S=gT(_,m.get(_.key).overlayedDocument);S!=null&&x.push(new fr(_.key,S,Iy(S.value.mapValue),Zt.exists(!0)))}return c.mutationQueue.addMutationBatch(R,d,x,l)}).next(j=>{y=j;const x=j.applyToLocalDocumentSet(m,D);return c.documentOverlayCache.saveOverlays(R,j.batchId,x)})}).then(()=>({batchId:y.batchId,changes:My(m)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,l,c){let d=a.Au[a.currentUser.toKey()];d||(d=new at(J)),d=d.insert(l,c),a.Au[a.currentUser.toKey()]=d}(r,i.batchId,n),await za(r,i.changes),await Ba(r.remoteStore)}catch(i){const s=tv(i,"Failed to persist write");n.reject(s)}}function Ap(t,e,n){const r=se(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.hu.forEach((s,a)=>{const l=a.view.Fa(e);l.snapshot&&i.push(l.snapshot)}),function(a,l){const c=se(a);c.onlineState=l;let d=!1;c.queries.forEach((g,m)=>{for(const y of m.Sa)y.Fa(l)&&(d=!0)}),d&&Cx(c)}(r.eventManager,e),i.length&&r.lu.Y_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Dx(t,e){const n=se(t),r=e.batch.batchId;try{const i=await sx(n.localStore,e);rv(n,r,null),nv(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await za(n,i)}catch(i){await rh(i)}}async function Vx(t,e,n){const r=se(t);try{const i=await function(a,l){const c=se(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let g;return c.mutationQueue.lookupMutationBatch(d,l).next(m=>(ve(m!==null,37113),g=m.keys(),c.mutationQueue.removeMutationBatch(d,m))).next(()=>c.mutationQueue.performConsistencyCheck(d)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(d,g,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,g)).next(()=>c.localDocuments.getDocuments(d,g))})}(r.localStore,e);rv(r,e,n),nv(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await za(r,i)}catch(i){await rh(i)}}function nv(t,e){(t.Ru.get(e)||[]).forEach(n=>{n.resolve()}),t.Ru.delete(e)}function rv(t,e,n){const r=se(t);let i=r.Au[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Au[r.currentUser.toKey()]=i}}async function za(t,e,n){const r=se(t),i=[],s=[],a=[];r.hu.isEmpty()||(r.hu.forEach((l,c)=>{a.push(r.fu(c,e,n).then(d=>{var g;if((d||n)&&r.isPrimaryClient){const m=d?!d.fromCache:(g=void 0)===null||g===void 0?void 0:g.current;r.sharedClientState.updateQueryState(c.targetId,m?"current":"not-current")}if(d){i.push(d);const m=yh.Rs(c.targetId,d);s.push(m)}}))}),await Promise.all(a),r.lu.Y_(i),await async function(c,d){const g=se(c);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>b.forEach(d,y=>b.forEach(y.ds,R=>g.persistence.referenceDelegate.addReference(m,y.targetId,R)).next(()=>b.forEach(y.As,R=>g.persistence.referenceDelegate.removeReference(m,y.targetId,R)))))}catch(m){if(!Is(m))throw m;H(nx,"Failed to update sequence numbers: "+m)}for(const m of d){const y=m.targetId;if(!m.fromCache){const R=g.xs.get(y),P=R.snapshotVersion,D=R.withLastLimboFreeSnapshotVersion(P);g.xs=g.xs.insert(y,D)}}}(r.localStore,s))}async function bx(t,e){const n=se(t);if(!n.currentUser.isEqual(e)){H(Rx,"User change. New user:",e.toKey());const r=await Ky(n.localStore,e);n.currentUser=e,function(s,a){s.Ru.forEach(l=>{l.forEach(c=>{c.reject(new $(O.CANCELLED,a))})}),s.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await za(n,r.ks)}}function Mx(t){const e=se(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Dx.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Vx.bind(null,e),e}class ya{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Fa(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,n){return null}Cu(e,n){return null}Du(e){return ix(this.persistence,new tx,e.initialUser,this.serializer)}Su(e){return new qy(gh.fi,this.serializer)}bu(e){return new lx}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ya.provider={build:()=>new ya};class Ox extends ya{constructor(e){super(),this.cacheSizeBytes=e}vu(e,n){ve(this.persistence.referenceDelegate instanceof ga,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new UT(r,e.asyncQueue,n)}Su(e){const n=this.cacheSizeBytes!==void 0?tt.withCacheSize(this.cacheSizeBytes):tt.DEFAULT;return new qy(r=>ga.fi(r,n),this.serializer)}}class nc{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Ap(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=bx.bind(null,this.syncEngine),await Ax(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new kx}()}createDatastore(e){const n=Fa(e.databaseInfo.databaseId),r=function(s){return new fx(s)}(e.databaseInfo);return function(s,a,l,c){return new yx(s,a,l,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,a,l){return new _x(r,i,s,a,l)}(this.localStore,this.datastore,e.asyncQueue,n=>Ap(this.syncEngine,n,0),function(){return wp.C()?new wp:new ux}())}createSyncEngine(e,n){return function(i,s,a,l,c,d,g){const m=new Px(i,s,a,l,c,d);return g&&(m.mu=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=se(i);H(ks,"RemoteStore shutting down."),s.da.add(5),await Cs(s),s.Ra.shutdown(),s.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}nc.provider={build:()=>new nc};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bn="FirestoreClient";class Lx{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ge.UNAUTHENTICATED,this.clientId=my.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async a=>{H(bn,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(H(bn,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Jn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=tv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Wl(t,e){t.asyncQueue.verifyOperationInProgress(),H(bn,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Ky(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function kp(t,e){t.asyncQueue.verifyOperationInProgress();const n=await jx(t);H(bn,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Tp(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Tp(e.remoteStore,i)),t._onlineComponents=e}async function jx(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){H(bn,"Using user provided OfflineComponentProvider");try{await Wl(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===O.FAILED_PRECONDITION||i.code===O.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Ma("Error using user provided cache. Falling back to memory cache: "+n),await Wl(t,new ya)}}else H(bn,"Using default OfflineComponentProvider"),await Wl(t,new Ox(void 0));return t._offlineComponents}async function Fx(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(H(bn,"Using user provided OnlineComponentProvider"),await kp(t,t._uninitializedComponentsProvider._online)):(H(bn,"Using default OnlineComponentProvider"),await kp(t,new nc))),t._onlineComponents}function Ux(t){return Fx(t).then(e=>e.syncEngine)}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iv(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cp=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sv(t,e,n){if(!n)throw new $(O.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Bx(t,e,n,r){if(e===!0&&r===!0)throw new $(O.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Rp(t){if(!Q.isDocumentKey(t))throw new $(O.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Pp(t){if(Q.isDocumentKey(t))throw new $(O.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function _h(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":q(12329,{type:typeof t})}function ov(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new $(O.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=_h(t);throw new $(O.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const av="firestore.googleapis.com",Np=!0;class Dp{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new $(O.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=av,this.ssl=Np}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:Np;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Qy;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<jT)throw new $(O.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Bx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=iv((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new $(O.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new $(O.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new $(O.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ha{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Dp({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new $(O.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new $(O.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Dp(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new _E;switch(r.type){case"firstParty":return new xE(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new $(O.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Cp.get(n);r&&(H("ComponentProvider","Removing Datastore"),Cp.delete(n),r.terminate())}(this),Promise.resolve()}}function zx(t,e,n,r={}){var i;t=ov(t,Ha);const s=Zc(e),a=t._getSettings(),l=Object.assign(Object.assign({},a),{emulatorOptions:t._getEmulatorOptions()}),c=`${e}:${n}`;s&&(W_(`https://${c}`),Y_("Firestore",!0)),a.host!==av&&a.host!==c&&Ma("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d=Object.assign(Object.assign({},a),{host:c,ssl:s,emulatorOptions:r});if(!ia(d,l)&&(t._setSettings(d),r.mockUserToken)){let g,m;if(typeof r.mockUserToken=="string")g=r.mockUserToken,m=Ge.MOCK_USER;else{g=Q_(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new $(O.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Ge(y)}t._authCredentials=new wE(new py(g,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new wh(this.firestore,e,this._query)}}class en{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Cn(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new en(this.firestore,e,this._key)}}class Cn extends wh{constructor(e,n,r){super(e,n,eT(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new en(this.firestore,null,new Q(e))}withConverter(e){return new Cn(this.firestore,e,this._path)}}function Hx(t,e,...n){if(t=ds(t),sv("collection","path",e),t instanceof Ha){const r=ye.fromString(e,...n);return Pp(r),new Cn(t,null,r)}{if(!(t instanceof en||t instanceof Cn))throw new $(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ye.fromString(e,...n));return Pp(r),new Cn(t.firestore,null,r)}}function $x(t,e,...n){if(t=ds(t),arguments.length===1&&(e=my.newId()),sv("doc","path",e),t instanceof Ha){const r=ye.fromString(e,...n);return Rp(r),new en(t,null,new Q(r))}{if(!(t instanceof en||t instanceof Cn))throw new $(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ye.fromString(e,...n));return Rp(r),new en(t.firestore,t instanceof Cn?t.converter:null,new Q(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vp="AsyncQueue";class bp{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new Yy(this,"async_queue_retry"),this.rc=()=>{const r=Gl();r&&H(Vp,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=e;const n=Gl();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const n=Gl();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new Jn;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!Is(e))throw e;H(Vp,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const n=this.sc.then(()=>(this.ec=!0,e().catch(r=>{throw this.Xu=r,this.ec=!1,or("INTERNAL UNHANDLED ERROR: ",Mp(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=n,n}enqueueAfterDelay(e,n,r){this.oc(),this.nc.indexOf(e)>-1&&(n=0);const i=vh.createAndSchedule(this,e,n,r,s=>this.uc(s));return this.Zu.push(i),i}oc(){this.Xu&&q(47125,{cc:Mp(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const n of this.Zu)if(n.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const n=this.Zu.indexOf(e);this.Zu.splice(n,1)}}function Mp(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class lv extends Ha{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new bp,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new bp(e),this._firestoreClient=void 0,await e}}}function Gx(t,e){const n=typeof t=="object"?t:oE(),r=typeof t=="string"?t:ua,i=tE(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=$_("firestore");s&&zx(i,...s)}return i}function Wx(t){if(t._terminated)throw new $(O.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Qx(t),t._firestoreClient}function Qx(t){var e,n,r;const i=t._freezeSettings(),s=function(l,c,d,g){return new UE(l,c,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,iv(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new Lx(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e){this._byteString=e}static fromBase64String(e){try{return new _s(Ft.fromBase64String(e))}catch(n){throw new $(O.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new _s(Ft.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new $(O.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Me(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new $(O.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new $(O.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return J(this._lat,e._lat)||J(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qx=/^__.*__$/;class Kx{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new fr(e,this.data,this.fieldMask,n,this.fieldTransforms):new As(e,this.data,n,this.fieldTransforms)}}function fv(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw q(40011,{Ic:t})}}class Eh{constructor(e,n,r,i,s,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Ec(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new Eh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.dc({path:r,Rc:!1});return i.Vc(e),i}mc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.dc({path:r,Rc:!1});return i.Ec(),i}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return va(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(fv(this.Ic)&&qx.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class Yx{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Fa(e)}bc(e,n,r,i=!1){return new Eh({Ic:e,methodName:n,wc:r,path:Me.emptyPath(),Rc:!1,yc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Xx(t){const e=t._freezeSettings(),n=Fa(t._databaseId);return new Yx(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Jx(t,e,n,r,i,s={}){const a=t.bc(s.merge||s.mergeFields?2:0,e,n,i);yv("Data must be an object, but it was:",a,r);const l=mv(r,a);let c,d;if(s.merge)c=new Rt(a.fieldMask),d=a.fieldTransforms;else if(s.mergeFields){const g=[];for(const m of s.mergeFields){const y=Zx(e,m,n);if(!a.contains(y))throw new $(O.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);nS(g,y)||g.push(y)}c=new Rt(g),d=a.fieldTransforms.filter(m=>c.covers(m.field))}else c=null,d=a.fieldTransforms;return new Kx(new Ct(l),c,d)}function pv(t,e){if(gv(t=ds(t)))return yv("Unsupported field value:",e,t),mv(t,e);if(t instanceof cv)return function(r,i){if(!fv(i.Ic))throw i.gc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.gc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(r,i){const s=[];let a=0;for(const l of r){let c=pv(l,i.fc(a));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),a++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=ds(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return cT(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Pe.fromDate(r);return{timestampValue:Ju(i.serializer,s)}}if(r instanceof Pe){const s=new Pe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ju(i.serializer,s)}}if(r instanceof hv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof _s)return{bytesValue:xT(i.serializer,r._byteString)};if(r instanceof en){const s=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(s))throw i.gc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Gy(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof dv)return function(a,l){return{mapValue:{fields:{[Ty]:{stringValue:Sy},[Qu]:{arrayValue:{values:a.toArray().map(d=>{if(typeof d!="number")throw l.gc("VectorValues must only contain numeric values.");return fh(l.serializer,d)})}}}}}}(r,i);throw i.gc(`Unsupported field value: ${_h(r)}`)}(t,e)}function mv(t,e){const n={};return yy(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):si(t,(r,i)=>{const s=pv(i,e.Ac(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function gv(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Pe||t instanceof hv||t instanceof _s||t instanceof en||t instanceof cv||t instanceof dv)}function yv(t,e,n){if(!gv(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=_h(n);throw r==="an object"?e.gc(t+" a custom object"):e.gc(t+" "+r)}}function Zx(t,e,n){if((e=ds(e))instanceof uv)return e._internalPath;if(typeof e=="string")return tS(t,e);throw va("Field path arguments must be of type string or ",t,!1,void 0,n)}const eS=new RegExp("[~\\*/\\[\\]]");function tS(t,e,n){if(e.search(eS)>=0)throw va(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new uv(...e.split("."))._internalPath}catch{throw va(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function va(t,e,n,r,i){const s=r&&!r.isEmpty(),a=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(s||a)&&(c+=" (found",s&&(c+=` in field ${r}`),a&&(c+=` in document ${i}`),c+=")"),new $(O.INVALID_ARGUMENT,l+t+c)}function nS(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rS(t,e,n){let r;return r=t?t.toFirestore(e):e,r}function iS(t,e){const n=ov(t.firestore,lv),r=$x(t),i=rS(t.converter,e);return sS(n,[Jx(Xx(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Zt.exists(!1))]).then(()=>r)}function sS(t,e){return function(r,i){const s=new Jn;return r.asyncQueue.enqueueAndForget(async()=>Nx(await Ux(r),i,s)),s.promise}(Wx(t),e)}(function(e,n=!0){(function(i){ii=i})(sE),oa(new fs("firestore",(r,{instanceIdentifier:i,options:s})=>{const a=r.getProvider("app").getImmediate(),l=new lv(new EE(r.getProvider("auth-internal")),new SE(a,r.getProvider("app-check-internal")),function(d,g){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new $(O.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ca(d.options.projectId,g)}(a,i),a);return s=Object.assign({useFetchStreams:n},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),Fr(qf,Kf,e),Fr(qf,Kf,"esm2017")})();const oS={apiKey:"AIzaSyBpRkttEC-N9w587bW7phVf5ZwUfyoBlzE",authDomain:"d2c-simulator.firebaseapp.com",projectId:"d2c-simulator",storageBucket:"d2c-simulator.firebasestorage.app",messagingSenderId:"398498518727",appId:"1:398498518727:web:3a0ceee86cd4d2260dd0e2",measurementId:"G-Y6275YT8FB"},aS=sy(oS),lS=Gx(aS),uS=()=>{const{state:t,dispatch:e}=hr(),n=t.gameStatus==="won",r={win:["Victory achieved! You've hit your ₹10 Cr ARR quicker than relatives spot you at weddings to pitch rishtas. Thankfully, Clevrr AI managed your chaos, or you'd still be drowning in Excel hell.","Congratulations on building a $10M business! Your strategic decisions paid off. Jeff Bezos is willing to suck your dick.","Congrats! You've scaled faster than a street-side pani puri vendor in peak summer. VCs now slide into your DMs more than spammy marriage proposals on Shaadi.com."]},i={cash:["You've run out of cash faster than a Bangalore startup burns investor money. Now you're back selling chai at your local tapri, dodging judgmental aunties.","Bank account empty. Investors ghosted. You're reduced to haggling with autowalas for spare change, wondering if that MBA was worth it.","Cash gone quicker than your dignity at an Indian family wedding. Now you're freeloading on free Wi-Fi at CCD, joblessly updating LinkedIn.","You've got no cash and you're caught stealing chavannis from a local beggar who earns more than you, begging."],founderSanity:["Stress finally breaks you. You quit, shave your head, and retreat to the Himalayas, babbling incoherently about CAC, ROAS, and conversion funnels.","Founder burnout hits hard—you're now seen meditating outside a traffic signal, dispensing startup advice to uninterested Zomato riders.","Sanity depleted. You’re caught distributing pamphlets titled 'How Excel Sheets Stole My Soul' outside Connaught Place, Delhi.","Your sanity is gone, and now you're wandering the streets of Bangalore, muttering about 'synergies' and 'pivoting' to anyone who will listen."],employeeHappiness:["Your team abandoned ship quicker than Bangaloreans flee the city on a long weekend. You’re left alone, refreshing Slack like a desperate Tinder swipe.","Employees revolted and left you faster than Maggi cooks. You’re now solo manning customer support from your bathroom, crying softly.","Team quits en masse—you're now posting desperate 'Urgently Hiring Interns' notices at local chai stalls, paying them in exposure."],revenue:["Revenue dreams crushed harder than an IIT aspirant after JEE results. Now you're stuck attending cousin weddings, awkwardly explaining your 'startup experiment.'","Missed revenue targets hit you harder than an Indian mom’s flying chappal. You're living off mom’s dabbas again, desperately avoiding ‘settle down’ conversations.","Revenue shortfall hits brutally—you're last seen convincing Ola drivers to become your business partners, offering 50% equity for petrol money."],margins:["Margins tighter than your jeans after Diwali. You’re now selling homemade ladoos on Instagram, hoping to recoup losses.","Your margins are so low, you’re now offering free samples at local markets, trying to convince people that your brand is 'premium.'","Margins are in the red, and you're now seen hawking discount coupons outside malls, trying to salvage your dignity."]},s=()=>{e({type:"RESET_GAME"}),e({type:"START_GAME"})},a=async()=>{try{const l={brandName:t.brandName,metrics:t.metrics,questionHistory:t.questionHistory,gameStatus:t.gameStatus,timestamp:new Date};console.log(l);const c=await iS(Hx(lS,"gameResults"),l);console.log("Game data saved with ID:",c.id)}catch(l){console.error("Error saving game data:",l)}};return Se.useEffect(()=>{const l={brandName:t.brandName,metrics:t.metrics,questionHistory:t.questionHistory,gameStatus:t.gameStatus,timestamp:new Date};console.log(l),a()},[t.brandName,t.metrics,t.questionHistory,t.gameStatus]),A.jsxs("div",{className:"flex flex-col items-center justify-center px-4 py-8 text-center",children:[A.jsx("h2",{className:"pixel-text text-3xl mb-6",children:n?"🏆 Congratulations!":"💀 Game Over"}),A.jsxs("div",{className:"pixel-border p-6 max-w-2xl mb-8 bg-white",children:[A.jsx("h3",{className:"pixel-text text-2xl mb-6",children:n?r.win[Math.floor(Math.random()*r.win.length)]:t.metrics.cash<=0?i.cash[Math.floor(Math.random()*i.cash.length)]:t.metrics.founderSanity<=0?i.founderSanity[Math.floor(Math.random()*i.founderSanity.length)]:t.metrics.employeeHappiness<=0?i.employeeHappiness[Math.floor(Math.random()*i.employeeHappiness.length)]:t.metrics.revenue<=1e3?i.revenue[Math.floor(Math.random()*i.revenue.length)]:t.metrics.margins<10?i.margins[Math.floor(Math.random()*i.margins.length)]:"You made it through, but not without challenges. Reflect on your decisions and learn for next time."}),A.jsx("div",{className:"mb-6",children:A.jsx(Xc,{metrics:t.metrics})}),A.jsx("div",{className:"mb-6 pixel-text",children:A.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[A.jsx(hs,{onClick:s,className:"animate-pulse",children:n?"Play Again":"Try again?"}),A.jsx("a",{href:`https://wa.me/?text=${encodeURIComponent((n?"I built a $10M D2C brand in 12 months! Can you beat my score?":"I failed to build a successful D2C brand. Can you do better?")+" Check it out: https://getclevrr.com/d2c-simulator?utm-source=d2c-simulator&utm-medium=referral&utm-campaign=d2c-simulator")}`,target:"_blank",rel:"noopener noreferrer",className:"pixel-button bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600 transition-colors",children:"Share on WhatsApp"}),A.jsx("a",{href:`https://twitter.com/intent/tweet?text=${encodeURIComponent((n?"I built a $10M D2C brand in 12 months! Can you beat my score?":"I failed to build a successful D2C brand. Can you do better?")+" Check it out: https://d2c-simulator.com?utm-source=d2c-simulator&utm-medium=referral&utm-campaign=d2c-simulator")}`,target:"_blank",rel:"noopener noreferrer",className:"pixel-button bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-700 transition-colors",children:"Share on Twitter"}),A.jsx("button",{onClick:()=>{const d=`${n?"I built a $10M D2C brand in 12 months! Can you beat my score?":"I failed to build a successful D2C brand. Can you do better?"} Check it out: https://d2c-simulator.com?utm-source=d2c-simulator&utm-medium=referral&utm-campaign=d2c-simulator`;navigator.clipboard.writeText(d),alert("Results copied to clipboard! Share your journey with friends!")},className:"pixel-button bg-gray-700 text-white px-4 py-2 rounded hover:bg-gray-800 transition-colors",children:"Copy to Clipboard"})]})})]}),A.jsxs("div",{className:"pixel-border p-6 max-w-2xl mb-8 bg-blue-100",children:[A.jsx("h3",{className:"pixel-text text-xl mb-4",children:"Decision History"}),A.jsx("div",{className:"text-left max-h-60 overflow-y-auto",children:t.questionHistory.map((l,c)=>A.jsxs("div",{className:"mb-3 pb-3 border-b border-dashed border-gray-300",children:[A.jsx("p",{className:"pixel-text font-bold",children:l.question}),A.jsxs("p",{className:"pixel-text text-sm ml-4",children:["→ ",l.choice]})]},c))})]})]})},Op=()=>{const{state:t,getMonthName:e,getRemainingQuestionsForCurrentMonth:n,dispatch:r}=hr(),[i,s]=Se.useState(null),[a,l]=Se.useState(!1),[c,d]=Se.useState(t.currentMonth);Se.useEffect(()=>{const y=n();y.length>0?s(y[0]):t.currentMonth<12&&(d(t.currentMonth+1),l(!0))},[t.currentMonth,t.questionHistory]);const g=()=>{l(!1),r({type:"NEXT_MONTH"})},m=(y,R)=>{r({type:"ANSWER_QUESTION",payload:{question:y,choiceIndex:R}}),s(null)};return t.gameStatus==="won"||t.gameStatus==="lost"?A.jsx(uS,{}):A.jsxs("div",{className:"game-screen px-4 py-4",children:[a&&A.jsx(V_,{month:c,onTransitionComplete:g}),A.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-4 pixel-border p-3 bg-white",children:[A.jsxs("div",{className:"mb-3 md:mb-0",children:[A.jsxs("h2",{className:"pixel-text text-xl",children:[A.jsx("span",{className:"text-blue-600",children:t.brandName})," - ",e(t.currentMonth)]}),A.jsxs("div",{className:"pixel-text text-sm",children:["Goal: $10M Annual Revenue ($",(1e7/12).toFixed(0),"/month)"]})]}),A.jsx("div",{className:"w-full md:w-auto",children:A.jsx(Xc,{metrics:t.metrics,compact:!0})})]}),A.jsx("div",{className:"flex justify-center",children:i?A.jsx(D_,{question:i,onAnswer:y=>m(i,y)}):A.jsxs("div",{className:"pixel-border p-6 bg-white text-center",children:[A.jsx("p",{className:"pixel-text mb-4",children:"Processing your decision..."}),A.jsx("div",{className:"pixel-spinner"})]})})]})},cS=()=>{const{state:t}=hr(),e=()=>{switch(t.gameStatus){case"not-started":return A.jsx(A_,{});case"setup":return A.jsx(P_,{});case"in-progress":return A.jsx(Op,{});default:return A.jsx(Op,{})}};return A.jsx("div",{className:"min-h-screen",style:{background:"url(/d2c-startup-simulator/background.png)",backgroundSize:"cover",backgroundPosition:"bottom",backgroundRepeat:"no-repeat",backgroundAttachment:"fixed"},children:A.jsxs("div",{className:"container mx-auto",children:[A.jsxs("div",{className:"container bg-white text-blue-600 mx-auto rounded p-3 flex justify-between",children:[A.jsx("img",{src:"/d2c-startup-simulator/logo.png",alt:"Logo",className:"w-32 mr-2"}),A.jsxs("div",{className:"flex items-center",children:[A.jsx("h1",{className:"pixel-text text-4xl me-5 font-bold tracking-tight",children:"D2C Simulator"}),A.jsx("h1",{className:"pixel-text text-4xl me-5 font-bold tracking-tight",children:"|"}),A.jsx("h1",{className:"pixel-text text-4xl me-5 font-bold tracking-tight",children:A.jsx("a",{href:"https://getclevrr.com?utm_source=d2c_simulator&utm_medium=app&utm_campaign=game",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800",children:"Learn More"})})]})]}),e()]})})};function hS(){return A.jsx(I_,{children:A.jsx(cS,{})})}Kg(document.getElementById("root")).render(A.jsx(Se.StrictMode,{children:A.jsx(hS,{})}));
